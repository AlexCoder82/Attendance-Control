2019-12-28T09:37:57.0189567+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T09:37:57.0304352+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T09:37:57.0346064+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T09:37:57.0382910+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T09:37:57.0435297+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T09:40:26.8157179+01:00 0HLSBE6B4BONC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:40:26.8793239+01:00 0HLSBE6B4BONC:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:40:27.0151605+01:00 0HLSBE6B4BONC:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:40:27.4794973+01:00 0HLSBE6B4BONC:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:40:28.9638739+01:00 0HLSBE6B4BONC:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T09:40:29.0207482+01:00 0HLSBE6B4BONC:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:40:29.7016677+01:00 0HLSBE6B4BONC:00000001 [INF] Executed DbCommand ("64"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:40:29.9078531+01:00 0HLSBE6B4BONC:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:40:29.9693520+01:00 0HLSBE6B4BONC:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 2940.9381000000003ms (afa2e885)
2019-12-28T09:40:29.9755132+01:00 0HLSBE6B4BONC:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:40:29.9933538+01:00 0HLSBE6B4BONC:00000001 [INF] Request finished in 3183.4190000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:40:37.9392258+01:00 0HLSBE6B4BONC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T09:40:37.9456199+01:00 0HLSBE6B4BONC:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:40:37.9548339+01:00 0HLSBE6B4BONC:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:40:37.9614126+01:00 0HLSBE6B4BONC:00000002 [INF] Petición de listado de horarios (2489320f)
2019-12-28T09:40:38.0053500+01:00 0HLSBE6B4BONC:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:40:38.0639031+01:00 0HLSBE6B4BONC:00000002 [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T09:40:38.0857995+01:00 0HLSBE6B4BONC:00000002 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T09:40:38.0934251+01:00 0HLSBE6B4BONC:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:40:38.1002555+01:00 0HLSBE6B4BONC:00000002 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 140.8862ms (afa2e885)
2019-12-28T09:40:38.1038936+01:00 0HLSBE6B4BONC:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:40:38.1081103+01:00 0HLSBE6B4BONC:00000002 [INF] Request finished in 169.2382ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:40:38.1159374+01:00 0HLSBE6B4BONC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:40:38.1207997+01:00 0HLSBE6B4BONC:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:40:38.1250678+01:00 0HLSBE6B4BONC:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:40:38.1292876+01:00 0HLSBE6B4BONC:00000003 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:40:38.1413255+01:00 0HLSBE6B4BONC:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:40:38.1567776+01:00 0HLSBE6B4BONC:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:40:38.1635483+01:00 0HLSBE6B4BONC:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:40:38.1685171+01:00 0HLSBE6B4BONC:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 39.273700000000005ms (afa2e885)
2019-12-28T09:40:38.1735217+01:00 0HLSBE6B4BONC:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:40:38.1787695+01:00 0HLSBE6B4BONC:00000003 [INF] Request finished in 62.2635ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:40:43.1253554+01:00 0HLSBE6B4BONC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T09:40:43.1381111+01:00 0HLSBE6B4BONC:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:40:43.1436242+01:00 0HLSBE6B4BONC:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:40:43.1526649+01:00 0HLSBE6B4BONC:00000004 [INF] Petición de listado de horarios (2489320f)
2019-12-28T09:40:43.1595421+01:00 0HLSBE6B4BONC:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:40:43.1693664+01:00 0HLSBE6B4BONC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T09:40:43.1748424+01:00 0HLSBE6B4BONC:00000004 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T09:40:43.1797900+01:00 0HLSBE6B4BONC:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:40:43.1847231+01:00 0HLSBE6B4BONC:00000004 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 37.126200000000004ms (afa2e885)
2019-12-28T09:40:43.1887689+01:00 0HLSBE6B4BONC:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:40:43.1940077+01:00 0HLSBE6B4BONC:00000004 [INF] Request finished in 82.811ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:40:43.1988584+01:00 0HLSBE6B4BONC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:40:43.2033290+01:00 0HLSBE6B4BONC:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:40:43.2079483+01:00 0HLSBE6B4BONC:00000005 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:40:43.2157748+01:00 0HLSBE6B4BONC:00000005 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:40:43.2207710+01:00 0HLSBE6B4BONC:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:40:43.2373751+01:00 0HLSBE6B4BONC:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:40:43.2436323+01:00 0HLSBE6B4BONC:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:40:43.2489749+01:00 0HLSBE6B4BONC:00000005 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 36.0569ms (afa2e885)
2019-12-28T09:40:43.2531280+01:00 0HLSBE6B4BONC:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:40:43.2574127+01:00 0HLSBE6B4BONC:00000005 [INF] Request finished in 58.621500000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:42:04.5244690+01:00 0HLSBE6B4BOND:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:42:04.5283213+01:00 0HLSBE6B4BOND:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:42:04.5328344+01:00 0HLSBE6B4BOND:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:42:04.5407255+01:00 0HLSBE6B4BOND:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:42:04.5504723+01:00 0HLSBE6B4BOND:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:42:04.5900638+01:00 0HLSBE6B4BOND:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:42:04.5969956+01:00 0HLSBE6B4BOND:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:42:04.6025760+01:00 0HLSBE6B4BOND:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 65.3244ms (afa2e885)
2019-12-28T09:42:04.6065693+01:00 0HLSBE6B4BOND:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:42:04.6103633+01:00 0HLSBE6B4BOND:00000001 [INF] Request finished in 86.4633ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:42:07.7043593+01:00 0HLSBE6B4BOND:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=q   (ca22a1cb)
2019-12-28T09:42:07.7083474+01:00 0HLSBE6B4BOND:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:42:07.7296508+01:00 0HLSBE6B4BOND:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:42:07.7593382+01:00 0HLSBE6B4BOND:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:42:07.9071228+01:00 0HLSBE6B4BOND:00000002 [INF] Executed DbCommand ("22"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:42:07.9120562+01:00 0HLSBE6B4BOND:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:42:07.9166279+01:00 0HLSBE6B4BOND:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:42:07.9223743+01:00 0HLSBE6B4BOND:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 189.17680000000001ms (afa2e885)
2019-12-28T09:42:07.9256737+01:00 0HLSBE6B4BOND:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:42:07.9293447+01:00 0HLSBE6B4BOND:00000002 [INF] Request finished in 225.4223ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:42:08.9623350+01:00 0HLSBE6B4BOND:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:42:08.9674004+01:00 0HLSBE6B4BOND:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:42:08.9724798+01:00 0HLSBE6B4BOND:00000003 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:42:08.9809077+01:00 0HLSBE6B4BOND:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:42:09.0046301+01:00 0HLSBE6B4BOND:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:42:09.0634997+01:00 0HLSBE6B4BOND:00000003 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:42:09.0744848+01:00 0HLSBE6B4BOND:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:42:09.0907594+01:00 0HLSBE6B4BOND:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 112.96780000000001ms (afa2e885)
2019-12-28T09:42:09.0954718+01:00 0HLSBE6B4BOND:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:42:09.1013946+01:00 0HLSBE6B4BOND:00000003 [INF] Request finished in 137.4171ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:43:00.6174638+01:00 0HLSBE6B4BONE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:43:00.6219957+01:00 0HLSBE6B4BONE:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:43:00.6266337+01:00 0HLSBE6B4BONE:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:43:00.6326205+01:00 0HLSBE6B4BONE:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:43:00.6381281+01:00 0HLSBE6B4BONE:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:43:00.6479862+01:00 0HLSBE6B4BONE:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:43:00.6572318+01:00 0HLSBE6B4BONE:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:43:00.6654373+01:00 0HLSBE6B4BONE:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 31.748600000000003ms (afa2e885)
2019-12-28T09:43:00.6760552+01:00 0HLSBE6B4BONE:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:43:00.6831546+01:00 0HLSBE6B4BONE:00000001 [INF] Request finished in 62.925200000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:43:15.8919493+01:00 0HLSBE6B4BONF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:43:15.8972258+01:00 0HLSBE6B4BONF:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:43:15.9023378+01:00 0HLSBE6B4BONF:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:43:15.9085108+01:00 0HLSBE6B4BONF:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:43:15.9145266+01:00 0HLSBE6B4BONF:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:43:15.9251442+01:00 0HLSBE6B4BONF:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:43:15.9377943+01:00 0HLSBE6B4BONF:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:43:15.9477906+01:00 0HLSBE6B4BONF:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 37.0767ms (afa2e885)
2019-12-28T09:43:15.9574520+01:00 0HLSBE6B4BONF:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:43:15.9747419+01:00 0HLSBE6B4BONF:00000001 [INF] Request finished in 69.9959ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:43:31.5516533+01:00 0HLSBE6B4BONG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:43:31.5658936+01:00 0HLSBE6B4BONG:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:43:31.5878017+01:00 0HLSBE6B4BONG:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:43:31.5933766+01:00 0HLSBE6B4BONG:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:43:31.6098551+01:00 0HLSBE6B4BONG:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:43:31.6340486+01:00 0HLSBE6B4BONG:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:43:31.6455075+01:00 0HLSBE6B4BONG:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:43:31.6540624+01:00 0HLSBE6B4BONG:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 58.801100000000005ms (afa2e885)
2019-12-28T09:43:31.6625615+01:00 0HLSBE6B4BONG:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:43:31.6822113+01:00 0HLSBE6B4BONG:00000001 [INF] Request finished in 118.69300000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:43:33.8344701+01:00 0HLSBE6B4BONG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:43:33.8401165+01:00 0HLSBE6B4BONG:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:43:33.8485100+01:00 0HLSBE6B4BONG:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:43:33.8583515+01:00 0HLSBE6B4BONG:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:43:33.8702983+01:00 0HLSBE6B4BONG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:43:33.8757483+01:00 0HLSBE6B4BONG:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:43:33.8807708+01:00 0HLSBE6B4BONG:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:43:33.8886383+01:00 0HLSBE6B4BONG:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 33.525600000000004ms (afa2e885)
2019-12-28T09:43:33.8932706+01:00 0HLSBE6B4BONG:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:43:33.9018952+01:00 0HLSBE6B4BONG:00000002 [INF] Request finished in 71.61110000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:43:35.9001397+01:00 0HLSBE6B4BONG:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:43:35.9052201+01:00 0HLSBE6B4BONG:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:43:35.9164173+01:00 0HLSBE6B4BONG:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:43:35.9254511+01:00 0HLSBE6B4BONG:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:43:35.9336083+01:00 0HLSBE6B4BONG:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:43:35.9608001+01:00 0HLSBE6B4BONG:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:43:35.9662936+01:00 0HLSBE6B4BONG:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:43:35.9708821+01:00 0HLSBE6B4BONG:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 50.7353ms (afa2e885)
2019-12-28T09:43:35.9742954+01:00 0HLSBE6B4BONG:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:43:35.9788815+01:00 0HLSBE6B4BONG:00000003 [INF] Request finished in 99.9906ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:43:42.0515219+01:00 0HLSBE6B4BONG:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=3&subjectIds=4&subjectIds=5  0 (ca22a1cb)
2019-12-28T09:43:42.0555121+01:00 0HLSBE6B4BONG:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:43:42.0686661+01:00 0HLSBE6B4BONG:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:43:42.0916511+01:00 0HLSBE6B4BONG:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:43:42.1454705+01:00 0HLSBE6B4BONG:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:43:42.1517316+01:00 0HLSBE6B4BONG:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:43:42.1629464+01:00 0HLSBE6B4BONG:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:43:42.1697312+01:00 0HLSBE6B4BONG:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:43:42.1760324+01:00 0HLSBE6B4BONG:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:43:42.1818201+01:00 0HLSBE6B4BONG:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:43:42.4576571+01:00 0HLSBE6B4BONG:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 385.40770000000003ms (afa2e885)
2019-12-28T09:43:42.4613630+01:00 0HLSBE6B4BONG:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:43:42.8832722+01:00 0HLSBE6B4BONG:00000004 [ERR] Connection id ""0HLSBE6B4BONG"", Request id ""0HLSBE6B4BONG:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: The instance of entity type 'StudentSubjectEntity' cannot be tracked because another instance with the same key value for {'StudentId', 'SubjectId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigation navigation)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AttendanceControl.API.DataAccess.Repositories.StudentRepository.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.DataAccess\Repositories\StudentRepository.cs:line 273
   at AttendanceControl.API.Application.Services.StudentService.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 89
   at AttendanceControl.API.Controllers.StudentController.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T09:43:42.8909388+01:00 0HLSBE6B4BONG:00000004 [INF] Request finished in 836.2144000000001ms 500  (791a596a)
2019-12-28T09:44:19.8456456+01:00 0HLSBE6B4BONG:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=3&subjectIds=4&subjectIds=5  0 (ca22a1cb)
2019-12-28T09:44:19.8507447+01:00 0HLSBE6B4BONG:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:44:19.8552735+01:00 0HLSBE6B4BONG:00000005 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:44:19.8631030+01:00 0HLSBE6B4BONG:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:44:19.8809614+01:00 0HLSBE6B4BONG:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:44:19.8887499+01:00 0HLSBE6B4BONG:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:44:19.9215765+01:00 0HLSBE6B4BONG:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:19.9591613+01:00 0HLSBE6B4BONG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:19.9691230+01:00 0HLSBE6B4BONG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:19.9789660+01:00 0HLSBE6B4BONG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:20.1820844+01:00 0HLSBE6B4BONG:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 323.0751ms (afa2e885)
2019-12-28T09:44:20.1872641+01:00 0HLSBE6B4BONG:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:44:20.2057619+01:00 0HLSBE6B4BONG:00000005 [ERR] Connection id ""0HLSBE6B4BONG"", Request id ""0HLSBE6B4BONG:00000005"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: The instance of entity type 'StudentSubjectEntity' cannot be tracked because another instance with the same key value for {'StudentId', 'SubjectId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigation navigation)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AttendanceControl.API.DataAccess.Repositories.StudentRepository.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.DataAccess\Repositories\StudentRepository.cs:line 273
   at AttendanceControl.API.Application.Services.StudentService.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 89
   at AttendanceControl.API.Controllers.StudentController.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T09:44:20.2213467+01:00 0HLSBE6B4BONG:00000005 [INF] Request finished in 363.6469ms 500  (791a596a)
2019-12-28T09:44:25.2875941+01:00 0HLSBE6B4BONG:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:44:25.2925680+01:00 0HLSBE6B4BONG:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:44:25.2973880+01:00 0HLSBE6B4BONG:00000006 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:44:25.3034526+01:00 0HLSBE6B4BONG:00000006 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:44:25.3085943+01:00 0HLSBE6B4BONG:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:44:25.3166369+01:00 0HLSBE6B4BONG:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:44:25.3211590+01:00 0HLSBE6B4BONG:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:44:25.3253919+01:00 0HLSBE6B4BONG:00000006 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 24.697300000000002ms (afa2e885)
2019-12-28T09:44:25.3288195+01:00 0HLSBE6B4BONG:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:44:25.3328523+01:00 0HLSBE6B4BONG:00000006 [INF] Request finished in 47.353100000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:44:31.1329664+01:00 0HLSBE6B4BONG:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=3&subjectIds=5  0 (ca22a1cb)
2019-12-28T09:44:31.1363166+01:00 0HLSBE6B4BONG:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:44:31.1399311+01:00 0HLSBE6B4BONG:00000007 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:44:31.1461566+01:00 0HLSBE6B4BONG:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:44:31.1541331+01:00 0HLSBE6B4BONG:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:44:31.1584845+01:00 0HLSBE6B4BONG:00000007 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:44:31.1641974+01:00 0HLSBE6B4BONG:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:31.1699977+01:00 0HLSBE6B4BONG:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:31.1763311+01:00 0HLSBE6B4BONG:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:44:31.4500698+01:00 0HLSBE6B4BONG:00000007 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 306.53040000000004ms (afa2e885)
2019-12-28T09:44:31.4548252+01:00 0HLSBE6B4BONG:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:44:31.4731870+01:00 0HLSBE6B4BONG:00000007 [ERR] Connection id ""0HLSBE6B4BONG"", Request id ""0HLSBE6B4BONG:00000007"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: The instance of entity type 'StudentSubjectEntity' cannot be tracked because another instance with the same key value for {'StudentId', 'SubjectId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigation navigation)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AttendanceControl.API.DataAccess.Repositories.StudentRepository.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.DataAccess\Repositories\StudentRepository.cs:line 273
   at AttendanceControl.API.Application.Services.StudentService.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 89
   at AttendanceControl.API.Controllers.StudentController.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T09:44:31.4833592+01:00 0HLSBE6B4BONG:00000007 [INF] Request finished in 344.2918ms 500  (791a596a)
2019-12-28T09:44:53.5028923+01:00 0HLSBE6B4BONG:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:44:53.5068263+01:00 0HLSBE6B4BONG:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:44:53.5105746+01:00 0HLSBE6B4BONG:00000008 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:44:53.5160982+01:00 0HLSBE6B4BONG:00000008 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:44:53.5199789+01:00 0HLSBE6B4BONG:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:44:53.5411990+01:00 0HLSBE6B4BONG:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:44:53.5455757+01:00 0HLSBE6B4BONG:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:44:53.5501111+01:00 0HLSBE6B4BONG:00000008 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 35.438ms (afa2e885)
2019-12-28T09:44:53.5540666+01:00 0HLSBE6B4BONG:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:44:53.5585402+01:00 0HLSBE6B4BONG:00000008 [INF] Request finished in 54.987700000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:44:57.8613834+01:00 0HLSBE6B4BONG:00000009 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects  0 (ca22a1cb)
2019-12-28T09:44:57.8659898+01:00 0HLSBE6B4BONG:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:44:57.8699431+01:00 0HLSBE6B4BONG:00000009 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:44:57.9568204+01:00 0HLSBE6B4BONG:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:44:57.9650722+01:00 0HLSBE6B4BONG:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:44:57.9700026+01:00 0HLSBE6B4BONG:00000009 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:44:57.9938233+01:00 0HLSBE6B4BONG:00000009 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:44:57.9976612+01:00 0HLSBE6B4BONG:00000009 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:44:58.0020005+01:00 0HLSBE6B4BONG:00000009 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 128.4995ms (afa2e885)
2019-12-28T09:44:58.0055339+01:00 0HLSBE6B4BONG:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:44:58.0092139+01:00 0HLSBE6B4BONG:00000009 [INF] Request finished in 148.28660000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:28.0150625+01:00 0HLSBE6B4BONH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:45:28.0239010+01:00 0HLSBE6B4BONH:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:28.0285602+01:00 0HLSBE6B4BONH:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:28.0332881+01:00 0HLSBE6B4BONH:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:45:28.0387236+01:00 0HLSBE6B4BONH:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:28.0539093+01:00 0HLSBE6B4BONH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:45:28.0602688+01:00 0HLSBE6B4BONH:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:45:28.0662920+01:00 0HLSBE6B4BONH:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 33.830600000000004ms (afa2e885)
2019-12-28T09:45:28.0707952+01:00 0HLSBE6B4BONH:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:28.0770448+01:00 0HLSBE6B4BONH:00000001 [INF] Request finished in 63.475300000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:32.6629034+01:00 0HLSBE6B4BONH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:45:32.6665966+01:00 0HLSBE6B4BONH:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:32.6712509+01:00 0HLSBE6B4BONH:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:32.6771934+01:00 0HLSBE6B4BONH:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:32.6876387+01:00 0HLSBE6B4BONH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:45:32.6924046+01:00 0HLSBE6B4BONH:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:45:32.6967971+01:00 0HLSBE6B4BONH:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:45:32.7015235+01:00 0HLSBE6B4BONH:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 26.3294ms (afa2e885)
2019-12-28T09:45:32.7051507+01:00 0HLSBE6B4BONH:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:32.7090742+01:00 0HLSBE6B4BONH:00000002 [INF] Request finished in 45.8812ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:34.1419432+01:00 0HLSBE6B4BONH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:45:34.1459520+01:00 0HLSBE6B4BONH:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:34.1497048+01:00 0HLSBE6B4BONH:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:34.1553745+01:00 0HLSBE6B4BONH:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:45:34.1593273+01:00 0HLSBE6B4BONH:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:34.1666106+01:00 0HLSBE6B4BONH:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:45:34.1721548+01:00 0HLSBE6B4BONH:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:45:34.1763755+01:00 0HLSBE6B4BONH:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 23.2954ms (afa2e885)
2019-12-28T09:45:34.1798410+01:00 0HLSBE6B4BONH:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:34.1838527+01:00 0HLSBE6B4BONH:00000003 [INF] Request finished in 43.5599ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:39.4958328+01:00 0HLSBE6B4BONH:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects  0 (ca22a1cb)
2019-12-28T09:45:39.4992355+01:00 0HLSBE6B4BONH:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:39.5027559+01:00 0HLSBE6B4BONH:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:39.5082563+01:00 0HLSBE6B4BONH:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:39.5163728+01:00 0HLSBE6B4BONH:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:45:39.5207688+01:00 0HLSBE6B4BONH:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:45:39.5259532+01:00 0HLSBE6B4BONH:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:45:39.5300002+01:00 0HLSBE6B4BONH:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:45:39.5340860+01:00 0HLSBE6B4BONH:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 27.7177ms (afa2e885)
2019-12-28T09:45:39.5374954+01:00 0HLSBE6B4BONH:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:39.5449354+01:00 0HLSBE6B4BONH:00000004 [INF] Request finished in 45.4989ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:41.3678365+01:00 0HLSBE6B4BONH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:45:41.3759902+01:00 0HLSBE6B4BONH:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:41.3808801+01:00 0HLSBE6B4BONH:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:41.3852103+01:00 0HLSBE6B4BONH:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:45:41.3913921+01:00 0HLSBE6B4BONH:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:41.3995813+01:00 0HLSBE6B4BONH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:45:41.4051589+01:00 0HLSBE6B4BONH:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:45:41.4093347+01:00 0HLSBE6B4BONH:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 24.8675ms (afa2e885)
2019-12-28T09:45:41.4128430+01:00 0HLSBE6B4BONH:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:41.4176389+01:00 0HLSBE6B4BONH:00000005 [INF] Request finished in 51.315200000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:45.4892111+01:00 0HLSBE6B4BONH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:45:45.4934886+01:00 0HLSBE6B4BONH:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:45.4970949+01:00 0HLSBE6B4BONH:00000006 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:45.5020145+01:00 0HLSBE6B4BONH:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:45.5118050+01:00 0HLSBE6B4BONH:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:45:45.5160360+01:00 0HLSBE6B4BONH:00000006 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:45:45.5194465+01:00 0HLSBE6B4BONH:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:45:45.5235816+01:00 0HLSBE6B4BONH:00000006 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 22.648200000000003ms (afa2e885)
2019-12-28T09:45:45.5265999+01:00 0HLSBE6B4BONH:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:45.5303242+01:00 0HLSBE6B4BONH:00000006 [INF] Request finished in 41.5778ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:45:47.0473817+01:00 0HLSBE6B4BONH:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:45:47.0519444+01:00 0HLSBE6B4BONH:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:45:47.0555474+01:00 0HLSBE6B4BONH:00000007 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:45:47.0619274+01:00 0HLSBE6B4BONH:00000007 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:45:47.0680798+01:00 0HLSBE6B4BONH:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:45:47.0756824+01:00 0HLSBE6B4BONH:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:45:47.0813774+01:00 0HLSBE6B4BONH:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:45:47.0884898+01:00 0HLSBE6B4BONH:00000007 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 26.6173ms (afa2e885)
2019-12-28T09:45:47.0919773+01:00 0HLSBE6B4BONH:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:45:47.0966376+01:00 0HLSBE6B4BONH:00000007 [INF] Request finished in 50.0606ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:46:19.2308681+01:00 0HLSBE6B4BONI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:46:19.2343825+01:00 0HLSBE6B4BONI:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:46:19.2383280+01:00 0HLSBE6B4BONI:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:46:19.2539455+01:00 0HLSBE6B4BONI:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:46:19.2602961+01:00 0HLSBE6B4BONI:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:46:19.2748080+01:00 0HLSBE6B4BONI:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:46:19.2809803+01:00 0HLSBE6B4BONI:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:46:19.2858106+01:00 0HLSBE6B4BONI:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 43.3125ms (afa2e885)
2019-12-28T09:46:19.2943344+01:00 0HLSBE6B4BONI:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:46:19.3031723+01:00 0HLSBE6B4BONI:00000001 [INF] Request finished in 67.0971ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:46:24.1045438+01:00 0HLSBE6B4BONI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:46:24.1095491+01:00 0HLSBE6B4BONI:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:46:24.1133111+01:00 0HLSBE6B4BONI:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:46:24.1187431+01:00 0HLSBE6B4BONI:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:46:24.1283945+01:00 0HLSBE6B4BONI:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:46:24.1328711+01:00 0HLSBE6B4BONI:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:46:24.1368238+01:00 0HLSBE6B4BONI:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:46:24.1467484+01:00 0HLSBE6B4BONI:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 24.1005ms (afa2e885)
2019-12-28T09:46:24.1564997+01:00 0HLSBE6B4BONI:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:46:24.1601305+01:00 0HLSBE6B4BONI:00000002 [INF] Request finished in 60.1492ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:46:26.9321306+01:00 0HLSBE6B4BONI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:46:26.9367926+01:00 0HLSBE6B4BONI:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:46:26.9414891+01:00 0HLSBE6B4BONI:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:46:26.9478109+01:00 0HLSBE6B4BONI:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:46:26.9531034+01:00 0HLSBE6B4BONI:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:46:26.9608918+01:00 0HLSBE6B4BONI:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:46:26.9649641+01:00 0HLSBE6B4BONI:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:46:26.9695569+01:00 0HLSBE6B4BONI:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 23.9801ms (afa2e885)
2019-12-28T09:46:26.9727207+01:00 0HLSBE6B4BONI:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:46:26.9770189+01:00 0HLSBE6B4BONI:00000003 [INF] Request finished in 46.584900000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:46:29.1775782+01:00 0HLSBE6B4BONI:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=5  0 (ca22a1cb)
2019-12-28T09:46:29.1812405+01:00 0HLSBE6B4BONI:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:46:29.1846872+01:00 0HLSBE6B4BONI:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:46:29.1903038+01:00 0HLSBE6B4BONI:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:46:29.1969318+01:00 0HLSBE6B4BONI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:46:29.2009096+01:00 0HLSBE6B4BONI:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:46:29.2137612+01:00 0HLSBE6B4BONI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:46:29.3593166+01:00 0HLSBE6B4BONI:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 171.3223ms (afa2e885)
2019-12-28T09:46:29.3628271+01:00 0HLSBE6B4BONI:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:46:29.3757864+01:00 0HLSBE6B4BONI:00000004 [ERR] Connection id ""0HLSBE6B4BONI"", Request id ""0HLSBE6B4BONI:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: The instance of entity type 'StudentSubjectEntity' cannot be tracked because another instance with the same key value for {'StudentId', 'SubjectId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigation navigation)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AttendanceControl.API.DataAccess.Repositories.StudentRepository.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.DataAccess\Repositories\StudentRepository.cs:line 273
   at AttendanceControl.API.Application.Services.StudentService.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 89
   at AttendanceControl.API.Controllers.StudentController.UpdateSubjects(Int32 studentId, Int32[] subjectIds) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T09:46:29.3799019+01:00 0HLSBE6B4BONI:00000004 [INF] Request finished in 201.8305ms 500  (791a596a)
2019-12-28T09:49:42.0373045+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T09:49:42.0484987+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T09:49:42.0527657+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T09:49:42.0574417+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T09:49:42.0614171+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T09:49:47.1209946+01:00 0HLSBEBI5BT78:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=5  0 (ca22a1cb)
2019-12-28T09:49:47.1755439+01:00 0HLSBEBI5BT78:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:49:47.2722468+01:00 0HLSBEBI5BT78:00000001 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:49:48.8289009+01:00 0HLSBEBI5BT78:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T09:49:48.8794072+01:00 0HLSBEBI5BT78:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:49:49.6260778+01:00 0HLSBEBI5BT78:00000001 [INF] Executed DbCommand ("87"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:49:49.8412124+01:00 0HLSBEBI5BT78:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:49:49.8766776+01:00 0HLSBEBI5BT78:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:49:49.8883269+01:00 0HLSBEBI5BT78:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:49:50.0946223+01:00 0HLSBEBI5BT78:00000001 [INF] Executed DbCommand ("18"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:49:50.1137565+01:00 0HLSBEBI5BT78:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:49:50.2683628+01:00 0HLSBEBI5BT78:00000001 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:49:50.2873042+01:00 0HLSBEBI5BT78:00000001 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:49:50.3427665+01:00 0HLSBEBI5BT78:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 3056.1135ms (afa2e885)
2019-12-28T09:49:50.3485576+01:00 0HLSBEBI5BT78:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:49:50.3636469+01:00 0HLSBEBI5BT78:00000001 [INF] Request finished in 3249.3744ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:49:54.1336933+01:00 0HLSBEBI5BT78:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:49:54.1405986+01:00 0HLSBEBI5BT78:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:49:54.1509944+01:00 0HLSBEBI5BT78:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:49:54.1631198+01:00 0HLSBEBI5BT78:00000002 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:49:54.2221545+01:00 0HLSBEBI5BT78:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:49:54.3641282+01:00 0HLSBEBI5BT78:00000002 [INF] Executed DbCommand ("114"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:49:54.3756609+01:00 0HLSBEBI5BT78:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:49:54.3879085+01:00 0HLSBEBI5BT78:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 227.46450000000002ms (afa2e885)
2019-12-28T09:49:54.3952710+01:00 0HLSBEBI5BT78:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:49:54.4046071+01:00 0HLSBEBI5BT78:00000002 [INF] Request finished in 266.44190000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:49:58.3707990+01:00 0HLSBEBI5BT78:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects  0 (ca22a1cb)
2019-12-28T09:49:58.3777788+01:00 0HLSBEBI5BT78:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:49:58.3849762+01:00 0HLSBEBI5BT78:00000003 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:49:58.4008299+01:00 0HLSBEBI5BT78:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:49:58.5652421+01:00 0HLSBEBI5BT78:00000003 [INF] Executed DbCommand ("150"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:49:58.5784025+01:00 0HLSBEBI5BT78:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:49:58.6203747+01:00 0HLSBEBI5BT78:00000003 [INF] Executed DbCommand ("20"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:49:58.6335064+01:00 0HLSBEBI5BT78:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:49:58.8714099+01:00 0HLSBEBI5BT78:00000003 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:49:58.8821941+01:00 0HLSBEBI5BT78:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:49:58.9044627+01:00 0HLSBEBI5BT78:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 505.1378ms (afa2e885)
2019-12-28T09:49:58.9093107+01:00 0HLSBEBI5BT78:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:49:58.9194564+01:00 0HLSBEBI5BT78:00000003 [INF] Request finished in 546.1568ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:50:02.1439573+01:00 0HLSBEBI5BT78:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:50:02.1510970+01:00 0HLSBEBI5BT78:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:50:02.1554550+01:00 0HLSBEBI5BT78:00000004 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:50:02.1620709+01:00 0HLSBEBI5BT78:00000004 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:50:02.1668257+01:00 0HLSBEBI5BT78:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:50:02.1766404+01:00 0HLSBEBI5BT78:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:50:02.1824052+01:00 0HLSBEBI5BT78:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:50:02.1871777+01:00 0HLSBEBI5BT78:00000004 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 28.152800000000003ms (afa2e885)
2019-12-28T09:50:02.1909541+01:00 0HLSBEBI5BT78:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:50:02.1967737+01:00 0HLSBEBI5BT78:00000004 [INF] Request finished in 55.8718ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:32.2272650+01:00 0HLSBEBI5BT79:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:51:32.2320343+01:00 0HLSBEBI5BT79:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:32.2470963+01:00 0HLSBEBI5BT79:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:32.2542284+01:00 0HLSBEBI5BT79:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:51:32.2639240+01:00 0HLSBEBI5BT79:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:32.4545681+01:00 0HLSBEBI5BT79:00000001 [INF] Executed DbCommand ("143"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:51:32.4758627+01:00 0HLSBEBI5BT79:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:32.4817928+01:00 0HLSBEBI5BT79:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 230.32860000000002ms (afa2e885)
2019-12-28T09:51:32.4855531+01:00 0HLSBEBI5BT79:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:32.4910445+01:00 0HLSBEBI5BT79:00000001 [INF] Request finished in 264.0778ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:34.6088217+01:00 0HLSBEBI5BT79:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T09:51:34.6149395+01:00 0HLSBEBI5BT79:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:34.6396712+01:00 0HLSBEBI5BT79:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:34.6501527+01:00 0HLSBEBI5BT79:00000002 [INF] Petición de listado de horarios (2489320f)
2019-12-28T09:51:34.6590239+01:00 0HLSBEBI5BT79:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:34.7032127+01:00 0HLSBEBI5BT79:00000002 [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T09:51:34.7242046+01:00 0HLSBEBI5BT79:00000002 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T09:51:34.7328518+01:00 0HLSBEBI5BT79:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:34.7382886+01:00 0HLSBEBI5BT79:00000002 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 95.4068ms (afa2e885)
2019-12-28T09:51:34.7417378+01:00 0HLSBEBI5BT79:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:34.7456429+01:00 0HLSBEBI5BT79:00000002 [INF] Request finished in 138.8802ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:34.7598699+01:00 0HLSBEBI5BT79:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:51:34.7636730+01:00 0HLSBEBI5BT79:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:34.7678343+01:00 0HLSBEBI5BT79:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:34.7723302+01:00 0HLSBEBI5BT79:00000003 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:51:34.7768232+01:00 0HLSBEBI5BT79:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:34.7924680+01:00 0HLSBEBI5BT79:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:51:34.7981685+01:00 0HLSBEBI5BT79:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:34.8027805+01:00 0HLSBEBI5BT79:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 31.270400000000002ms (afa2e885)
2019-12-28T09:51:34.8068091+01:00 0HLSBEBI5BT79:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:34.8113553+01:00 0HLSBEBI5BT79:00000003 [INF] Request finished in 52.050000000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:37.8198182+01:00 0HLSBEBI5BT79:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:51:37.8235794+01:00 0HLSBEBI5BT79:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:37.8324149+01:00 0HLSBEBI5BT79:00000004 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:37.8445114+01:00 0HLSBEBI5BT79:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:37.9138800+01:00 0HLSBEBI5BT79:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:51:37.9204841+01:00 0HLSBEBI5BT79:00000004 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:51:37.9259583+01:00 0HLSBEBI5BT79:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:37.9317495+01:00 0HLSBEBI5BT79:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 95.132ms (afa2e885)
2019-12-28T09:51:37.9361532+01:00 0HLSBEBI5BT79:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:37.9410835+01:00 0HLSBEBI5BT79:00000004 [INF] Request finished in 121.1657ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:39.2219001+01:00 0HLSBEBI5BT79:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:51:39.2299236+01:00 0HLSBEBI5BT79:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:39.2374976+01:00 0HLSBEBI5BT79:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:39.2475238+01:00 0HLSBEBI5BT79:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:51:39.2535589+01:00 0HLSBEBI5BT79:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:39.2726427+01:00 0HLSBEBI5BT79:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:51:39.2793753+01:00 0HLSBEBI5BT79:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:39.2840819+01:00 0HLSBEBI5BT79:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 42.709ms (afa2e885)
2019-12-28T09:51:39.2881484+01:00 0HLSBEBI5BT79:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:39.2927165+01:00 0HLSBEBI5BT79:00000005 [INF] Request finished in 76.3022ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:42.9109734+01:00 0HLSBEBI5BT79:00000006 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=5  0 (ca22a1cb)
2019-12-28T09:51:42.9144856+01:00 0HLSBEBI5BT79:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:42.9187283+01:00 0HLSBEBI5BT79:00000006 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:42.9257060+01:00 0HLSBEBI5BT79:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:42.9343761+01:00 0HLSBEBI5BT79:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:51:42.9390257+01:00 0HLSBEBI5BT79:00000006 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:51:42.9447207+01:00 0HLSBEBI5BT79:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:51:42.9791754+01:00 0HLSBEBI5BT79:00000006 [INF] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:51:43.0799998+01:00 0HLSBEBI5BT79:00000006 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:51:43.0851184+01:00 0HLSBEBI5BT79:00000006 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:51:43.0913611+01:00 0HLSBEBI5BT79:00000006 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 167.0059ms (afa2e885)
2019-12-28T09:51:43.0953420+01:00 0HLSBEBI5BT79:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:43.1042249+01:00 0HLSBEBI5BT79:00000006 [INF] Request finished in 188.23690000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:44.8907752+01:00 0HLSBEBI5BT79:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:51:44.8961377+01:00 0HLSBEBI5BT79:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:44.9038173+01:00 0HLSBEBI5BT79:00000007 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:44.9086765+01:00 0HLSBEBI5BT79:00000007 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:51:44.9136549+01:00 0HLSBEBI5BT79:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:44.9248841+01:00 0HLSBEBI5BT79:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:51:44.9309581+01:00 0HLSBEBI5BT79:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:44.9359275+01:00 0HLSBEBI5BT79:00000007 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 28.225800000000003ms (afa2e885)
2019-12-28T09:51:44.9397399+01:00 0HLSBEBI5BT79:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:44.9454783+01:00 0HLSBEBI5BT79:00000007 [INF] Request finished in 56.4559ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:53.6239747+01:00 0HLSBEBI5BT79:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:51:53.6305396+01:00 0HLSBEBI5BT79:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:53.6390599+01:00 0HLSBEBI5BT79:00000008 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:53.6457494+01:00 0HLSBEBI5BT79:00000008 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:51:53.6522676+01:00 0HLSBEBI5BT79:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:53.6626396+01:00 0HLSBEBI5BT79:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:51:53.6687332+01:00 0HLSBEBI5BT79:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:51:53.6742438+01:00 0HLSBEBI5BT79:00000008 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 30.895000000000003ms (afa2e885)
2019-12-28T09:51:53.6780542+01:00 0HLSBEBI5BT79:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:53.6839746+01:00 0HLSBEBI5BT79:00000008 [INF] Request finished in 66.6049ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:51:57.0241574+01:00 0HLSBEBI5BT79:00000009 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=3  0 (ca22a1cb)
2019-12-28T09:51:57.0281256+01:00 0HLSBEBI5BT79:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:51:57.0320972+01:00 0HLSBEBI5BT79:00000009 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:51:57.0387115+01:00 0HLSBEBI5BT79:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:51:57.0479716+01:00 0HLSBEBI5BT79:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:51:57.0541443+01:00 0HLSBEBI5BT79:00000009 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:51:57.0635000+01:00 0HLSBEBI5BT79:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:51:57.1047124+01:00 0HLSBEBI5BT79:00000009 [INF] Executed DbCommand ("27"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:51:57.1206503+01:00 0HLSBEBI5BT79:00000009 [INF] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:51:57.2482160+01:00 0HLSBEBI5BT79:00000009 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:51:57.2527487+01:00 0HLSBEBI5BT79:00000009 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:51:57.2573004+01:00 0HLSBEBI5BT79:00000009 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 221.4584ms (afa2e885)
2019-12-28T09:51:57.2611210+01:00 0HLSBEBI5BT79:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:51:57.2675119+01:00 0HLSBEBI5BT79:00000009 [INF] Request finished in 241.4172ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:54:33.2244607+01:00 0HLSBEBI5BT7A:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:54:33.2318692+01:00 0HLSBEBI5BT7A:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:54:33.2371690+01:00 0HLSBEBI5BT7A:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:54:33.2432804+01:00 0HLSBEBI5BT7A:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:54:33.2486791+01:00 0HLSBEBI5BT7A:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:54:33.2579655+01:00 0HLSBEBI5BT7A:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:54:33.2650735+01:00 0HLSBEBI5BT7A:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:54:33.2703696+01:00 0HLSBEBI5BT7A:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 28.780700000000003ms (afa2e885)
2019-12-28T09:54:33.2746523+01:00 0HLSBEBI5BT7A:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:54:33.2940758+01:00 0HLSBEBI5BT7A:00000001 [INF] Request finished in 55.726600000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:54:36.3177445+01:00 0HLSBEBI5BT7A:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:54:36.3232274+01:00 0HLSBEBI5BT7A:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:54:36.3282931+01:00 0HLSBEBI5BT7A:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:54:36.3346030+01:00 0HLSBEBI5BT7A:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:54:36.3551659+01:00 0HLSBEBI5BT7A:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:54:36.3607056+01:00 0HLSBEBI5BT7A:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:54:36.3653450+01:00 0HLSBEBI5BT7A:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:54:36.3702142+01:00 0HLSBEBI5BT7A:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 37.6986ms (afa2e885)
2019-12-28T09:54:36.3741308+01:00 0HLSBEBI5BT7A:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:54:36.3783729+01:00 0HLSBEBI5BT7A:00000002 [INF] Request finished in 63.467200000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:54:37.6135798+01:00 0HLSBEBI5BT7A:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:54:37.6191098+01:00 0HLSBEBI5BT7A:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:54:37.6249587+01:00 0HLSBEBI5BT7A:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:54:37.6307602+01:00 0HLSBEBI5BT7A:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:54:37.6357492+01:00 0HLSBEBI5BT7A:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:54:37.6446203+01:00 0HLSBEBI5BT7A:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:54:37.6494297+01:00 0HLSBEBI5BT7A:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:54:37.6617703+01:00 0HLSBEBI5BT7A:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 25.0368ms (afa2e885)
2019-12-28T09:54:37.6676533+01:00 0HLSBEBI5BT7A:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:54:37.6718432+01:00 0HLSBEBI5BT7A:00000003 [INF] Request finished in 73.4568ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:54:40.0852681+01:00 0HLSBEBI5BT7A:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=3&subjectIds=4  0 (ca22a1cb)
2019-12-28T09:54:40.0890449+01:00 0HLSBEBI5BT7A:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:54:40.0928794+01:00 0HLSBEBI5BT7A:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:54:40.0985226+01:00 0HLSBEBI5BT7A:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:54:40.1146906+01:00 0HLSBEBI5BT7A:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:54:40.1196507+01:00 0HLSBEBI5BT7A:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:54:40.1400745+01:00 0HLSBEBI5BT7A:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:54:40.1479185+01:00 0HLSBEBI5BT7A:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:54:40.1845016+01:00 0HLSBEBI5BT7A:00000004 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:54:40.2858199+01:00 0HLSBEBI5BT7A:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:54:40.2918357+01:00 0HLSBEBI5BT7A:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:54:40.2985817+01:00 0HLSBEBI5BT7A:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 199.94230000000002ms (afa2e885)
2019-12-28T09:54:40.3031548+01:00 0HLSBEBI5BT7A:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:54:40.3111765+01:00 0HLSBEBI5BT7A:00000004 [INF] Request finished in 221.67680000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:54:41.8906114+01:00 0HLSBEBI5BT7A:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:54:41.8960683+01:00 0HLSBEBI5BT7A:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:54:41.9003877+01:00 0HLSBEBI5BT7A:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:54:41.9065573+01:00 0HLSBEBI5BT7A:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:54:41.9111594+01:00 0HLSBEBI5BT7A:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:54:41.9263418+01:00 0HLSBEBI5BT7A:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:54:41.9312529+01:00 0HLSBEBI5BT7A:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:54:41.9355219+01:00 0HLSBEBI5BT7A:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 31.436ms (afa2e885)
2019-12-28T09:54:41.9386829+01:00 0HLSBEBI5BT7A:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:54:41.9437102+01:00 0HLSBEBI5BT7A:00000005 [INF] Request finished in 53.2162ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:56:06.4262771+01:00 0HLSBEBI5BT7B:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:56:06.4341214+01:00 0HLSBEBI5BT7B:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:56:06.4624149+01:00 0HLSBEBI5BT7B:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:56:06.4690881+01:00 0HLSBEBI5BT7B:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:56:06.4745278+01:00 0HLSBEBI5BT7B:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:56:06.4951834+01:00 0HLSBEBI5BT7B:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:56:06.5012194+01:00 0HLSBEBI5BT7B:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:56:06.5106273+01:00 0HLSBEBI5BT7B:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 40.007200000000005ms (afa2e885)
2019-12-28T09:56:06.5149935+01:00 0HLSBEBI5BT7B:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:56:06.5201904+01:00 0HLSBEBI5BT7B:00000001 [INF] Request finished in 94.4865ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:56:08.3119765+01:00 0HLSBEBI5BT7B:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:56:08.3216759+01:00 0HLSBEBI5BT7B:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:56:08.3302706+01:00 0HLSBEBI5BT7B:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:56:08.3359246+01:00 0HLSBEBI5BT7B:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:56:08.3498284+01:00 0HLSBEBI5BT7B:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:56:08.3586841+01:00 0HLSBEBI5BT7B:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:56:08.3629565+01:00 0HLSBEBI5BT7B:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:56:08.3673344+01:00 0HLSBEBI5BT7B:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 33.3651ms (afa2e885)
2019-12-28T09:56:08.3715483+01:00 0HLSBEBI5BT7B:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:56:08.3760481+01:00 0HLSBEBI5BT7B:00000002 [INF] Request finished in 69.1733ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:56:09.5940772+01:00 0HLSBEBI5BT7B:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:56:09.5982847+01:00 0HLSBEBI5BT7B:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:56:09.6034640+01:00 0HLSBEBI5BT7B:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:56:09.6085323+01:00 0HLSBEBI5BT7B:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:56:09.6133073+01:00 0HLSBEBI5BT7B:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:56:09.6302247+01:00 0HLSBEBI5BT7B:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:56:09.6358829+01:00 0HLSBEBI5BT7B:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:56:09.6411138+01:00 0HLSBEBI5BT7B:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 33.200900000000004ms (afa2e885)
2019-12-28T09:56:09.6453023+01:00 0HLSBEBI5BT7B:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:56:09.6572297+01:00 0HLSBEBI5BT7B:00000003 [INF] Request finished in 60.4658ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:56:13.0187669+01:00 0HLSBEBI5BT7B:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=3&subjectIds=4&subjectIds=5&subjectIds=6  0 (ca22a1cb)
2019-12-28T09:56:13.0227336+01:00 0HLSBEBI5BT7B:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:56:13.0276257+01:00 0HLSBEBI5BT7B:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:56:13.0337202+01:00 0HLSBEBI5BT7B:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:56:13.0397921+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:56:13.0444189+01:00 0HLSBEBI5BT7B:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:56:13.0493104+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:56:13.0595228+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:56:13.0669809+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:56:13.0749239+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:56:13.1084537+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("25"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:56:13.1129197+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:56:13.2520460+01:00 0HLSBEBI5BT7B:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:56:13.2558977+01:00 0HLSBEBI5BT7B:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:56:13.2601434+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 229.1434ms (afa2e885)
2019-12-28T09:56:13.2642377+01:00 0HLSBEBI5BT7B:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:56:13.2749295+01:00 0HLSBEBI5BT7B:00000004 [INF] Request finished in 249.03400000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:57:04.3924237+01:00 0HLSBEBI5BT7C:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:57:04.3990726+01:00 0HLSBEBI5BT7C:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:57:04.4041125+01:00 0HLSBEBI5BT7C:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:57:04.4092912+01:00 0HLSBEBI5BT7C:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:57:04.4155095+01:00 0HLSBEBI5BT7C:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:57:04.4279158+01:00 0HLSBEBI5BT7C:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:57:04.4345670+01:00 0HLSBEBI5BT7C:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:57:04.4479286+01:00 0HLSBEBI5BT7C:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 31.5501ms (afa2e885)
2019-12-28T09:57:04.4524041+01:00 0HLSBEBI5BT7C:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:57:04.4683748+01:00 0HLSBEBI5BT7C:00000001 [INF] Request finished in 80.9415ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:57:10.7438255+01:00 0HLSBEBI5BT7C:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:57:10.7514809+01:00 0HLSBEBI5BT7C:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:57:10.7587284+01:00 0HLSBEBI5BT7C:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:57:10.7644512+01:00 0HLSBEBI5BT7C:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:57:10.7744846+01:00 0HLSBEBI5BT7C:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:57:10.7793644+01:00 0HLSBEBI5BT7C:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:57:10.7831756+01:00 0HLSBEBI5BT7C:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:57:10.7873653+01:00 0HLSBEBI5BT7C:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 25.0986ms (afa2e885)
2019-12-28T09:57:10.7910175+01:00 0HLSBEBI5BT7C:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:57:10.7946873+01:00 0HLSBEBI5BT7C:00000002 [INF] Request finished in 56.1403ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:57:12.1733273+01:00 0HLSBEBI5BT7C:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:57:12.1779277+01:00 0HLSBEBI5BT7C:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:57:12.1828469+01:00 0HLSBEBI5BT7C:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:57:12.1886744+01:00 0HLSBEBI5BT7C:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:57:12.1930580+01:00 0HLSBEBI5BT7C:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:57:12.2002036+01:00 0HLSBEBI5BT7C:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:57:12.2042387+01:00 0HLSBEBI5BT7C:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:57:12.2083970+01:00 0HLSBEBI5BT7C:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 22.0212ms (afa2e885)
2019-12-28T09:57:12.2122016+01:00 0HLSBEBI5BT7C:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:57:12.2162823+01:00 0HLSBEBI5BT7C:00000003 [INF] Request finished in 44.3001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:57:16.5194716+01:00 0HLSBEBI5BT7C:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=5&subjectIds=6  0 (ca22a1cb)
2019-12-28T09:57:16.5228550+01:00 0HLSBEBI5BT7C:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:57:16.5267260+01:00 0HLSBEBI5BT7C:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:57:16.5312980+01:00 0HLSBEBI5BT7C:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:57:16.5393309+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:57:16.5434586+01:00 0HLSBEBI5BT7C:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:57:16.5581187+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:57:16.5745465+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:57:16.6063390+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:57:16.6118144+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:57:16.6869764+01:00 0HLSBEBI5BT7C:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:57:16.6924532+01:00 0HLSBEBI5BT7C:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:57:16.6976075+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 166.6432ms (afa2e885)
2019-12-28T09:57:16.7020914+01:00 0HLSBEBI5BT7C:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:57:16.7091974+01:00 0HLSBEBI5BT7C:00000004 [INF] Request finished in 186.2041ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:57:17.5814476+01:00 0HLSBEBI5BT7C:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:57:17.5916567+01:00 0HLSBEBI5BT7C:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:57:17.5973267+01:00 0HLSBEBI5BT7C:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:57:17.6028998+01:00 0HLSBEBI5BT7C:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:57:17.6066431+01:00 0HLSBEBI5BT7C:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:57:17.6133131+01:00 0HLSBEBI5BT7C:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:57:17.6171002+01:00 0HLSBEBI5BT7C:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:57:17.6215162+01:00 0HLSBEBI5BT7C:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 20.336000000000002ms (afa2e885)
2019-12-28T09:57:17.6250923+01:00 0HLSBEBI5BT7C:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:57:17.6296335+01:00 0HLSBEBI5BT7C:00000005 [INF] Request finished in 52.113600000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:58:01.8853140+01:00 0HLSBEBI5BT7D:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:58:01.8916840+01:00 0HLSBEBI5BT7D:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:58:01.9004426+01:00 0HLSBEBI5BT7D:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:58:01.9046244+01:00 0HLSBEBI5BT7D:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:58:01.9089284+01:00 0HLSBEBI5BT7D:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:58:01.9212071+01:00 0HLSBEBI5BT7D:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:58:01.9291133+01:00 0HLSBEBI5BT7D:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:58:01.9370632+01:00 0HLSBEBI5BT7D:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 29.063200000000002ms (afa2e885)
2019-12-28T09:58:01.9483380+01:00 0HLSBEBI5BT7D:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:58:01.9558259+01:00 0HLSBEBI5BT7D:00000001 [INF] Request finished in 74.0344ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:58:04.3383336+01:00 0HLSBEBI5BT7D:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:58:04.3431920+01:00 0HLSBEBI5BT7D:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:58:04.3533696+01:00 0HLSBEBI5BT7D:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:58:04.3597342+01:00 0HLSBEBI5BT7D:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:58:04.3698265+01:00 0HLSBEBI5BT7D:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:58:04.3751736+01:00 0HLSBEBI5BT7D:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:58:04.3795114+01:00 0HLSBEBI5BT7D:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:58:04.3846700+01:00 0HLSBEBI5BT7D:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 26.747300000000003ms (afa2e885)
2019-12-28T09:58:04.3885503+01:00 0HLSBEBI5BT7D:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:58:04.3926495+01:00 0HLSBEBI5BT7D:00000002 [INF] Request finished in 59.7847ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:58:05.5837991+01:00 0HLSBEBI5BT7D:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:58:05.5926898+01:00 0HLSBEBI5BT7D:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:58:05.5982985+01:00 0HLSBEBI5BT7D:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:58:05.6057636+01:00 0HLSBEBI5BT7D:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:58:05.6101792+01:00 0HLSBEBI5BT7D:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:58:05.6219048+01:00 0HLSBEBI5BT7D:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:58:05.6265380+01:00 0HLSBEBI5BT7D:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:58:05.6316411+01:00 0HLSBEBI5BT7D:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 28.997700000000002ms (afa2e885)
2019-12-28T09:58:05.6375255+01:00 0HLSBEBI5BT7D:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:58:05.6428615+01:00 0HLSBEBI5BT7D:00000003 [INF] Request finished in 60.7768ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:58:10.6272073+01:00 0HLSBEBI5BT7D:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=3&subjectIds=4&subjectIds=5&subjectIds=6  0 (ca22a1cb)
2019-12-28T09:58:10.6304374+01:00 0HLSBEBI5BT7D:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:58:10.6339245+01:00 0HLSBEBI5BT7D:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:58:10.6389217+01:00 0HLSBEBI5BT7D:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:58:10.6526058+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:58:10.6568326+01:00 0HLSBEBI5BT7D:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:58:10.6640680+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:58:10.6710837+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:58:10.6776954+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:58:10.6909062+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:58:10.7031846+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:58:10.7348922+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("23"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:58:10.7402951+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:58:10.7454727+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:58:10.8752253+01:00 0HLSBEBI5BT7D:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:58:10.8792699+01:00 0HLSBEBI5BT7D:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:58:10.8836970+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 246.15210000000002ms (afa2e885)
2019-12-28T09:58:10.8874558+01:00 0HLSBEBI5BT7D:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:58:10.8962919+01:00 0HLSBEBI5BT7D:00000004 [INF] Request finished in 264.0522ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:58:18.5375633+01:00 0HLSBEBI5BT7D:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:58:18.5415134+01:00 0HLSBEBI5BT7D:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:58:18.5456282+01:00 0HLSBEBI5BT7D:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:58:18.5504744+01:00 0HLSBEBI5BT7D:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:58:18.5545630+01:00 0HLSBEBI5BT7D:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:58:18.5613210+01:00 0HLSBEBI5BT7D:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:58:18.5665175+01:00 0HLSBEBI5BT7D:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:58:18.5712892+01:00 0HLSBEBI5BT7D:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 21.203500000000002ms (afa2e885)
2019-12-28T09:58:18.5745399+01:00 0HLSBEBI5BT7D:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:58:18.5782444+01:00 0HLSBEBI5BT7D:00000005 [INF] Request finished in 42.2688ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:15.1410352+01:00 0HLSBEBI5BT7E:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:59:15.1453718+01:00 0HLSBEBI5BT7E:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:15.1508167+01:00 0HLSBEBI5BT7E:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:15.1577545+01:00 0HLSBEBI5BT7E:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:59:15.1622924+01:00 0HLSBEBI5BT7E:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:15.1715407+01:00 0HLSBEBI5BT7E:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:59:15.1773703+01:00 0HLSBEBI5BT7E:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:15.1833155+01:00 0HLSBEBI5BT7E:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 27.285ms (afa2e885)
2019-12-28T09:59:15.1886182+01:00 0HLSBEBI5BT7E:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:15.2019653+01:00 0HLSBEBI5BT7E:00000001 [INF] Request finished in 51.7183ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:17.9344480+01:00 0HLSBEBI5BT7E:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T09:59:17.9391811+01:00 0HLSBEBI5BT7E:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:17.9443258+01:00 0HLSBEBI5BT7E:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:17.9519365+01:00 0HLSBEBI5BT7E:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:17.9634992+01:00 0HLSBEBI5BT7E:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T09:59:17.9709445+01:00 0HLSBEBI5BT7E:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T09:59:17.9750003+01:00 0HLSBEBI5BT7E:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:17.9831059+01:00 0HLSBEBI5BT7E:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 30.8811ms (afa2e885)
2019-12-28T09:59:17.9893144+01:00 0HLSBEBI5BT7E:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:17.9946996+01:00 0HLSBEBI5BT7E:00000002 [INF] Request finished in 65.5748ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:19.1937470+01:00 0HLSBEBI5BT7E:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:59:19.1983014+01:00 0HLSBEBI5BT7E:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:19.2020468+01:00 0HLSBEBI5BT7E:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:19.2069727+01:00 0HLSBEBI5BT7E:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:59:19.2106727+01:00 0HLSBEBI5BT7E:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:19.2182499+01:00 0HLSBEBI5BT7E:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:59:19.2224131+01:00 0HLSBEBI5BT7E:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:19.2269796+01:00 0HLSBEBI5BT7E:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 20.7273ms (afa2e885)
2019-12-28T09:59:19.2310522+01:00 0HLSBEBI5BT7E:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:19.2351042+01:00 0HLSBEBI5BT7E:00000003 [INF] Request finished in 41.6445ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:24.1336157+01:00 0HLSBEBI5BT7E:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=4&subjectIds=5&subjectIds=6  0 (ca22a1cb)
2019-12-28T09:59:24.1370182+01:00 0HLSBEBI5BT7E:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:24.1406949+01:00 0HLSBEBI5BT7E:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:24.1454080+01:00 0HLSBEBI5BT7E:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:24.1598451+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:59:24.1641931+01:00 0HLSBEBI5BT7E:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:59:24.1763040+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:24.1821188+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:24.1878246+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:24.2040018+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:59:24.2080469+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T09:59:24.3299055+01:00 0HLSBEBI5BT7E:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:59:24.3396516+01:00 0HLSBEBI5BT7E:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:59:24.3463147+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 199.5886ms (afa2e885)
2019-12-28T09:59:24.3500445+01:00 0HLSBEBI5BT7E:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:24.3599702+01:00 0HLSBEBI5BT7E:00000004 [INF] Request finished in 219.81390000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:25.6703463+01:00 0HLSBEBI5BT7E:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:59:25.6743271+01:00 0HLSBEBI5BT7E:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:25.6780989+01:00 0HLSBEBI5BT7E:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:25.6825926+01:00 0HLSBEBI5BT7E:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:59:25.6862265+01:00 0HLSBEBI5BT7E:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:25.6925661+01:00 0HLSBEBI5BT7E:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:59:25.6962246+01:00 0HLSBEBI5BT7E:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:25.7001222+01:00 0HLSBEBI5BT7E:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 18.392500000000002ms (afa2e885)
2019-12-28T09:59:25.7034109+01:00 0HLSBEBI5BT7E:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:25.7078506+01:00 0HLSBEBI5BT7E:00000005 [INF] Request finished in 37.1938ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:30.4768274+01:00 0HLSBEBI5BT7E:00000006 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=3&subjectIds=4&subjectIds=5&subjectIds=6  0 (ca22a1cb)
2019-12-28T09:59:30.4814859+01:00 0HLSBEBI5BT7E:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:30.4860597+01:00 0HLSBEBI5BT7E:00000006 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:30.4917955+01:00 0HLSBEBI5BT7E:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:30.5007767+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T09:59:30.5054251+01:00 0HLSBEBI5BT7E:00000006 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T09:59:30.5116164+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:30.5181171+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:30.5244838+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:30.5308834+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:30.5372591+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T09:59:30.5679668+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:59:30.5734286+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T09:59:30.7163987+01:00 0HLSBEBI5BT7E:00000006 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T09:59:30.7210188+01:00 0HLSBEBI5BT7E:00000006 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T09:59:30.7256614+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 235.54420000000002ms (afa2e885)
2019-12-28T09:59:30.7303933+01:00 0HLSBEBI5BT7E:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:30.7407906+01:00 0HLSBEBI5BT7E:00000006 [INF] Request finished in 258.43260000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:31.4755788+01:00 0HLSBEBI5BT7E:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T09:59:31.4836195+01:00 0HLSBEBI5BT7E:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:31.4880545+01:00 0HLSBEBI5BT7E:00000007 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:31.4923169+01:00 0HLSBEBI5BT7E:00000007 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T09:59:31.4967600+01:00 0HLSBEBI5BT7E:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:31.5037796+01:00 0HLSBEBI5BT7E:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T09:59:31.5076730+01:00 0HLSBEBI5BT7E:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:31.5117763+01:00 0HLSBEBI5BT7E:00000007 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 19.8782ms (afa2e885)
2019-12-28T09:59:31.5157910+01:00 0HLSBEBI5BT7E:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:31.5198346+01:00 0HLSBEBI5BT7E:00000007 [INF] Request finished in 47.0703ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:39.9295043+01:00 0HLSBEBI5BT7E:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T09:59:39.9343218+01:00 0HLSBEBI5BT7E:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:39.9388344+01:00 0HLSBEBI5BT7E:00000008 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:39.9435521+01:00 0HLSBEBI5BT7E:00000008 [INF] Petición de listado de horarios (2489320f)
2019-12-28T09:59:39.9482157+01:00 0HLSBEBI5BT7E:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:39.9553232+01:00 0HLSBEBI5BT7E:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T09:59:39.9600104+01:00 0HLSBEBI5BT7E:00000008 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T09:59:39.9644116+01:00 0HLSBEBI5BT7E:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:39.9684347+01:00 0HLSBEBI5BT7E:00000008 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 26.050900000000002ms (afa2e885)
2019-12-28T09:59:39.9722125+01:00 0HLSBEBI5BT7E:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:39.9764966+01:00 0HLSBEBI5BT7E:00000008 [INF] Request finished in 47.0679ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:39.9838535+01:00 0HLSBEBI5BT7E:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:59:39.9878531+01:00 0HLSBEBI5BT7E:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:39.9922329+01:00 0HLSBEBI5BT7E:00000009 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:39.9969599+01:00 0HLSBEBI5BT7E:00000009 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:59:40.0030222+01:00 0HLSBEBI5BT7E:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:40.0149589+01:00 0HLSBEBI5BT7E:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:59:40.0219252+01:00 0HLSBEBI5BT7E:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:40.0277934+01:00 0HLSBEBI5BT7E:00000009 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 30.587200000000003ms (afa2e885)
2019-12-28T09:59:40.0338855+01:00 0HLSBEBI5BT7E:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:40.0388784+01:00 0HLSBEBI5BT7E:00000009 [INF] Request finished in 54.5595ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:40.2674101+01:00 0HLSBEBI5BT7E:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/teachers   (ca22a1cb)
2019-12-28T09:59:40.2714804+01:00 0HLSBEBI5BT7E:0000000A [INF] Executing endpoint '"AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:40.2839319+01:00 0HLSBEBI5BT7E:0000000A [INF] Route matched with "{action = \"GetALL\", controller = \"Teacher\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.TeacherController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:40.2909543+01:00 0HLSBEBI5BT7E:0000000A [INF] Petición de listado deprofesores recibida (65ac107c)
2019-12-28T09:59:40.3030158+01:00 0HLSBEBI5BT7E:0000000A [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:40.3964079+01:00 0HLSBEBI5BT7E:0000000A [INF] Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id` AS `Id`, `p`.`dni` AS `Dni`, `p`.`firstname` AS `FirstName`, `p`.`lastname1` AS `LastName1`, `p`.`lastname2` AS `LastName2`
FROM `teacher` AS `t`
INNER JOIN `person_data` AS `p` ON `t`.`person_data_id` = `p`.`id`" (0723d8ff)
2019-12-28T09:59:40.4023941+01:00 0HLSBEBI5BT7E:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Teacher, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:40.4097028+01:00 0HLSBEBI5BT7E:0000000A [INF] Executed action "AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)" in 121.3546ms (afa2e885)
2019-12-28T09:59:40.4137681+01:00 0HLSBEBI5BT7E:0000000A [INF] Executed endpoint '"AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:40.4222995+01:00 0HLSBEBI5BT7E:0000000A [INF] Request finished in 150.41750000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:40.9770050+01:00 0HLSBEBI5BT7E:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/teachers   (ca22a1cb)
2019-12-28T09:59:40.9810190+01:00 0HLSBEBI5BT7E:0000000B [INF] Executing endpoint '"AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:40.9852074+01:00 0HLSBEBI5BT7E:0000000B [INF] Route matched with "{action = \"GetALL\", controller = \"Teacher\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.TeacherController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:40.9903609+01:00 0HLSBEBI5BT7E:0000000B [INF] Petición de listado deprofesores recibida (65ac107c)
2019-12-28T09:59:40.9950774+01:00 0HLSBEBI5BT7E:0000000B [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:41.0049149+01:00 0HLSBEBI5BT7E:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id` AS `Id`, `p`.`dni` AS `Dni`, `p`.`firstname` AS `FirstName`, `p`.`lastname1` AS `LastName1`, `p`.`lastname2` AS `LastName2`
FROM `teacher` AS `t`
INNER JOIN `person_data` AS `p` ON `t`.`person_data_id` = `p`.`id`" (0723d8ff)
2019-12-28T09:59:41.0098180+01:00 0HLSBEBI5BT7E:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Teacher, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:41.0152833+01:00 0HLSBEBI5BT7E:0000000B [INF] Executed action "AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)" in 24.876800000000003ms (afa2e885)
2019-12-28T09:59:41.0204256+01:00 0HLSBEBI5BT7E:0000000B [INF] Executed endpoint '"AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:41.0249257+01:00 0HLSBEBI5BT7E:0000000B [INF] Request finished in 47.770700000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:41.3814679+01:00 0HLSBEBI5BT7E:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects   (ca22a1cb)
2019-12-28T09:59:41.3853715+01:00 0HLSBEBI5BT7E:0000000C [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:41.3936693+01:00 0HLSBEBI5BT7E:0000000C [INF] Route matched with "{action = \"GetAllIncludingAssignedTeacher\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllIncludingAssignedTeacher()" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:41.3988580+01:00 0HLSBEBI5BT7E:0000000C [INF] Petición de listado de asignaturas recibida (ea283cf1)
2019-12-28T09:59:41.4056194+01:00 0HLSBEBI5BT7E:0000000C [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:41.4605314+01:00 0HLSBEBI5BT7E:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`, `t`.`id`, `t`.`password`, `t`.`person_data_id`, `t`.`username`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`
FROM `subject` AS `s`
LEFT JOIN `teacher` AS `t` ON `s`.`teacher_id` = `t`.`id`
LEFT JOIN `person_data` AS `p` ON `t`.`person_data_id` = `p`.`id`
ORDER BY `s`.`name`" (0723d8ff)
2019-12-28T09:59:41.4748012+01:00 0HLSBEBI5BT7E:0000000C [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:41.4789809+01:00 0HLSBEBI5BT7E:0000000C [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)" in 81.5625ms (afa2e885)
2019-12-28T09:59:41.4828757+01:00 0HLSBEBI5BT7E:0000000C [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:41.4870627+01:00 0HLSBEBI5BT7E:0000000C [INF] Request finished in 106.0664ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T09:59:41.7875497+01:00 0HLSBEBI5BT7E:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T09:59:41.7928020+01:00 0HLSBEBI5BT7E:0000000D [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T09:59:41.7979802+01:00 0HLSBEBI5BT7E:0000000D [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T09:59:41.8018098+01:00 0HLSBEBI5BT7E:0000000D [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T09:59:41.8060592+01:00 0HLSBEBI5BT7E:0000000D [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T09:59:41.8133076+01:00 0HLSBEBI5BT7E:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T09:59:41.8175105+01:00 0HLSBEBI5BT7E:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T09:59:41.8214415+01:00 0HLSBEBI5BT7E:0000000D [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 19.8689ms (afa2e885)
2019-12-28T09:59:41.8248367+01:00 0HLSBEBI5BT7E:0000000D [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T09:59:41.8281022+01:00 0HLSBEBI5BT7E:0000000D [INF] Request finished in 40.776700000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:04.0273697+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:27:04.0503384+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:27:04.0672566+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:27:04.0959729+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:27:04.1123757+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:27:06.0074250+01:00 0HLSBF0D8KQ0V:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T10:27:06.4259288+01:00 0HLSBF0D8KQ0V:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:06.5440374+01:00 0HLSBF0D8KQ0V:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:07.3506642+01:00 0HLSBF0D8KQ10:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:27:07.3591147+01:00 0HLSBF0D8KQ10:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:07.3802992+01:00 0HLSBF0D8KQ10:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:07.7557091+01:00 0HLSBF0D8KQ0V:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T10:27:09.5312886+01:00 0HLSBF0D8KQ10:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:27:09.5679987+01:00 0HLSBF0D8KQ0V:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:09.5682731+01:00 0HLSBF0D8KQ10:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:10.2774195+01:00 0HLSBF0D8KQ10:00000001 [INF] Executed DbCommand ("67"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:27:10.2774168+01:00 0HLSBF0D8KQ0V:00000001 [INF] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T10:27:10.4889986+01:00 0HLSBF0D8KQ10:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:27:10.5145689+01:00 0HLSBF0D8KQ10:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:27:10.5147953+01:00 0HLSBF0D8KQ0V:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:27:10.5651555+01:00 0HLSBF0D8KQ0V:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 4001.3665ms (afa2e885)
2019-12-28T10:27:10.5651449+01:00 0HLSBF0D8KQ10:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 3165.9516000000003ms (afa2e885)
2019-12-28T10:27:10.5727138+01:00 0HLSBF0D8KQ10:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:10.5741020+01:00 0HLSBF0D8KQ0V:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:10.5938822+01:00 0HLSBF0D8KQ0V:00000001 [INF] Request finished in 4589.0557ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:10.5939483+01:00 0HLSBF0D8KQ10:00000001 [INF] Request finished in 3237.0894000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:12.6407155+01:00 0HLSBF0D8KQ0V:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:27:12.6450982+01:00 0HLSBF0D8KQ0V:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:12.6548668+01:00 0HLSBF0D8KQ0V:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:12.6620385+01:00 0HLSBF0D8KQ0V:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:27:12.7133896+01:00 0HLSBF0D8KQ0V:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:12.7484726+01:00 0HLSBF0D8KQ0V:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:27:12.7549509+01:00 0HLSBF0D8KQ0V:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:27:12.7654418+01:00 0HLSBF0D8KQ0V:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:27:12.7710248+01:00 0HLSBF0D8KQ0V:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:27:12.7778209+01:00 0HLSBF0D8KQ0V:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 117.35170000000001ms (afa2e885)
2019-12-28T10:27:12.7827930+01:00 0HLSBF0D8KQ0V:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:12.7886984+01:00 0HLSBF0D8KQ0V:00000002 [INF] Request finished in 147.1617ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:14.0823559+01:00 0HLSBF0D8KQ0V:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:27:14.0867948+01:00 0HLSBF0D8KQ0V:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:14.0962030+01:00 0HLSBF0D8KQ0V:00000003 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:14.1090255+01:00 0HLSBF0D8KQ0V:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:14.1614044+01:00 0HLSBF0D8KQ0V:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:27:14.1678311+01:00 0HLSBF0D8KQ0V:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:27:14.3747499+01:00 0HLSBF0D8KQ0V:00000003 [INF] Executed DbCommand ("46"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:27:14.5003742+01:00 0HLSBF0D8KQ0V:00000003 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:27:14.5044217+01:00 0HLSBF0D8KQ0V:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:27:14.5092973+01:00 0HLSBF0D8KQ0V:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 409.1893ms (afa2e885)
2019-12-28T10:27:14.5135864+01:00 0HLSBF0D8KQ0V:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:14.5227385+01:00 0HLSBF0D8KQ0V:00000003 [INF] Request finished in 435.6569ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:19.8861012+01:00 0HLSBF0D8KQ0V:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:27:19.8921740+01:00 0HLSBF0D8KQ0V:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:19.8980965+01:00 0HLSBF0D8KQ0V:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:19.9043540+01:00 0HLSBF0D8KQ0V:00000004 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:27:19.9095050+01:00 0HLSBF0D8KQ0V:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:19.9228798+01:00 0HLSBF0D8KQ0V:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:27:19.9283311+01:00 0HLSBF0D8KQ0V:00000004 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:27:19.9321373+01:00 0HLSBF0D8KQ0V:00000004 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:27:19.9362025+01:00 0HLSBF0D8KQ0V:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:27:19.9416074+01:00 0HLSBF0D8KQ0V:00000004 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 38.780100000000004ms (afa2e885)
2019-12-28T10:27:19.9464026+01:00 0HLSBF0D8KQ0V:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:19.9523487+01:00 0HLSBF0D8KQ0V:00000004 [INF] Request finished in 74.2583ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:23.7175829+01:00 0HLSBF0D8KQ0V:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T10:27:23.7247576+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:23.7364102+01:00 0HLSBF0D8KQ0V:00000005 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:23.7519117+01:00 0HLSBF0D8KQ0V:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:23.7635628+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:27:23.7702219+01:00 0HLSBF0D8KQ0V:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:27:23.7858622+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:27:23.8060293+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:27:23.8479683+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed DbCommand ("30"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:27:23.9083472+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed DbCommand ("15"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:27:24.0646761+01:00 0HLSBF0D8KQ0V:00000005 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:27:24.0704937+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:27:24.0761217+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 335.24150000000003ms (afa2e885)
2019-12-28T10:27:24.0885787+01:00 0HLSBF0D8KQ0V:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:24.0993044+01:00 0HLSBF0D8KQ0V:00000005 [INF] Request finished in 377.064ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:27:58.7878664+01:00 0HLSBF0D8KQ0V:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:27:58.7972408+01:00 0HLSBF0D8KQ0V:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:27:58.8112666+01:00 0HLSBF0D8KQ0V:00000006 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:27:58.8239137+01:00 0HLSBF0D8KQ0V:00000006 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:27:58.8336656+01:00 0HLSBF0D8KQ0V:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:27:58.8720929+01:00 0HLSBF0D8KQ0V:00000006 [INF] Executed DbCommand ("26"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:27:58.8824149+01:00 0HLSBF0D8KQ0V:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:27:58.8885248+01:00 0HLSBF0D8KQ0V:00000006 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 72.51870000000001ms (afa2e885)
2019-12-28T10:27:58.8927154+01:00 0HLSBF0D8KQ0V:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:27:58.8976675+01:00 0HLSBF0D8KQ0V:00000006 [INF] Request finished in 120.7185ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:28:37.7963191+01:00 0HLSBF0D8KQ0V:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:28:37.7999055+01:00 0HLSBF0D8KQ0V:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:28:37.8033885+01:00 0HLSBF0D8KQ0V:00000007 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:28:37.8100478+01:00 0HLSBF0D8KQ0V:00000007 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:28:37.8155265+01:00 0HLSBF0D8KQ0V:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:28:37.8331417+01:00 0HLSBF0D8KQ0V:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:28:37.8409172+01:00 0HLSBF0D8KQ0V:00000007 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:28:37.8453091+01:00 0HLSBF0D8KQ0V:00000007 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:28:37.8507778+01:00 0HLSBF0D8KQ0V:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:28:37.8597937+01:00 0HLSBF0D8KQ0V:00000007 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 48.9626ms (afa2e885)
2019-12-28T10:28:37.8640516+01:00 0HLSBF0D8KQ0V:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:28:37.8688245+01:00 0HLSBF0D8KQ0V:00000007 [INF] Request finished in 95.6181ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:28:38.5009294+01:00 0HLSBF0D8KQ0V:00000008 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:28:38.5044446+01:00 0HLSBF0D8KQ0V:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:28:38.5090347+01:00 0HLSBF0D8KQ0V:00000008 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:28:38.5152762+01:00 0HLSBF0D8KQ0V:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:28:38.5317370+01:00 0HLSBF0D8KQ0V:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:28:38.5365557+01:00 0HLSBF0D8KQ0V:00000008 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:28:38.5457154+01:00 0HLSBF0D8KQ0V:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:28:38.7317749+01:00 0HLSBF0D8KQ0V:00000008 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:28:38.7424136+01:00 0HLSBF0D8KQ0V:00000008 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:28:38.7505316+01:00 0HLSBF0D8KQ0V:00000008 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 237.121ms (afa2e885)
2019-12-28T10:28:38.7541097+01:00 0HLSBF0D8KQ0V:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:28:38.7629920+01:00 0HLSBF0D8KQ0V:00000008 [INF] Request finished in 257.8843ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:28:39.9018016+01:00 0HLSBF0D8KQ0V:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:28:39.9078101+01:00 0HLSBF0D8KQ0V:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:28:39.9123615+01:00 0HLSBF0D8KQ0V:00000009 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:28:39.9167926+01:00 0HLSBF0D8KQ0V:00000009 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:28:39.9215966+01:00 0HLSBF0D8KQ0V:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:28:39.9503152+01:00 0HLSBF0D8KQ0V:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:28:39.9548826+01:00 0HLSBF0D8KQ0V:00000009 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:28:39.9588092+01:00 0HLSBF0D8KQ0V:00000009 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:28:39.9634243+01:00 0HLSBF0D8KQ0V:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:28:39.9677259+01:00 0HLSBF0D8KQ0V:00000009 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 52.1239ms (afa2e885)
2019-12-28T10:28:39.9710060+01:00 0HLSBF0D8KQ0V:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:28:39.9753774+01:00 0HLSBF0D8KQ0V:00000009 [INF] Request finished in 79.5022ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:28:41.2638032+01:00 0HLSBF0D8KQ0V:0000000A [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T10:28:41.2679644+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:28:41.2747485+01:00 0HLSBF0D8KQ0V:0000000A [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:28:41.2810101+01:00 0HLSBF0D8KQ0V:0000000A [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:28:41.2916015+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:28:41.2997430+01:00 0HLSBF0D8KQ0V:0000000A [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:28:41.3081763+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:28:41.3174013+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:28:41.3269886+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:28:41.4090733+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p20 AND `subject_id` = @p21;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p22, @p23),
(@p24, @p25);" (0723d8ff)
2019-12-28T10:28:41.5208586+01:00 0HLSBF0D8KQ0V:0000000A [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:28:41.5260618+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:28:41.5302298+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 252.3136ms (afa2e885)
2019-12-28T10:28:41.5334228+01:00 0HLSBF0D8KQ0V:0000000A [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:28:41.5390195+01:00 0HLSBF0D8KQ0V:0000000A [INF] Request finished in 274.43260000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:35:00.9937765+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:35:01.0020026+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:35:01.0063931+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:35:01.0095825+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:35:01.0129451+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:35:04.9839111+01:00 0HLSBF4S51EIO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:35:05.4367835+01:00 0HLSBF4S51EIO:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:35:05.5260787+01:00 0HLSBF4S51EIO:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:35:05.9070597+01:00 0HLSBF4S51EIP:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:35:05.9150754+01:00 0HLSBF4S51EIP:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:35:05.9319453+01:00 0HLSBF4S51EIO:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:35:05.9443480+01:00 0HLSBF4S51EIP:00000001 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:35:07.1458905+01:00 0HLSBF4S51EIO:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:35:07.1813994+01:00 0HLSBF4S51EIO:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:35:07.1814392+01:00 0HLSBF4S51EIP:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:35:07.8237622+01:00 0HLSBF4S51EIO:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:35:07.8237662+01:00 0HLSBF4S51EIP:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:35:07.9972607+01:00 0HLSBF4S51EIO:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:35:08.0043283+01:00 0HLSBF4S51EIO:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:35:08.0185650+01:00 0HLSBF4S51EIO:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:35:08.0249211+01:00 0HLSBF4S51EIP:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:35:08.0753728+01:00 0HLSBF4S51EIO:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 2534.5462ms (afa2e885)
2019-12-28T10:35:08.0810521+01:00 0HLSBF4S51EIO:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:35:08.0954294+01:00 0HLSBF4S51EIO:00000001 [INF] Request finished in 3116.4866ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:35:08.2940853+01:00 0HLSBF4S51EIP:00000001 [INF] Executed DbCommand ("28"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:35:08.5097613+01:00 0HLSBF4S51EIP:00000001 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:35:08.8330685+01:00 0HLSBF4S51EIP:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 2885.5425ms (afa2e885)
2019-12-28T10:35:08.8379983+01:00 0HLSBF4S51EIP:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:35:08.9075171+01:00 0HLSBF4S51EIP:00000001 [ERR] Connection id ""0HLSBF4S51EIP"", Request id ""0HLSBF4S51EIP:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:35:08.9135474+01:00 0HLSBF4S51EIP:00000001 [INF] Request finished in 3005.9005ms 500  (791a596a)
2019-12-28T10:39:03.1851235+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:39:03.1935018+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:39:03.1973472+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:39:03.2004950+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:39:03.2036472+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:39:04.2942227+01:00 0HLSBF73F4K9A:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:39:04.3504005+01:00 0HLSBF73F4K9A:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:04.4338114+01:00 0HLSBF73F4K9A:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:05.4721670+01:00 0HLSBF73F4K9A:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:39:05.7456272+01:00 0HLSBF73F4K9B:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:39:05.7516061+01:00 0HLSBF73F4K9B:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:05.7698701+01:00 0HLSBF73F4K9B:00000001 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:06.6714476+01:00 0HLSBF73F4K9A:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:39:06.7084049+01:00 0HLSBF73F4K9B:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:06.7088828+01:00 0HLSBF73F4K9A:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:07.3242282+01:00 0HLSBF73F4K9B:00000001 [INF] Executed DbCommand ("66"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:39:07.3242324+01:00 0HLSBF73F4K9A:00000001 [INF] Executed DbCommand ("66"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:39:07.4720750+01:00 0HLSBF73F4K9A:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:39:07.4735674+01:00 0HLSBF73F4K9B:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:39:07.4798104+01:00 0HLSBF73F4K9A:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:39:07.4931004+01:00 0HLSBF73F4K9A:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:07.5193147+01:00 0HLSBF73F4K9B:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:39:07.5487396+01:00 0HLSBF73F4K9A:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 3100.7265ms (afa2e885)
2019-12-28T10:39:07.5537328+01:00 0HLSBF73F4K9A:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:07.5687971+01:00 0HLSBF73F4K9A:00000001 [INF] Request finished in 3279.4762ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:07.7556709+01:00 0HLSBF73F4K9B:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:39:07.9433275+01:00 0HLSBF73F4K9B:00000001 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:39:08.2506383+01:00 0HLSBF73F4K9B:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 2476.4542ms (afa2e885)
2019-12-28T10:39:08.2546312+01:00 0HLSBF73F4K9B:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:08.4453530+01:00 0HLSBF73F4K9B:00000001 [ERR] Connection id ""0HLSBF73F4K9B"", Request id ""0HLSBF73F4K9B:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:39:08.4518865+01:00 0HLSBF73F4K9B:00000001 [INF] Request finished in 2704.473ms 500  (791a596a)
2019-12-28T10:39:28.3042959+01:00 0HLSBF73F4K9A:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:39:28.3094823+01:00 0HLSBF73F4K9A:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:28.3192604+01:00 0HLSBF73F4K9A:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:28.3794525+01:00 0HLSBF73F4K9A:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:28.4611623+01:00 0HLSBF73F4K9A:00000002 [INF] Executed DbCommand ("8"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:39:28.4657176+01:00 0HLSBF73F4K9A:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:39:28.4714872+01:00 0HLSBF73F4K9A:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:28.4854604+01:00 0HLSBF73F4K9A:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 162.1585ms (afa2e885)
2019-12-28T10:39:28.4889884+01:00 0HLSBF73F4K9A:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:28.4953438+01:00 0HLSBF73F4K9A:00000002 [INF] Request finished in 191.1583ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:30.2089530+01:00 0HLSBF73F4K9A:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:39:30.2154854+01:00 0HLSBF73F4K9A:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:30.2209706+01:00 0HLSBF73F4K9A:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:30.2275630+01:00 0HLSBF73F4K9A:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:39:30.2327602+01:00 0HLSBF73F4K9A:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:30.2524417+01:00 0HLSBF73F4K9A:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:39:30.2576634+01:00 0HLSBF73F4K9A:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:39:30.2618844+01:00 0HLSBF73F4K9A:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:39:30.2661567+01:00 0HLSBF73F4K9A:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:30.2779758+01:00 0HLSBF73F4K9A:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 48.019000000000005ms (afa2e885)
2019-12-28T10:39:30.2813475+01:00 0HLSBF73F4K9A:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:30.2864894+01:00 0HLSBF73F4K9A:00000003 [INF] Request finished in 80.81410000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:32.0136717+01:00 0HLSBF73F4K9A:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T10:39:32.0192375+01:00 0HLSBF73F4K9A:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:32.0297963+01:00 0HLSBF73F4K9A:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:32.0432698+01:00 0HLSBF73F4K9A:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:32.0527798+01:00 0HLSBF73F4K9A:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:39:32.0583176+01:00 0HLSBF73F4K9A:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:39:32.0804305+01:00 0HLSBF73F4K9A:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:39:32.1001887+01:00 0HLSBF73F4K9A:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:39:32.1255904+01:00 0HLSBF73F4K9A:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:39:32.2521180+01:00 0HLSBF73F4K9A:00000004 [INF] Executed DbCommand ("23"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T10:39:32.3846192+01:00 0HLSBF73F4K9A:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:39:32.3911470+01:00 0HLSBF73F4K9A:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:39:32.3982007+01:00 0HLSBF73F4K9A:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 364.75190000000003ms (afa2e885)
2019-12-28T10:39:32.4015787+01:00 0HLSBF73F4K9A:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:32.4079192+01:00 0HLSBF73F4K9A:00000004 [INF] Request finished in 392.54420000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:34.0987081+01:00 0HLSBF73F4K9A:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:39:34.1035169+01:00 0HLSBF73F4K9A:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:34.1139637+01:00 0HLSBF73F4K9A:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:34.1214755+01:00 0HLSBF73F4K9A:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:39:34.1285842+01:00 0HLSBF73F4K9A:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:34.1389869+01:00 0HLSBF73F4K9A:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:39:34.1472639+01:00 0HLSBF73F4K9A:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:34.1599696+01:00 0HLSBF73F4K9A:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 35.330600000000004ms (afa2e885)
2019-12-28T10:39:34.1647485+01:00 0HLSBF73F4K9A:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:34.1733668+01:00 0HLSBF73F4K9A:00000005 [INF] Request finished in 72.20400000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:37.1087774+01:00 0HLSBF73F4K9A:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:39:37.1126258+01:00 0HLSBF73F4K9A:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:37.1171078+01:00 0HLSBF73F4K9A:00000006 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:37.1248804+01:00 0HLSBF73F4K9A:00000006 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:39:37.1306619+01:00 0HLSBF73F4K9A:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:37.1450395+01:00 0HLSBF73F4K9A:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:39:37.1528998+01:00 0HLSBF73F4K9A:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:37.1581006+01:00 0HLSBF73F4K9A:00000006 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 37.113ms (afa2e885)
2019-12-28T10:39:37.1620268+01:00 0HLSBF73F4K9A:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:37.1678124+01:00 0HLSBF73F4K9A:00000006 [INF] Request finished in 79.6684ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:45.4414074+01:00 0HLSBF73F4K9A:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:39:45.4458403+01:00 0HLSBF73F4K9A:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:45.4503995+01:00 0HLSBF73F4K9A:00000007 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:45.4575113+01:00 0HLSBF73F4K9A:00000007 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:39:45.4623943+01:00 0HLSBF73F4K9A:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:45.4713299+01:00 0HLSBF73F4K9A:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:39:45.4764876+01:00 0HLSBF73F4K9A:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:45.4807852+01:00 0HLSBF73F4K9A:00000007 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 27.0641ms (afa2e885)
2019-12-28T10:39:45.4842097+01:00 0HLSBF73F4K9A:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:45.4881971+01:00 0HLSBF73F4K9A:00000007 [INF] Request finished in 67.6055ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:48.9313802+01:00 0HLSBF73F4K9A:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:39:48.9349464+01:00 0HLSBF73F4K9A:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:48.9389448+01:00 0HLSBF73F4K9A:00000008 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:48.9468292+01:00 0HLSBF73F4K9A:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:48.9571876+01:00 0HLSBF73F4K9A:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:39:48.9667482+01:00 0HLSBF73F4K9A:00000008 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:39:48.9704204+01:00 0HLSBF73F4K9A:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:48.9749489+01:00 0HLSBF73F4K9A:00000008 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 32.6976ms (afa2e885)
2019-12-28T10:39:48.9782780+01:00 0HLSBF73F4K9A:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:48.9828571+01:00 0HLSBF73F4K9A:00000008 [INF] Request finished in 52.7575ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:39:50.5481069+01:00 0HLSBF73F4K9A:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:39:50.5538028+01:00 0HLSBF73F4K9A:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:39:50.5602199+01:00 0HLSBF73F4K9A:00000009 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:39:50.5667109+01:00 0HLSBF73F4K9A:00000009 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:39:50.5742731+01:00 0HLSBF73F4K9A:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:39:50.5858521+01:00 0HLSBF73F4K9A:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:39:50.5925860+01:00 0HLSBF73F4K9A:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:39:50.5975309+01:00 0HLSBF73F4K9A:00000009 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 34.0449ms (afa2e885)
2019-12-28T10:39:50.6010186+01:00 0HLSBF73F4K9A:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:39:50.6056848+01:00 0HLSBF73F4K9A:00000009 [INF] Request finished in 61.1079ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:43:03.5088455+01:00 0HLSBF73F4K9C:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:43:03.5126142+01:00 0HLSBF73F4K9C:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:43:03.5165432+01:00 0HLSBF73F4K9C:00000001 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:43:03.5215716+01:00 0HLSBF73F4K9C:00000001 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:43:03.5261819+01:00 0HLSBF73F4K9C:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:43:03.5346541+01:00 0HLSBF73F4K9C:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:43:03.5396628+01:00 0HLSBF73F4K9C:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:43:03.5435651+01:00 0HLSBF73F4K9C:00000001 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 24.0911ms (afa2e885)
2019-12-28T10:43:03.5469995+01:00 0HLSBF73F4K9C:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:43:03.5511695+01:00 0HLSBF73F4K9C:00000001 [INF] Request finished in 41.6203ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:43:05.2879797+01:00 0HLSBF73F4K9C:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:43:05.2929147+01:00 0HLSBF73F4K9C:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:43:05.3019782+01:00 0HLSBF73F4K9C:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:43:05.3081174+01:00 0HLSBF73F4K9C:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:43:05.3124181+01:00 0HLSBF73F4K9C:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:43:05.3230110+01:00 0HLSBF73F4K9C:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:43:05.3279269+01:00 0HLSBF73F4K9C:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:43:05.3315506+01:00 0HLSBF73F4K9C:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:43:05.3352813+01:00 0HLSBF73F4K9C:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:43:05.3400780+01:00 0HLSBF73F4K9C:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 34.964600000000004ms (afa2e885)
2019-12-28T10:43:05.3435335+01:00 0HLSBF73F4K9C:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:43:05.3483926+01:00 0HLSBF73F4K9C:00000002 [INF] Request finished in 60.529700000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:43:06.0913311+01:00 0HLSBF73F4K9C:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:43:06.0949789+01:00 0HLSBF73F4K9C:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:43:06.0988526+01:00 0HLSBF73F4K9C:00000003 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:43:06.1055416+01:00 0HLSBF73F4K9C:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:43:06.1173121+01:00 0HLSBF73F4K9C:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:43:06.1263571+01:00 0HLSBF73F4K9C:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:43:06.1342276+01:00 0HLSBF73F4K9C:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:43:06.1915396+01:00 0HLSBF73F4K9C:00000003 [INF] Executed DbCommand ("28"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p10 AND `subject_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:43:06.2948566+01:00 0HLSBF73F4K9C:00000003 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:43:06.5431521+01:00 0HLSBF73F4K9C:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 440.69030000000004ms (afa2e885)
2019-12-28T10:43:06.5472849+01:00 0HLSBF73F4K9C:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:43:06.5572786+01:00 0HLSBF73F4K9C:00000003 [ERR] Connection id ""0HLSBF73F4K9C"", Request id ""0HLSBF73F4K9C:00000003"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:43:06.5620575+01:00 0HLSBF73F4K9C:00000003 [INF] Request finished in 470.5479ms 500  (791a596a)
2019-12-28T10:43:08.8100964+01:00 0HLSBF73F4K9C:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:43:08.8137815+01:00 0HLSBF73F4K9C:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:43:08.8176737+01:00 0HLSBF73F4K9C:00000004 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:43:08.8237761+01:00 0HLSBF73F4K9C:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:43:08.8337503+01:00 0HLSBF73F4K9C:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:43:08.8387792+01:00 0HLSBF73F4K9C:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:43:08.8464817+01:00 0HLSBF73F4K9C:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:43:08.8507280+01:00 0HLSBF73F4K9C:00000004 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:43:09.0455250+01:00 0HLSBF73F4K9C:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 224.859ms (afa2e885)
2019-12-28T10:43:09.0490949+01:00 0HLSBF73F4K9C:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:43:09.0592690+01:00 0HLSBF73F4K9C:00000004 [ERR] Connection id ""0HLSBF73F4K9C"", Request id ""0HLSBF73F4K9C:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:43:09.0638627+01:00 0HLSBF73F4K9C:00000004 [INF] Request finished in 253.1407ms 500  (791a596a)
2019-12-28T10:45:43.0397286+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:45:43.0504370+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:45:43.0543078+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:45:43.0603374+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:45:43.0641520+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:45:45.8322000+01:00 0HLSBFAR4KQJD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:45:46.2427716+01:00 0HLSBFAR4KQJD:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:45:46.3746012+01:00 0HLSBFAR4KQJD:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:45:48.1917032+01:00 0HLSBFAR4KQJD:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:45:48.2503414+01:00 0HLSBFAR4KQJD:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:45:49.1673163+01:00 0HLSBFAR4KQJD:00000001 [INF] Executed DbCommand ("177"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:45:49.3565315+01:00 0HLSBFAR4KQJD:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:45:49.3714764+01:00 0HLSBFAR4KQJD:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:45:49.4158057+01:00 0HLSBFAR4KQJD:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 3025.6722ms (afa2e885)
2019-12-28T10:45:49.4236494+01:00 0HLSBFAR4KQJD:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:45:49.4431973+01:00 0HLSBFAR4KQJD:00000001 [INF] Request finished in 3616.5028ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:45:51.4586216+01:00 0HLSBFAR4KQJD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:45:51.4657913+01:00 0HLSBFAR4KQJD:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:45:51.4780298+01:00 0HLSBFAR4KQJD:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:45:51.4855684+01:00 0HLSBFAR4KQJD:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:45:51.5301347+01:00 0HLSBFAR4KQJD:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:45:51.6137381+01:00 0HLSBFAR4KQJD:00000002 [INF] Executed DbCommand ("57"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:45:51.6332269+01:00 0HLSBFAR4KQJD:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:45:51.6418478+01:00 0HLSBFAR4KQJD:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:45:51.6477354+01:00 0HLSBFAR4KQJD:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:45:51.6699205+01:00 0HLSBFAR4KQJD:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 183.6785ms (afa2e885)
2019-12-28T10:45:51.6745467+01:00 0HLSBFAR4KQJD:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:45:51.6805839+01:00 0HLSBFAR4KQJD:00000002 [INF] Request finished in 222.32680000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:45:53.2093274+01:00 0HLSBFAR4KQJD:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T10:45:53.2145572+01:00 0HLSBFAR4KQJD:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:45:53.2279119+01:00 0HLSBFAR4KQJD:00000003 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:45:53.2595993+01:00 0HLSBFAR4KQJD:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:45:53.3217066+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:45:53.3283406+01:00 0HLSBFAR4KQJD:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:45:53.3436831+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:45:53.3968466+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed DbCommand ("33"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:45:53.4383424+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed DbCommand ("16"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:45:53.7087935+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed DbCommand ("19"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T10:45:53.8833439+01:00 0HLSBFAR4KQJD:00000003 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:45:53.9013112+01:00 0HLSBFAR4KQJD:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:45:53.9164040+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 681.6217ms (afa2e885)
2019-12-28T10:45:53.9202571+01:00 0HLSBFAR4KQJD:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:45:53.9288818+01:00 0HLSBFAR4KQJD:00000003 [INF] Request finished in 718.0836ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:45:56.5663741+01:00 0HLSBFAR4KQJD:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:45:56.5787075+01:00 0HLSBFAR4KQJD:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:45:56.5846575+01:00 0HLSBFAR4KQJD:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:45:56.5922803+01:00 0HLSBFAR4KQJD:00000004 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:45:56.5977568+01:00 0HLSBFAR4KQJD:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:45:56.6104893+01:00 0HLSBFAR4KQJD:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:45:56.6151226+01:00 0HLSBFAR4KQJD:00000004 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:45:56.6190943+01:00 0HLSBFAR4KQJD:00000004 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:45:56.6239858+01:00 0HLSBFAR4KQJD:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:45:56.6285370+01:00 0HLSBFAR4KQJD:00000004 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 40.1494ms (afa2e885)
2019-12-28T10:45:56.6319687+01:00 0HLSBFAR4KQJD:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:45:56.6379816+01:00 0HLSBFAR4KQJD:00000004 [INF] Request finished in 73.0836ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:45:59.5652284+01:00 0HLSBFAR4KQJD:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:45:59.5714974+01:00 0HLSBFAR4KQJD:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:45:59.5823334+01:00 0HLSBFAR4KQJD:00000005 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:45:59.5947407+01:00 0HLSBFAR4KQJD:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:45:59.6050022+01:00 0HLSBFAR4KQJD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T10:45:59.6201311+01:00 0HLSBFAR4KQJD:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:45:59.6522844+01:00 0HLSBFAR4KQJD:00000005 [INF] Executed DbCommand ("19"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:45:59.6937666+01:00 0HLSBFAR4KQJD:00000005 [INF] Executed DbCommand ("16"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p10 AND `subject_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:45:59.8458787+01:00 0HLSBFAR4KQJD:00000005 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:46:00.1465367+01:00 0HLSBFAR4KQJD:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 560.8301ms (afa2e885)
2019-12-28T10:46:00.1501299+01:00 0HLSBFAR4KQJD:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:46:00.2113129+01:00 0HLSBFAR4KQJD:00000005 [ERR] Connection id ""0HLSBFAR4KQJD"", Request id ""0HLSBFAR4KQJD:00000005"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:46:00.2157478+01:00 0HLSBFAR4KQJD:00000005 [INF] Request finished in 651.0055ms 500  (791a596a)
2019-12-28T10:50:00.9349983+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:50:00.9453670+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:50:00.9486734+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:50:00.9519859+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:50:00.9552803+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:50:04.4838310+01:00 0HLSBFD87AQK3:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:50:04.8141551+01:00 0HLSBFD87AQK3:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:50:04.9152501+01:00 0HLSBFD87AQK3:00000001 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:50:07.1439131+01:00 0HLSBFD87AQK3:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:50:07.2015499+01:00 0HLSBFD87AQK3:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:50:08.0468355+01:00 0HLSBFD87AQK3:00000001 [INF] Executed DbCommand ("116"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:50:08.2349219+01:00 0HLSBFD87AQK3:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:50:08.2648441+01:00 0HLSBFD87AQK3:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:50:08.3028473+01:00 0HLSBFD87AQK3:00000001 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:50:08.4974250+01:00 0HLSBFD87AQK3:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 3568.7381ms (afa2e885)
2019-12-28T10:50:08.5029160+01:00 0HLSBFD87AQK3:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:50:08.5734491+01:00 0HLSBFD87AQK3:00000001 [ERR] Connection id ""0HLSBFD87AQK3"", Request id ""0HLSBFD87AQK3:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:50:08.6001345+01:00 0HLSBFD87AQK3:00000001 [INF] Request finished in 4117.1336ms 500  (791a596a)
2019-12-28T10:50:31.3158332+01:00 0HLSBFD87AQK3:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:50:31.3256938+01:00 0HLSBFD87AQK3:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:50:31.3418968+01:00 0HLSBFD87AQK3:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:50:31.3998064+01:00 0HLSBFD87AQK3:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:50:31.4735022+01:00 0HLSBFD87AQK3:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:50:31.4784622+01:00 0HLSBFD87AQK3:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:50:31.4879932+01:00 0HLSBFD87AQK3:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:50:31.5162233+01:00 0HLSBFD87AQK3:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 170.9687ms (afa2e885)
2019-12-28T10:50:31.5200282+01:00 0HLSBFD87AQK3:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:50:31.5251114+01:00 0HLSBFD87AQK3:00000002 [INF] Request finished in 212.1482ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:50:33.2670124+01:00 0HLSBFD87AQK3:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:50:33.2723638+01:00 0HLSBFD87AQK3:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:50:33.2847577+01:00 0HLSBFD87AQK3:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:50:33.2923586+01:00 0HLSBFD87AQK3:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:50:33.3068987+01:00 0HLSBFD87AQK3:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:50:33.3281381+01:00 0HLSBFD87AQK3:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:50:33.3440078+01:00 0HLSBFD87AQK3:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:50:33.3493794+01:00 0HLSBFD87AQK3:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:50:33.3594321+01:00 0HLSBFD87AQK3:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:50:33.3701824+01:00 0HLSBFD87AQK3:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 82.048ms (afa2e885)
2019-12-28T10:50:33.3737043+01:00 0HLSBFD87AQK3:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:50:33.3785609+01:00 0HLSBFD87AQK3:00000003 [INF] Request finished in 113.75710000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:50:35.0789119+01:00 0HLSBFD87AQK3:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T10:50:35.0859741+01:00 0HLSBFD87AQK3:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:50:35.1039755+01:00 0HLSBFD87AQK3:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:50:35.1179581+01:00 0HLSBFD87AQK3:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:50:35.1306909+01:00 0HLSBFD87AQK3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:50:35.1361042+01:00 0HLSBFD87AQK3:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:50:35.1583039+01:00 0HLSBFD87AQK3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:50:35.1776427+01:00 0HLSBFD87AQK3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:50:35.2035304+01:00 0HLSBFD87AQK3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:50:35.4264619+01:00 0HLSBFD87AQK3:00000004 [INF] Executed DbCommand ("25"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T10:50:35.5739032+01:00 0HLSBFD87AQK3:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:50:35.5795065+01:00 0HLSBFD87AQK3:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:50:35.5877316+01:00 0HLSBFD87AQK3:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 479.3611ms (afa2e885)
2019-12-28T10:50:35.5919991+01:00 0HLSBFD87AQK3:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:50:35.5997833+01:00 0HLSBFD87AQK3:00000004 [INF] Request finished in 524.1474000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:53:02.3656216+01:00 0HLSBFD87AQK4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:53:02.3695337+01:00 0HLSBFD87AQK4:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:53:02.3737937+01:00 0HLSBFD87AQK4:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:53:02.3805146+01:00 0HLSBFD87AQK4:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:53:02.3908196+01:00 0HLSBFD87AQK4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:53:02.4028285+01:00 0HLSBFD87AQK4:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:53:02.4071093+01:00 0HLSBFD87AQK4:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:53:02.4113469+01:00 0HLSBFD87AQK4:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 34.194500000000005ms (afa2e885)
2019-12-28T10:53:02.4145949+01:00 0HLSBFD87AQK4:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:53:02.4209145+01:00 0HLSBFD87AQK4:00000001 [INF] Request finished in 53.1486ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:53:05.4090271+01:00 0HLSBFD87AQK4:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:53:05.4136869+01:00 0HLSBFD87AQK4:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:53:05.4288782+01:00 0HLSBFD87AQK4:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:53:05.4385044+01:00 0HLSBFD87AQK4:00000002 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:53:05.4464923+01:00 0HLSBFD87AQK4:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:53:05.4598599+01:00 0HLSBFD87AQK4:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:53:05.4680561+01:00 0HLSBFD87AQK4:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:53:05.4751950+01:00 0HLSBFD87AQK4:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 41.5769ms (afa2e885)
2019-12-28T10:53:05.4791408+01:00 0HLSBFD87AQK4:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:53:05.4853189+01:00 0HLSBFD87AQK4:00000002 [INF] Request finished in 76.301ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:53:15.4899931+01:00 0HLSBFD87AQK4:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:53:15.4976172+01:00 0HLSBFD87AQK4:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:53:15.5048046+01:00 0HLSBFD87AQK4:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:53:15.5133245+01:00 0HLSBFD87AQK4:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:53:15.5192000+01:00 0HLSBFD87AQK4:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:53:15.5268005+01:00 0HLSBFD87AQK4:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:53:15.5312589+01:00 0HLSBFD87AQK4:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:53:15.5351439+01:00 0HLSBFD87AQK4:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:53:15.5391440+01:00 0HLSBFD87AQK4:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:53:15.5434921+01:00 0HLSBFD87AQK4:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 35.5128ms (afa2e885)
2019-12-28T10:53:15.5466453+01:00 0HLSBFD87AQK4:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:53:15.5508632+01:00 0HLSBFD87AQK4:00000003 [INF] Request finished in 63.7173ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:53:17.3459293+01:00 0HLSBFD87AQK4:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T10:53:17.3500713+01:00 0HLSBFD87AQK4:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:53:17.3556712+01:00 0HLSBFD87AQK4:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:53:17.3628511+01:00 0HLSBFD87AQK4:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:53:17.3754698+01:00 0HLSBFD87AQK4:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:53:17.3840127+01:00 0HLSBFD87AQK4:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:53:17.3987412+01:00 0HLSBFD87AQK4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:53:17.4054032+01:00 0HLSBFD87AQK4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:53:17.4271574+01:00 0HLSBFD87AQK4:00000004 [INF] Executed DbCommand ("16"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:53:17.5613653+01:00 0HLSBFD87AQK4:00000004 [INF] Executed DbCommand ("64"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p20 AND `subject_id` = @p21;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p22, @p23),
(@p24, @p25);" (0723d8ff)
2019-12-28T10:53:17.7207309+01:00 0HLSBFD87AQK4:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:53:17.7249257+01:00 0HLSBFD87AQK4:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:53:17.7296452+01:00 0HLSBFD87AQK4:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 370.5196ms (afa2e885)
2019-12-28T10:53:17.7337274+01:00 0HLSBFD87AQK4:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:53:17.7402130+01:00 0HLSBFD87AQK4:00000004 [INF] Request finished in 392.1938ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:53:27.8753747+01:00 0HLSBFD87AQK4:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:53:27.8795582+01:00 0HLSBFD87AQK4:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:53:27.8858432+01:00 0HLSBFD87AQK4:00000005 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:53:27.8918970+01:00 0HLSBFD87AQK4:00000005 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:53:27.8967550+01:00 0HLSBFD87AQK4:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:53:27.9056789+01:00 0HLSBFD87AQK4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:53:27.9100155+01:00 0HLSBFD87AQK4:00000005 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:53:27.9131349+01:00 0HLSBFD87AQK4:00000005 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:53:27.9173474+01:00 0HLSBFD87AQK4:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:53:27.9219707+01:00 0HLSBFD87AQK4:00000005 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 32.5184ms (afa2e885)
2019-12-28T10:53:27.9257380+01:00 0HLSBFD87AQK4:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:53:27.9312944+01:00 0HLSBFD87AQK4:00000005 [INF] Request finished in 62.7074ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:53:29.0459813+01:00 0HLSBFD87AQK4:00000006 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:53:29.0615395+01:00 0HLSBFD87AQK4:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:53:29.0661465+01:00 0HLSBFD87AQK4:00000006 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:53:29.0721711+01:00 0HLSBFD87AQK4:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:53:29.0818807+01:00 0HLSBFD87AQK4:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:53:29.0897682+01:00 0HLSBFD87AQK4:00000006 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:53:29.0974776+01:00 0HLSBFD87AQK4:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:53:29.1348387+01:00 0HLSBFD87AQK4:00000006 [INF] Executed DbCommand ("25"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:53:29.2440172+01:00 0HLSBFD87AQK4:00000006 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:53:29.4932936+01:00 0HLSBFD87AQK4:00000006 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 423.473ms (afa2e885)
2019-12-28T10:53:29.4977765+01:00 0HLSBFD87AQK4:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:53:29.5070978+01:00 0HLSBFD87AQK4:00000006 [ERR] Connection id ""0HLSBFD87AQK4"", Request id ""0HLSBFD87AQK4:00000006"": An unhandled exception was thrown by the application. (560e7d32)
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at AttendanceControl.API.Application.Mappers.StudentMapper.Map(StudentEntity studentEntity) in F:\AttendanceControl.API\AttendanceControl.API.Application\Mappers\StudentMapper.cs:line 17
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 85
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T10:53:29.5132479+01:00 0HLSBFD87AQK4:00000006 [INF] Request finished in 472.0609ms 500  (791a596a)
2019-12-28T10:55:05.1647322+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:55:05.1751793+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:55:05.1805292+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:55:05.1845872+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:55:05.1882757+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:55:06.8487628+01:00 0HLSBFG29NQFT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:55:06.9144031+01:00 0HLSBFG29NQFT:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:55:07.0203992+01:00 0HLSBFG29NQFT:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:55:09.4255636+01:00 0HLSBFG29NQFT:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:55:09.4788363+01:00 0HLSBFG29NQFT:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:55:10.2647925+01:00 0HLSBFG29NQFT:00000001 [INF] Executed DbCommand ("86"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:55:10.4626302+01:00 0HLSBFG29NQFT:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:55:10.4753724+01:00 0HLSBFG29NQFT:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:55:10.5160594+01:00 0HLSBFG29NQFT:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 3483.3592000000003ms (afa2e885)
2019-12-28T10:55:10.5209642+01:00 0HLSBFG29NQFT:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:55:10.5350672+01:00 0HLSBFG29NQFT:00000001 [INF] Request finished in 3694.6985ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:55:12.3606116+01:00 0HLSBFG29NQFT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:55:12.3725426+01:00 0HLSBFG29NQFT:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:55:12.3898709+01:00 0HLSBFG29NQFT:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:55:12.3980541+01:00 0HLSBFG29NQFT:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:55:12.4407252+01:00 0HLSBFG29NQFT:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:55:12.4714836+01:00 0HLSBFG29NQFT:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:55:12.4869862+01:00 0HLSBFG29NQFT:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:55:12.4923922+01:00 0HLSBFG29NQFT:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:55:12.4973516+01:00 0HLSBFG29NQFT:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:55:12.5094375+01:00 0HLSBFG29NQFT:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 115.3237ms (afa2e885)
2019-12-28T10:55:12.5133746+01:00 0HLSBFG29NQFT:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:55:12.5176445+01:00 0HLSBFG29NQFT:00000002 [INF] Request finished in 158.69750000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:55:14.5132421+01:00 0HLSBFG29NQFT:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T10:55:14.5175579+01:00 0HLSBFG29NQFT:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:55:14.5273231+01:00 0HLSBFG29NQFT:00000003 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:55:14.5507428+01:00 0HLSBFG29NQFT:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:55:14.6122164+01:00 0HLSBFG29NQFT:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:55:14.6188475+01:00 0HLSBFG29NQFT:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:55:14.6332453+01:00 0HLSBFG29NQFT:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:55:14.6551811+01:00 0HLSBFG29NQFT:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:55:14.6924634+01:00 0HLSBFG29NQFT:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:55:14.9930318+01:00 0HLSBFG29NQFT:00000003 [INF] Executed DbCommand ("17"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p14, @p15),
(@p16, @p17),
(@p18, @p19);" (0723d8ff)
2019-12-28T10:55:15.1435045+01:00 0HLSBFG29NQFT:00000003 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:55:15.1478827+01:00 0HLSBFG29NQFT:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:55:15.1524556+01:00 0HLSBFG29NQFT:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 621.5334ms (afa2e885)
2019-12-28T10:55:15.1565780+01:00 0HLSBFG29NQFT:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:55:15.1651374+01:00 0HLSBFG29NQFT:00000003 [INF] Request finished in 648.2575ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:55:22.1163836+01:00 0HLSBFG29NQFT:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:55:22.1242913+01:00 0HLSBFG29NQFT:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:55:22.1296895+01:00 0HLSBFG29NQFT:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:55:22.1352133+01:00 0HLSBFG29NQFT:00000004 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:55:22.1396680+01:00 0HLSBFG29NQFT:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:55:22.1519620+01:00 0HLSBFG29NQFT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:55:22.1564956+01:00 0HLSBFG29NQFT:00000004 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:55:22.1595840+01:00 0HLSBFG29NQFT:00000004 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:55:22.1634172+01:00 0HLSBFG29NQFT:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:55:22.1682487+01:00 0HLSBFG29NQFT:00000004 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 34.3602ms (afa2e885)
2019-12-28T10:55:22.1714760+01:00 0HLSBFG29NQFT:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:55:22.1764074+01:00 0HLSBFG29NQFT:00000004 [INF] Request finished in 64.6717ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:55:23.0463642+01:00 0HLSBFG29NQFT:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:55:23.0543132+01:00 0HLSBFG29NQFT:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:55:23.0724275+01:00 0HLSBFG29NQFT:00000005 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:55:23.0844063+01:00 0HLSBFG29NQFT:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:55:23.0959387+01:00 0HLSBFG29NQFT:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:55:23.1106944+01:00 0HLSBFG29NQFT:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:55:23.1230747+01:00 0HLSBFG29NQFT:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:55:23.1747867+01:00 0HLSBFG29NQFT:00000005 [INF] Executed DbCommand ("23"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:55:23.3254158+01:00 0HLSBFG29NQFT:00000005 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:55:23.3300518+01:00 0HLSBFG29NQFT:00000005 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:55:23.3356219+01:00 0HLSBFG29NQFT:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 259.08340000000004ms (afa2e885)
2019-12-28T10:55:23.3400960+01:00 0HLSBFG29NQFT:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:55:23.3494964+01:00 0HLSBFG29NQFT:00000005 [INF] Request finished in 302.8872ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:57:30.0957960+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T10:57:30.1042169+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T10:57:30.1079379+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T10:57:30.1111895+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T10:57:30.1144320+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T10:57:44.6071814+01:00 0HLSBFHHBBEQI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:57:44.6691960+01:00 0HLSBFHHBBEQI:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:57:44.7697385+01:00 0HLSBFHHBBEQI:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:57:45.4266034+01:00 0HLSBFHHBBEQI:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:57:46.6728772+01:00 0HLSBFHHBBEQI:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T10:57:46.7426010+01:00 0HLSBFHHBBEQI:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:57:47.4110093+01:00 0HLSBFHHBBEQI:00000001 [INF] Executed DbCommand ("84"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:57:47.5733121+01:00 0HLSBFHHBBEQI:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:57:47.5791625+01:00 0HLSBFHHBBEQI:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:57:47.5905903+01:00 0HLSBFHHBBEQI:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:57:47.6439151+01:00 0HLSBFHHBBEQI:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 2861.8245ms (afa2e885)
2019-12-28T10:57:47.6486732+01:00 0HLSBFHHBBEQI:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:57:47.6623948+01:00 0HLSBFHHBBEQI:00000001 [INF] Request finished in 3062.7385ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:57:49.3815900+01:00 0HLSBFHHBBEQI:00000002 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T10:57:49.3882560+01:00 0HLSBFHHBBEQI:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:57:49.4076928+01:00 0HLSBFHHBBEQI:00000002 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:57:49.4630551+01:00 0HLSBFHHBBEQI:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:57:49.6426602+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed DbCommand ("29"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:57:49.6813099+01:00 0HLSBFHHBBEQI:00000002 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:57:49.6976606+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:57:49.7185508+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:57:49.7538347+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:57:50.0602119+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p14, @p15),
(@p16, @p17),
(@p18, @p19);" (0723d8ff)
2019-12-28T10:57:50.2352468+01:00 0HLSBFHHBBEQI:00000002 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:57:50.2435220+01:00 0HLSBFHHBBEQI:00000002 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:57:50.2604704+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 848.1443ms (afa2e885)
2019-12-28T10:57:50.2639169+01:00 0HLSBFHHBBEQI:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:57:50.2718704+01:00 0HLSBFHHBBEQI:00000002 [INF] Request finished in 888.0828ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:57:51.4608723+01:00 0HLSBFHHBBEQI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:57:51.4663184+01:00 0HLSBFHHBBEQI:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:57:51.4721586+01:00 0HLSBFHHBBEQI:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:57:51.4774571+01:00 0HLSBFHHBBEQI:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:57:51.4908606+01:00 0HLSBFHHBBEQI:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:57:51.5040188+01:00 0HLSBFHHBBEQI:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:57:51.5090244+01:00 0HLSBFHHBBEQI:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:57:51.5129796+01:00 0HLSBFHHBBEQI:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:57:51.5170319+01:00 0HLSBFHHBBEQI:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:57:51.5218652+01:00 0HLSBFHHBBEQI:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 46.2288ms (afa2e885)
2019-12-28T10:57:51.5255610+01:00 0HLSBFHHBBEQI:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:57:51.5306733+01:00 0HLSBFHHBBEQI:00000003 [INF] Request finished in 70.40870000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:57:52.2187580+01:00 0HLSBFHHBBEQI:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T10:57:52.2246847+01:00 0HLSBFHHBBEQI:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:57:52.2400982+01:00 0HLSBFHHBBEQI:00000004 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:57:52.2503184+01:00 0HLSBFHHBBEQI:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:57:52.2640044+01:00 0HLSBFHHBBEQI:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:57:52.2802382+01:00 0HLSBFHHBBEQI:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:57:52.2929249+01:00 0HLSBFHHBBEQI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T10:57:52.3260827+01:00 0HLSBFHHBBEQI:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T10:57:52.4292042+01:00 0HLSBFHHBBEQI:00000004 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T10:57:52.4337890+01:00 0HLSBFHHBBEQI:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:57:52.4385955+01:00 0HLSBFHHBBEQI:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 194.80450000000002ms (afa2e885)
2019-12-28T10:57:52.4423916+01:00 0HLSBFHHBBEQI:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:57:52.4479065+01:00 0HLSBFHHBBEQI:00000004 [INF] Request finished in 229.4991ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:58:24.7791416+01:00 0HLSBFHHBBEQJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T10:58:24.7845243+01:00 0HLSBFHHBBEQJ:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:58:24.7962574+01:00 0HLSBFHHBBEQJ:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:58:24.8034436+01:00 0HLSBFHHBBEQJ:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T10:58:24.8122167+01:00 0HLSBFHHBBEQJ:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:58:24.8814694+01:00 0HLSBFHHBBEQJ:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T10:58:24.9079927+01:00 0HLSBFHHBBEQJ:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:58:24.9135293+01:00 0HLSBFHHBBEQJ:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 113.0933ms (afa2e885)
2019-12-28T10:58:24.9176866+01:00 0HLSBFHHBBEQJ:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:58:24.9224813+01:00 0HLSBFHHBBEQJ:00000001 [INF] Request finished in 143.6151ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:58:26.9599859+01:00 0HLSBFHHBBEQJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:58:26.9669848+01:00 0HLSBFHHBBEQJ:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:58:26.9839685+01:00 0HLSBFHHBBEQJ:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:58:27.0087738+01:00 0HLSBFHHBBEQJ:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:58:27.0932535+01:00 0HLSBFHHBBEQJ:00000002 [INF] Executed DbCommand ("8"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:58:27.0981616+01:00 0HLSBFHHBBEQJ:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:58:27.1031099+01:00 0HLSBFHHBBEQJ:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:58:27.1080496+01:00 0HLSBFHHBBEQJ:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 120.6802ms (afa2e885)
2019-12-28T10:58:27.1113169+01:00 0HLSBFHHBBEQJ:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:58:27.1155315+01:00 0HLSBFHHBBEQJ:00000002 [INF] Request finished in 155.5148ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:58:28.9420837+01:00 0HLSBFHHBBEQJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:58:28.9466457+01:00 0HLSBFHHBBEQJ:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:58:28.9521606+01:00 0HLSBFHHBBEQJ:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:58:28.9595082+01:00 0HLSBFHHBBEQJ:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:58:28.9651963+01:00 0HLSBFHHBBEQJ:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:58:28.9761401+01:00 0HLSBFHHBBEQJ:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:58:28.9831770+01:00 0HLSBFHHBBEQJ:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:58:28.9869957+01:00 0HLSBFHHBBEQJ:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:58:28.9926749+01:00 0HLSBFHHBBEQJ:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:58:28.9981463+01:00 0HLSBFHHBBEQJ:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 41.8723ms (afa2e885)
2019-12-28T10:58:29.0050724+01:00 0HLSBFHHBBEQJ:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:58:29.0239335+01:00 0HLSBFHHBBEQJ:00000003 [INF] Request finished in 80.86240000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:27.7570205+01:00 0HLSBFHHBBEQK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T10:59:27.7612967+01:00 0HLSBFHHBBEQK:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:27.7667030+01:00 0HLSBFHHBBEQK:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:27.7716482+01:00 0HLSBFHHBBEQK:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T10:59:27.7788395+01:00 0HLSBFHHBBEQK:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:27.7899960+01:00 0HLSBFHHBBEQK:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T10:59:27.7983273+01:00 0HLSBFHHBBEQK:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:27.8118957+01:00 0HLSBFHHBBEQK:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 35.5593ms (afa2e885)
2019-12-28T10:59:27.8164094+01:00 0HLSBFHHBBEQK:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:27.8215224+01:00 0HLSBFHHBBEQK:00000001 [INF] Request finished in 66.7296ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:30.3301088+01:00 0HLSBFHHBBEQK:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:59:30.3361334+01:00 0HLSBFHHBBEQK:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:30.3413223+01:00 0HLSBFHHBBEQK:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:30.3490164+01:00 0HLSBFHHBBEQK:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:30.3602347+01:00 0HLSBFHHBBEQK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:59:30.3657173+01:00 0HLSBFHHBBEQK:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:59:30.3705617+01:00 0HLSBFHHBBEQK:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:30.3754520+01:00 0HLSBFHHBBEQK:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 30.2562ms (afa2e885)
2019-12-28T10:59:30.3799582+01:00 0HLSBFHHBBEQK:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:30.3839505+01:00 0HLSBFHHBBEQK:00000002 [INF] Request finished in 56.572100000000006ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:31.6064967+01:00 0HLSBFHHBBEQK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:59:31.6122502+01:00 0HLSBFHHBBEQK:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:31.6172028+01:00 0HLSBFHHBBEQK:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:31.6228204+01:00 0HLSBFHHBBEQK:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:59:31.6275720+01:00 0HLSBFHHBBEQK:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:31.6375007+01:00 0HLSBFHHBBEQK:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:59:31.6432156+01:00 0HLSBFHHBBEQK:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:59:31.6472737+01:00 0HLSBFHHBBEQK:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:59:31.6511417+01:00 0HLSBFHHBBEQK:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:31.6559433+01:00 0HLSBFHHBBEQK:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 35.3605ms (afa2e885)
2019-12-28T10:59:31.6591248+01:00 0HLSBFHHBBEQK:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:31.6639343+01:00 0HLSBFHHBBEQK:00000003 [INF] Request finished in 57.869ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:32.7915763+01:00 0HLSBFHHBBEQK:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T10:59:32.8167503+01:00 0HLSBFHHBBEQK:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:32.8232366+01:00 0HLSBFHHBBEQK:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:32.8297378+01:00 0HLSBFHHBBEQK:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:32.8384016+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:59:32.8428909+01:00 0HLSBFHHBBEQK:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:59:32.8493010+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:59:32.8554212+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:59:32.8620655+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:59:32.8739667+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T10:59:33.0249914+01:00 0HLSBFHHBBEQK:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:59:33.0295072+01:00 0HLSBFHHBBEQK:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:59:33.0342699+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 207.51680000000002ms (afa2e885)
2019-12-28T10:59:33.0378772+01:00 0HLSBFHHBBEQK:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:33.0437456+01:00 0HLSBFHHBBEQK:00000004 [INF] Request finished in 250.82270000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:35.4401057+01:00 0HLSBFHHBBEQK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T10:59:35.4442410+01:00 0HLSBFHHBBEQK:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:35.4673901+01:00 0HLSBFHHBBEQK:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:35.4965191+01:00 0HLSBFHHBBEQK:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:59:35.5036794+01:00 0HLSBFHHBBEQK:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:35.5214234+01:00 0HLSBFHHBBEQK:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:59:35.5274830+01:00 0HLSBFHHBBEQK:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:35.5331626+01:00 0HLSBFHHBBEQK:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 62.242700000000006ms (afa2e885)
2019-12-28T10:59:35.5367998+01:00 0HLSBFHHBBEQK:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:35.5415347+01:00 0HLSBFHHBBEQK:00000005 [INF] Request finished in 107.4752ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:49.3840166+01:00 0HLSBFHHBBEQK:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T10:59:49.3890106+01:00 0HLSBFHHBBEQK:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:49.3939413+01:00 0HLSBFHHBBEQK:00000006 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:49.3988981+01:00 0HLSBFHHBBEQK:00000006 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T10:59:49.4033288+01:00 0HLSBFHHBBEQK:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:49.4111326+01:00 0HLSBFHHBBEQK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T10:59:49.4157602+01:00 0HLSBFHHBBEQK:00000006 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T10:59:49.4193617+01:00 0HLSBFHHBBEQK:00000006 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T10:59:49.4234943+01:00 0HLSBFHHBBEQK:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:49.4276161+01:00 0HLSBFHHBBEQK:00000006 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 30.4886ms (afa2e885)
2019-12-28T10:59:49.4309509+01:00 0HLSBFHHBBEQK:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:49.4357118+01:00 0HLSBFHHBBEQK:00000006 [INF] Request finished in 52.3429ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:50.9330907+01:00 0HLSBFHHBBEQK:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T10:59:50.9367839+01:00 0HLSBFHHBBEQK:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:50.9412455+01:00 0HLSBFHHBBEQK:00000007 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:50.9509473+01:00 0HLSBFHHBBEQK:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:50.9637604+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T10:59:50.9715818+01:00 0HLSBFHHBBEQK:00000007 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T10:59:50.9891514+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T10:59:50.9991656+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:59:51.0076824+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T10:59:51.0262394+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p20 AND `subject_id` = @p21;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p22, @p23),
(@p24, @p25);" (0723d8ff)
2019-12-28T10:59:51.2029092+01:00 0HLSBFHHBBEQK:00000007 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T10:59:51.2071027+01:00 0HLSBFHHBBEQK:00000007 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T10:59:51.2118071+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 267.15770000000003ms (afa2e885)
2019-12-28T10:59:51.2151193+01:00 0HLSBFHHBBEQK:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:51.2207905+01:00 0HLSBFHHBBEQK:00000007 [INF] Request finished in 286.30240000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:52.2891440+01:00 0HLSBFHHBBEQK:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T10:59:52.2933772+01:00 0HLSBFHHBBEQK:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:52.2986030+01:00 0HLSBFHHBBEQK:00000008 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:52.3046318+01:00 0HLSBFHHBBEQK:00000008 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:59:52.3089146+01:00 0HLSBFHHBBEQK:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:52.4827882+01:00 0HLSBFHHBBEQK:00000008 [INF] Executed DbCommand ("163"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:59:52.4904020+01:00 0HLSBFHHBBEQK:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:52.4963921+01:00 0HLSBFHHBBEQK:00000008 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 193.0282ms (afa2e885)
2019-12-28T10:59:52.5000941+01:00 0HLSBFHHBBEQK:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:52.5051187+01:00 0HLSBFHHBBEQK:00000008 [INF] Request finished in 215.71540000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:56.6133670+01:00 0HLSBFHHBBEQK:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T10:59:56.6210719+01:00 0HLSBFHHBBEQK:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:56.6290511+01:00 0HLSBFHHBBEQK:00000009 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:56.6382086+01:00 0HLSBFHHBBEQK:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:56.7653427+01:00 0HLSBFHHBBEQK:00000009 [INF] Executed DbCommand ("114"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T10:59:56.7694328+01:00 0HLSBFHHBBEQK:00000009 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T10:59:56.7736179+01:00 0HLSBFHHBBEQK:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:56.7784455+01:00 0HLSBFHHBBEQK:00000009 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 145.6395ms (afa2e885)
2019-12-28T10:59:56.7819629+01:00 0HLSBFHHBBEQK:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:56.7860931+01:00 0HLSBFHHBBEQK:00000009 [INF] Request finished in 176.1218ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T10:59:58.1836839+01:00 0HLSBFHHBBEQK:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T10:59:58.1878421+01:00 0HLSBFHHBBEQK:0000000A [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T10:59:58.1921528+01:00 0HLSBFHHBBEQK:0000000A [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T10:59:58.1988380+01:00 0HLSBFHHBBEQK:0000000A [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T10:59:58.2030760+01:00 0HLSBFHHBBEQK:0000000A [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T10:59:58.2114852+01:00 0HLSBFHHBBEQK:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T10:59:58.2159144+01:00 0HLSBFHHBBEQK:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T10:59:58.2205494+01:00 0HLSBFHHBBEQK:0000000A [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 25.110400000000002ms (afa2e885)
2019-12-28T10:59:58.2241114+01:00 0HLSBFHHBBEQK:0000000A [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T10:59:58.2319851+01:00 0HLSBFHHBBEQK:0000000A [INF] Request finished in 46.3945ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:00.6805776+01:00 0HLSBFHHBBEQL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T11:05:00.6844730+01:00 0HLSBFHHBBEQL:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:00.6889898+01:00 0HLSBFHHBBEQL:00000001 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:00.6932621+01:00 0HLSBFHHBBEQL:00000001 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T11:05:00.6977315+01:00 0HLSBFHHBBEQL:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:00.7205157+01:00 0HLSBFHHBBEQL:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:05:00.7252192+01:00 0HLSBFHHBBEQL:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:05:00.7305133+01:00 0HLSBFHHBBEQL:00000001 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 37.1999ms (afa2e885)
2019-12-28T11:05:00.7344826+01:00 0HLSBFHHBBEQL:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:00.7391249+01:00 0HLSBFHHBBEQL:00000001 [INF] Request finished in 57.983000000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:03.8314912+01:00 0HLSBFHHBBEQL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:05:03.8366331+01:00 0HLSBFHHBBEQL:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:03.8428269+01:00 0HLSBFHHBBEQL:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:03.8488113+01:00 0HLSBFHHBBEQL:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:05:03.8535251+01:00 0HLSBFHHBBEQL:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:03.8786153+01:00 0HLSBFHHBBEQL:00000002 [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:05:03.8839000+01:00 0HLSBFHHBBEQL:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:05:03.8882276+01:00 0HLSBFHHBBEQL:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:05:03.8917877+01:00 0HLSBFHHBBEQL:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:05:03.8975989+01:00 0HLSBFHHBBEQL:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 50.3119ms (afa2e885)
2019-12-28T11:05:03.9019143+01:00 0HLSBFHHBBEQL:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:03.9058937+01:00 0HLSBFHHBBEQL:00000002 [INF] Request finished in 77.03790000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:05.1213001+01:00 0HLSBFHHBBEQL:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T11:05:05.1250077+01:00 0HLSBFHHBBEQL:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:05.1284888+01:00 0HLSBFHHBBEQL:00000003 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:05.1339603+01:00 0HLSBFHHBBEQL:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:05.1430483+01:00 0HLSBFHHBBEQL:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:05:05.1487282+01:00 0HLSBFHHBBEQL:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:05:05.1564658+01:00 0HLSBFHHBBEQL:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T11:05:05.1990420+01:00 0HLSBFHHBBEQL:00000003 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T11:05:05.3707793+01:00 0HLSBFHHBBEQL:00000003 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T11:05:05.3753518+01:00 0HLSBFHHBBEQL:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:05:05.3801582+01:00 0HLSBFHHBBEQL:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 247.74710000000002ms (afa2e885)
2019-12-28T11:05:05.3842369+01:00 0HLSBFHHBBEQL:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:05.3969877+01:00 0HLSBFHHBBEQL:00000003 [INF] Request finished in 274.9809ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:10.6251176+01:00 0HLSBFHHBBEQM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:05:10.6293930+01:00 0HLSBFHHBBEQM:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:10.6349854+01:00 0HLSBFHHBBEQM:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:10.6403428+01:00 0HLSBFHHBBEQM:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:05:10.6462991+01:00 0HLSBFHHBBEQM:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:10.6582006+01:00 0HLSBFHHBBEQM:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:05:10.6653648+01:00 0HLSBFHHBBEQM:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:05:10.6713929+01:00 0HLSBFHHBBEQM:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 31.059800000000003ms (afa2e885)
2019-12-28T11:05:10.6795825+01:00 0HLSBFHHBBEQM:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:10.6851413+01:00 0HLSBFHHBBEQM:00000001 [INF] Request finished in 59.8556ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:14.7590180+01:00 0HLSBFHHBBEQM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:05:14.7684512+01:00 0HLSBFHHBBEQM:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:14.7805012+01:00 0HLSBFHHBBEQM:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:14.8028845+01:00 0HLSBFHHBBEQM:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:14.8147224+01:00 0HLSBFHHBBEQM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:05:14.8193067+01:00 0HLSBFHHBBEQM:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:05:14.8242262+01:00 0HLSBFHHBBEQM:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:05:14.8295727+01:00 0HLSBFHHBBEQM:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 44.727900000000005ms (afa2e885)
2019-12-28T11:05:14.8336637+01:00 0HLSBFHHBBEQM:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:14.8378851+01:00 0HLSBFHHBBEQM:00000002 [INF] Request finished in 84.753ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:21.4006372+01:00 0HLSBFHHBBEQM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:05:21.4056900+01:00 0HLSBFHHBBEQM:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:21.4099284+01:00 0HLSBFHHBBEQM:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:21.4151002+01:00 0HLSBFHHBBEQM:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:05:21.4188910+01:00 0HLSBFHHBBEQM:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:21.4257242+01:00 0HLSBFHHBBEQM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:05:21.4307393+01:00 0HLSBFHHBBEQM:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:05:21.4340244+01:00 0HLSBFHHBBEQM:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:05:21.4379006+01:00 0HLSBFHHBBEQM:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:05:21.4434221+01:00 0HLSBFHHBBEQM:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 28.8133ms (afa2e885)
2019-12-28T11:05:21.4469959+01:00 0HLSBFHHBBEQM:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:21.4512652+01:00 0HLSBFHHBBEQM:00000003 [INF] Request finished in 55.6862ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:24.3140659+01:00 0HLSBFHHBBEQM:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T11:05:24.3174343+01:00 0HLSBFHHBBEQM:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:24.3210234+01:00 0HLSBFHHBBEQM:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:24.3274329+01:00 0HLSBFHHBBEQM:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:24.3359487+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:05:24.3410299+01:00 0HLSBFHHBBEQM:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:05:24.3484347+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:05:24.3560602+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:05:24.3900215+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed DbCommand ("28"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:05:24.4189257+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed DbCommand ("18"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p14, @p15),
(@p16, @p17),
(@p18, @p19);" (0723d8ff)
2019-12-28T11:05:24.5514800+01:00 0HLSBFHHBBEQM:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:05:24.5584553+01:00 0HLSBFHHBBEQM:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:05:24.5635981+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 238.4958ms (afa2e885)
2019-12-28T11:05:24.5685294+01:00 0HLSBFHHBBEQM:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:24.5791380+01:00 0HLSBFHHBBEQM:00000004 [INF] Request finished in 257.7772ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:05:25.8856485+01:00 0HLSBFHHBBEQM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T11:05:25.8909936+01:00 0HLSBFHHBBEQM:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:05:25.9022861+01:00 0HLSBFHHBBEQM:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:05:25.9073964+01:00 0HLSBFHHBBEQM:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T11:05:25.9132706+01:00 0HLSBFHHBBEQM:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:05:25.9229842+01:00 0HLSBFHHBBEQM:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:05:25.9274506+01:00 0HLSBFHHBBEQM:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:05:25.9331221+01:00 0HLSBFHHBBEQM:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 26.7799ms (afa2e885)
2019-12-28T11:05:25.9366938+01:00 0HLSBFHHBBEQM:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:05:25.9410750+01:00 0HLSBFHHBBEQM:00000005 [INF] Request finished in 58.021100000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:06:23.5077167+01:00 0HLSBFHHBBEQN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:06:23.5188222+01:00 0HLSBFHHBBEQN:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:06:23.5265394+01:00 0HLSBFHHBBEQN:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:06:23.5343919+01:00 0HLSBFHHBBEQN:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:06:23.5407480+01:00 0HLSBFHHBBEQN:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:06:23.5527884+01:00 0HLSBFHHBBEQN:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:06:23.5590518+01:00 0HLSBFHHBBEQN:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:06:23.5721727+01:00 0HLSBFHHBBEQN:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 33.1683ms (afa2e885)
2019-12-28T11:06:23.5770201+01:00 0HLSBFHHBBEQN:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:06:23.5911246+01:00 0HLSBFHHBBEQN:00000001 [INF] Request finished in 73.9251ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:06:27.7043655+01:00 0HLSBFHHBBEQN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:06:27.7104938+01:00 0HLSBFHHBBEQN:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:06:27.7145935+01:00 0HLSBFHHBBEQN:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:06:27.7195743+01:00 0HLSBFHHBBEQN:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:06:27.7288100+01:00 0HLSBFHHBBEQN:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:06:27.7340928+01:00 0HLSBFHHBBEQN:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:06:27.7382882+01:00 0HLSBFHHBBEQN:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:06:27.7452520+01:00 0HLSBFHHBBEQN:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 25.5868ms (afa2e885)
2019-12-28T11:06:27.7493156+01:00 0HLSBFHHBBEQN:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:06:27.7538308+01:00 0HLSBFHHBBEQN:00000002 [INF] Request finished in 54.593900000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:06:29.2296861+01:00 0HLSBFHHBBEQN:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:06:29.2335996+01:00 0HLSBFHHBBEQN:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:06:29.2382380+01:00 0HLSBFHHBBEQN:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:06:29.2429179+01:00 0HLSBFHHBBEQN:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:06:29.2474561+01:00 0HLSBFHHBBEQN:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:06:29.2611511+01:00 0HLSBFHHBBEQN:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:06:29.2650288+01:00 0HLSBFHHBBEQN:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:06:29.2684795+01:00 0HLSBFHHBBEQN:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:06:29.2721773+01:00 0HLSBFHHBBEQN:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:06:29.2768881+01:00 0HLSBFHHBBEQN:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 34.5666ms (afa2e885)
2019-12-28T11:06:29.2804509+01:00 0HLSBFHHBBEQN:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:06:29.2846500+01:00 0HLSBFHHBBEQN:00000003 [INF] Request finished in 56.761900000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:06:30.5242451+01:00 0HLSBFHHBBEQN:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T11:06:30.5293933+01:00 0HLSBFHHBBEQN:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:06:30.5343216+01:00 0HLSBFHHBBEQN:00000004 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:06:30.5403319+01:00 0HLSBFHHBBEQN:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:06:30.5483157+01:00 0HLSBFHHBBEQN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:06:30.5524290+01:00 0HLSBFHHBBEQN:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:06:30.5584897+01:00 0HLSBFHHBBEQN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T11:06:30.5959672+01:00 0HLSBFHHBBEQN:00000004 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T11:06:30.6975221+01:00 0HLSBFHHBBEQN:00000004 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T11:06:30.7018429+01:00 0HLSBFHHBBEQN:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:06:30.7069169+01:00 0HLSBFHHBBEQN:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 168.1912ms (afa2e885)
2019-12-28T11:06:30.7113345+01:00 0HLSBFHHBBEQN:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:06:30.7195282+01:00 0HLSBFHHBBEQN:00000004 [INF] Request finished in 190.69330000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:06:34.8300181+01:00 0HLSBFHHBBEQN:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:06:34.8334836+01:00 0HLSBFHHBBEQN:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:06:34.8373232+01:00 0HLSBFHHBBEQN:00000005 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:06:34.8427410+01:00 0HLSBFHHBBEQN:00000005 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:06:34.8466871+01:00 0HLSBFHHBBEQN:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:06:34.8604268+01:00 0HLSBFHHBBEQN:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:06:34.8642369+01:00 0HLSBFHHBBEQN:00000005 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:06:34.8678125+01:00 0HLSBFHHBBEQN:00000005 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:06:34.8716659+01:00 0HLSBFHHBBEQN:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:06:34.8765834+01:00 0HLSBFHHBBEQN:00000005 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 35.5343ms (afa2e885)
2019-12-28T11:06:34.8806919+01:00 0HLSBFHHBBEQN:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:06:34.8848623+01:00 0HLSBFHHBBEQN:00000005 [INF] Request finished in 57.84ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:06:36.0441813+01:00 0HLSBFHHBBEQN:00000006 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T11:06:36.0472141+01:00 0HLSBFHHBBEQN:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:06:36.0509141+01:00 0HLSBFHHBBEQN:00000006 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:06:36.0563937+01:00 0HLSBFHHBBEQN:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:06:36.0627408+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:06:36.0665384+01:00 0HLSBFHHBBEQN:00000006 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:06:36.0719591+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:06:36.0783705+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:06:36.0847542+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:06:36.1169077+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p14, @p15),
(@p16, @p17),
(@p18, @p19);" (0723d8ff)
2019-12-28T11:06:36.3150586+01:00 0HLSBFHHBBEQN:00000006 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:06:36.3200916+01:00 0HLSBFHHBBEQN:00000006 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:06:36.3250000+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 269.9282ms (afa2e885)
2019-12-28T11:06:36.3289326+01:00 0HLSBFHHBBEQN:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:06:36.3428778+01:00 0HLSBFHHBBEQN:00000006 [INF] Request finished in 288.7616ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:08:17.7831354+01:00 0HLSBFHHBBEQO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:08:17.7929841+01:00 0HLSBFHHBBEQO:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:08:17.7966874+01:00 0HLSBFHHBBEQO:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:08:17.8015547+01:00 0HLSBFHHBBEQO:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:08:17.8131780+01:00 0HLSBFHHBBEQO:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:08:17.8203117+01:00 0HLSBFHHBBEQO:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:08:17.8256905+01:00 0HLSBFHHBBEQO:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:08:17.8300018+01:00 0HLSBFHHBBEQO:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 29.4937ms (afa2e885)
2019-12-28T11:08:17.8339398+01:00 0HLSBFHHBBEQO:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:08:17.8395682+01:00 0HLSBFHHBBEQO:00000001 [INF] Request finished in 84.492ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:08:20.4176370+01:00 0HLSBFHHBBEQO:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:08:20.4214745+01:00 0HLSBFHHBBEQO:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:08:20.4249402+01:00 0HLSBFHHBBEQO:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:08:20.4313305+01:00 0HLSBFHHBBEQO:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:08:20.4407420+01:00 0HLSBFHHBBEQO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:08:20.4450349+01:00 0HLSBFHHBBEQO:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:08:20.4487145+01:00 0HLSBFHHBBEQO:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:08:20.4523753+01:00 0HLSBFHHBBEQO:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 24.2347ms (afa2e885)
2019-12-28T11:08:20.4575019+01:00 0HLSBFHHBBEQO:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:08:20.4617588+01:00 0HLSBFHHBBEQO:00000002 [INF] Request finished in 44.798ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:08:21.8637244+01:00 0HLSBFHHBBEQO:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:08:21.8693805+01:00 0HLSBFHHBBEQO:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:08:21.8755629+01:00 0HLSBFHHBBEQO:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:08:21.8797776+01:00 0HLSBFHHBBEQO:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:08:21.8835819+01:00 0HLSBFHHBBEQO:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:08:21.8901481+01:00 0HLSBFHHBBEQO:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:08:21.8939810+01:00 0HLSBFHHBBEQO:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:08:21.8974236+01:00 0HLSBFHHBBEQO:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:08:21.9006438+01:00 0HLSBFHHBBEQO:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:08:21.9051985+01:00 0HLSBFHHBBEQO:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 25.6016ms (afa2e885)
2019-12-28T11:08:21.9086996+01:00 0HLSBFHHBBEQO:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:08:21.9137151+01:00 0HLSBFHHBBEQO:00000003 [INF] Request finished in 51.624500000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:08:23.3601544+01:00 0HLSBFHHBBEQO:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T11:08:23.3638677+01:00 0HLSBFHHBBEQO:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:08:23.3674646+01:00 0HLSBFHHBBEQO:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:08:23.3734862+01:00 0HLSBFHHBBEQO:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:08:23.3824840+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:08:23.3882394+01:00 0HLSBFHHBBEQO:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:08:23.3937344+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:08:23.4019513+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:08:23.4159840+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:08:23.5096100+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed DbCommand ("82"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p18, @p19),
(@p20, @p21),
(@p22, @p23),
(@p24, @p25);" (0723d8ff)
2019-12-28T11:08:23.6888003+01:00 0HLSBFHHBBEQO:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:08:23.6992344+01:00 0HLSBFHHBBEQO:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:08:23.7046947+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 332.3964ms (afa2e885)
2019-12-28T11:08:23.7093104+01:00 0HLSBFHHBBEQO:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:08:23.7154728+01:00 0HLSBFHHBBEQO:00000004 [INF] Request finished in 352.5873ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:12.7225456+01:00 0HLSBFHHBBEQP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:09:12.7269021+01:00 0HLSBFHHBBEQP:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:12.7316466+01:00 0HLSBFHHBBEQP:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:12.7369629+01:00 0HLSBFHHBBEQP:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:09:12.7415017+01:00 0HLSBFHHBBEQP:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:12.7493533+01:00 0HLSBFHHBBEQP:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:09:12.7744015+01:00 0HLSBFHHBBEQP:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:12.7816266+01:00 0HLSBFHHBBEQP:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 44.6317ms (afa2e885)
2019-12-28T11:09:12.7861365+01:00 0HLSBFHHBBEQP:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:12.7905717+01:00 0HLSBFHHBBEQP:00000001 [INF] Request finished in 68.1332ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:14.9548886+01:00 0HLSBFHHBBEQP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T11:09:14.9586399+01:00 0HLSBFHHBBEQP:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:14.9709115+01:00 0HLSBFHHBBEQP:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:14.9774044+01:00 0HLSBFHHBBEQP:00000002 [INF] Petición de listado de horarios (2489320f)
2019-12-28T11:09:14.9860372+01:00 0HLSBFHHBBEQP:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:15.0239697+01:00 0HLSBFHHBBEQP:00000002 [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T11:09:15.0400798+01:00 0HLSBFHHBBEQP:00000002 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T11:09:15.0485101+01:00 0HLSBFHHBBEQP:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:15.0539133+01:00 0HLSBFHHBBEQP:00000002 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 79.50670000000001ms (afa2e885)
2019-12-28T11:09:15.0569986+01:00 0HLSBFHHBBEQP:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:15.0626743+01:00 0HLSBFHHBBEQP:00000002 [INF] Request finished in 105.25290000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:15.0685676+01:00 0HLSBFHHBBEQP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:09:15.0723693+01:00 0HLSBFHHBBEQP:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:15.0761639+01:00 0HLSBFHHBBEQP:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:15.0799797+01:00 0HLSBFHHBBEQP:00000003 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:09:15.0835783+01:00 0HLSBFHHBBEQP:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:15.0900956+01:00 0HLSBFHHBBEQP:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:09:15.0949958+01:00 0HLSBFHHBBEQP:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:15.0986163+01:00 0HLSBFHHBBEQP:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 19.413500000000003ms (afa2e885)
2019-12-28T11:09:15.1017819+01:00 0HLSBFHHBBEQP:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:15.1084180+01:00 0HLSBFHHBBEQP:00000003 [INF] Request finished in 36.3782ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:16.5890610+01:00 0HLSBFHHBBEQP:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:09:16.5933086+01:00 0HLSBFHHBBEQP:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:16.5976714+01:00 0HLSBFHHBBEQP:00000004 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:16.6045239+01:00 0HLSBFHHBBEQP:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:16.6130125+01:00 0HLSBFHHBBEQP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:09:16.6175527+01:00 0HLSBFHHBBEQP:00000004 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:09:16.6212101+01:00 0HLSBFHHBBEQP:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:16.6258505+01:00 0HLSBFHHBBEQP:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 23.7191ms (afa2e885)
2019-12-28T11:09:16.6296425+01:00 0HLSBFHHBBEQP:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:16.6350285+01:00 0HLSBFHHBBEQP:00000004 [INF] Request finished in 45.183ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:17.9207094+01:00 0HLSBFHHBBEQP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T11:09:17.9255979+01:00 0HLSBFHHBBEQP:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:17.9297843+01:00 0HLSBFHHBBEQP:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:17.9347204+01:00 0HLSBFHHBBEQP:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T11:09:17.9385699+01:00 0HLSBFHHBBEQP:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:17.9449656+01:00 0HLSBFHHBBEQP:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:09:17.9489824+01:00 0HLSBFHHBBEQP:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:17.9528181+01:00 0HLSBFHHBBEQP:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 19.3692ms (afa2e885)
2019-12-28T11:09:17.9558976+01:00 0HLSBFHHBBEQP:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:17.9591845+01:00 0HLSBFHHBBEQP:00000005 [INF] Request finished in 43.604ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:20.2977385+01:00 0HLSBFHHBBEQP:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:09:20.3042850+01:00 0HLSBFHHBBEQP:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:20.3083229+01:00 0HLSBFHHBBEQP:00000006 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:20.3133556+01:00 0HLSBFHHBBEQP:00000006 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:09:20.3177212+01:00 0HLSBFHHBBEQP:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:20.3244988+01:00 0HLSBFHHBBEQP:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:09:20.3286046+01:00 0HLSBFHHBBEQP:00000006 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:09:20.3319087+01:00 0HLSBFHHBBEQP:00000006 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:09:20.3358632+01:00 0HLSBFHHBBEQP:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:20.3395565+01:00 0HLSBFHHBBEQP:00000006 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 27.849300000000003ms (afa2e885)
2019-12-28T11:09:20.3436770+01:00 0HLSBFHHBBEQP:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:20.3476468+01:00 0HLSBFHHBBEQP:00000006 [INF] Request finished in 50.916000000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:23.3501280+01:00 0HLSBFHHBBEQP:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T11:09:23.3530902+01:00 0HLSBFHHBBEQP:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:23.3565981+01:00 0HLSBFHHBBEQP:00000007 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:23.3611535+01:00 0HLSBFHHBBEQP:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:23.3680829+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:09:23.3719329+01:00 0HLSBFHHBBEQP:00000007 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:09:23.3780286+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:09:23.3904804+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:09:23.3965092+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:09:23.4401735+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed DbCommand ("33"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);
UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p20 AND `subject_id` = @p21;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p22, @p23),
(@p24, @p25);" (0723d8ff)
2019-12-28T11:09:23.5861323+01:00 0HLSBFHHBBEQP:00000007 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:09:23.5899058+01:00 0HLSBFHHBBEQP:00000007 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:09:23.5938719+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 233.66250000000002ms (afa2e885)
2019-12-28T11:09:23.5968709+01:00 0HLSBFHHBBEQP:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:23.6037789+01:00 0HLSBFHHBBEQP:00000007 [INF] Request finished in 251.40050000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:25.7518109+01:00 0HLSBFHHBBEQP:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T11:09:25.7556131+01:00 0HLSBFHHBBEQP:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:25.7602638+01:00 0HLSBFHHBBEQP:00000008 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:25.7870743+01:00 0HLSBFHHBBEQP:00000008 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T11:09:25.7922669+01:00 0HLSBFHHBBEQP:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:25.8001022+01:00 0HLSBFHHBBEQP:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:09:25.8042125+01:00 0HLSBFHHBBEQP:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:25.8096667+01:00 0HLSBFHHBBEQP:00000008 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 44.0726ms (afa2e885)
2019-12-28T11:09:25.8133654+01:00 0HLSBFHHBBEQP:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:25.8191253+01:00 0HLSBFHHBBEQP:00000008 [INF] Request finished in 66.4272ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:30.0363271+01:00 0HLSBFHHBBEQP:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:09:30.0402099+01:00 0HLSBFHHBBEQP:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:30.0443072+01:00 0HLSBFHHBBEQP:00000009 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:30.0482180+01:00 0HLSBFHHBBEQP:00000009 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:09:30.0529611+01:00 0HLSBFHHBBEQP:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:30.0602988+01:00 0HLSBFHHBBEQP:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:09:30.0644058+01:00 0HLSBFHHBBEQP:00000009 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:09:30.0683721+01:00 0HLSBFHHBBEQP:00000009 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:09:30.0717386+01:00 0HLSBFHHBBEQP:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:30.0754162+01:00 0HLSBFHHBBEQP:00000009 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 27.8963ms (afa2e885)
2019-12-28T11:09:30.0785444+01:00 0HLSBFHHBBEQP:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:30.0827394+01:00 0HLSBFHHBBEQP:00000009 [INF] Request finished in 47.3766ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:31.1068912+01:00 0HLSBFHHBBEQP:0000000A [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T11:09:31.1100269+01:00 0HLSBFHHBBEQP:0000000A [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:31.1132927+01:00 0HLSBFHHBBEQP:0000000A [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:31.1186131+01:00 0HLSBFHHBBEQP:0000000A [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:31.1258172+01:00 0HLSBFHHBBEQP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:09:31.1305750+01:00 0HLSBFHHBBEQP:0000000A [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:09:31.1355715+01:00 0HLSBFHHBBEQP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T11:09:31.1535214+01:00 0HLSBFHHBBEQP:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p13='?' (DbType = Int32), @p12='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();

UPDATE `student` SET `course_id` = @p12
WHERE `id` = @p13;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p14 AND `subject_id` = @p15;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p16 AND `subject_id` = @p17;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p18 AND `subject_id` = @p19;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T11:09:31.2527492+01:00 0HLSBFHHBBEQP:0000000A [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T11:09:31.2565484+01:00 0HLSBFHHBBEQP:0000000A [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:09:31.2602945+01:00 0HLSBFHHBBEQP:0000000A [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 143.7409ms (afa2e885)
2019-12-28T11:09:31.2638360+01:00 0HLSBFHHBBEQP:0000000A [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:31.2689384+01:00 0HLSBFHHBBEQP:0000000A [INF] Request finished in 160.27620000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:36.3469208+01:00 0HLSBFHHBBEQP:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:09:36.3524827+01:00 0HLSBFHHBBEQP:0000000B [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:36.3570085+01:00 0HLSBFHHBBEQP:0000000B [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:36.3608092+01:00 0HLSBFHHBBEQP:0000000B [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:09:36.3642967+01:00 0HLSBFHHBBEQP:0000000B [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:36.3709114+01:00 0HLSBFHHBBEQP:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:09:36.3743621+01:00 0HLSBFHHBBEQP:0000000B [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:09:36.3775944+01:00 0HLSBFHHBBEQP:0000000B [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:09:36.3827988+01:00 0HLSBFHHBBEQP:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:09:36.3872201+01:00 0HLSBFHHBBEQP:0000000B [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 26.3306ms (afa2e885)
2019-12-28T11:09:36.3909388+01:00 0HLSBFHHBBEQP:0000000B [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:36.3954902+01:00 0HLSBFHHBBEQP:0000000B [INF] Request finished in 55.1636ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:09:37.8546584+01:00 0HLSBFHHBBEQP:0000000C [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T11:09:37.8578780+01:00 0HLSBFHHBBEQP:0000000C [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:09:37.8612038+01:00 0HLSBFHHBBEQP:0000000C [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:09:37.8657114+01:00 0HLSBFHHBBEQP:0000000C [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:09:37.8727597+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:09:37.8771866+01:00 0HLSBFHHBBEQP:0000000C [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:09:37.8855137+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:09:37.8931537+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:09:37.9023845+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:09:37.9309196+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed DbCommand ("20"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T11:09:38.0216391+01:00 0HLSBFHHBBEQP:0000000C [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:09:38.0268769+01:00 0HLSBFHHBBEQP:0000000C [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:09:38.0339331+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 165.88410000000002ms (afa2e885)
2019-12-28T11:09:38.0372809+01:00 0HLSBFHHBBEQP:0000000C [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:09:38.0481278+01:00 0HLSBFHHBBEQP:0000000C [INF] Request finished in 185.97050000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:11:21.4262073+01:00 0HLSBFHHBBEQQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:11:21.4316228+01:00 0HLSBFHHBBEQQ:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:11:21.4351176+01:00 0HLSBFHHBBEQQ:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:11:21.4392910+01:00 0HLSBFHHBBEQQ:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:11:21.4449109+01:00 0HLSBFHHBBEQQ:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:11:21.4537193+01:00 0HLSBFHHBBEQQ:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:11:21.4594616+01:00 0HLSBFHHBBEQQ:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:11:21.4655483+01:00 0HLSBFHHBBEQQ:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 26.1876ms (afa2e885)
2019-12-28T11:11:21.4698846+01:00 0HLSBFHHBBEQQ:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:11:21.4747601+01:00 0HLSBFHHBBEQQ:00000001 [INF] Request finished in 48.841ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:11:22.8957788+01:00 0HLSBFHHBBEQQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:11:22.8999784+01:00 0HLSBFHHBBEQQ:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:11:22.9039303+01:00 0HLSBFHHBBEQQ:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:11:22.9102041+01:00 0HLSBFHHBBEQQ:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:11:22.9203866+01:00 0HLSBFHHBBEQQ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:11:22.9248127+01:00 0HLSBFHHBBEQQ:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:11:22.9294119+01:00 0HLSBFHHBBEQQ:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:11:22.9344419+01:00 0HLSBFHHBBEQQ:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 26.2075ms (afa2e885)
2019-12-28T11:11:22.9385515+01:00 0HLSBFHHBBEQQ:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:11:22.9426365+01:00 0HLSBFHHBBEQQ:00000002 [INF] Request finished in 46.8917ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:12:14.7287665+01:00 0HLSBFHHBBEQR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:12:14.7325977+01:00 0HLSBFHHBBEQR:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:12:14.7377489+01:00 0HLSBFHHBBEQR:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:12:14.7434497+01:00 0HLSBFHHBBEQR:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:12:14.7488152+01:00 0HLSBFHHBBEQR:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:12:14.7548434+01:00 0HLSBFHHBBEQR:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:12:14.7603957+01:00 0HLSBFHHBBEQR:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:12:14.7644898+01:00 0HLSBFHHBBEQR:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 22.813200000000002ms (afa2e885)
2019-12-28T11:12:14.7685683+01:00 0HLSBFHHBBEQR:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:12:14.7735593+01:00 0HLSBFHHBBEQR:00000001 [INF] Request finished in 43.957ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:12:19.3583932+01:00 0HLSBFHHBBEQR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:12:19.3614721+01:00 0HLSBFHHBBEQR:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:12:19.3648712+01:00 0HLSBFHHBBEQR:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:12:19.3699058+01:00 0HLSBFHHBBEQR:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:12:19.3774151+01:00 0HLSBFHHBBEQR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:12:19.3817695+01:00 0HLSBFHHBBEQR:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:12:19.3854761+01:00 0HLSBFHHBBEQR:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:12:19.3890321+01:00 0HLSBFHHBBEQR:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 20.7922ms (afa2e885)
2019-12-28T11:12:19.3925829+01:00 0HLSBFHHBBEQR:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:12:19.3959794+01:00 0HLSBFHHBBEQR:00000002 [INF] Request finished in 38.5369ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:12:23.1396299+01:00 0HLSBFHHBBEQR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:12:23.1443440+01:00 0HLSBFHHBBEQR:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:12:23.1489500+01:00 0HLSBFHHBBEQR:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:12:23.1543738+01:00 0HLSBFHHBBEQR:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:12:23.1617390+01:00 0HLSBFHHBBEQR:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:12:23.1678172+01:00 0HLSBFHHBBEQR:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:12:23.1721016+01:00 0HLSBFHHBBEQR:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:12:23.1764324+01:00 0HLSBFHHBBEQR:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:12:23.1810678+01:00 0HLSBFHHBBEQR:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:12:23.1853147+01:00 0HLSBFHHBBEQR:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 32.2538ms (afa2e885)
2019-12-28T11:12:23.1885868+01:00 0HLSBFHHBBEQR:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:12:23.1934209+01:00 0HLSBFHHBBEQR:00000003 [INF] Request finished in 53.7436ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:12:24.5976391+01:00 0HLSBFHHBBEQR:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T11:12:24.6023290+01:00 0HLSBFHHBBEQR:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:12:24.6056261+01:00 0HLSBFHHBBEQR:00000004 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:12:24.6098364+01:00 0HLSBFHHBBEQR:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:12:24.6163723+01:00 0HLSBFHHBBEQR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:12:24.6200345+01:00 0HLSBFHHBBEQR:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:12:24.6348366+01:00 0HLSBFHHBBEQR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T11:12:24.6907796+01:00 0HLSBFHHBBEQR:00000004 [INF] Executed DbCommand ("48"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p10 AND `subject_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T11:12:24.8247986+01:00 0HLSBFHHBBEQR:00000004 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T11:12:24.8297861+01:00 0HLSBFHHBBEQR:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:12:24.8338976+01:00 0HLSBFHHBBEQR:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 224.40120000000002ms (afa2e885)
2019-12-28T11:12:24.8376950+01:00 0HLSBFHHBBEQR:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:12:24.8461005+01:00 0HLSBFHHBBEQR:00000004 [INF] Request finished in 243.3094ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:12:28.2054042+01:00 0HLSBFHHBBEQR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:12:28.2136133+01:00 0HLSBFHHBBEQR:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:12:28.2197667+01:00 0HLSBFHHBBEQR:00000005 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:12:28.2484283+01:00 0HLSBFHHBBEQR:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:12:28.3356288+01:00 0HLSBFHHBBEQR:00000005 [INF] Executed DbCommand ("75"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:12:28.3393923+01:00 0HLSBFHHBBEQR:00000005 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:12:28.3428119+01:00 0HLSBFHHBBEQR:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:12:28.3465892+01:00 0HLSBFHHBBEQR:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 123.5959ms (afa2e885)
2019-12-28T11:12:28.3502855+01:00 0HLSBFHHBBEQR:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:12:28.3540991+01:00 0HLSBFHHBBEQR:00000005 [INF] Request finished in 152.9376ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:12:58.4850874+01:00 0HLSBFHHBBEQS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:12:58.4893109+01:00 0HLSBFHHBBEQS:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:12:58.4932087+01:00 0HLSBFHHBBEQS:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:12:58.4970248+01:00 0HLSBFHHBBEQS:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:12:58.5006182+01:00 0HLSBFHHBBEQS:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:12:58.5957660+01:00 0HLSBFHHBBEQS:00000001 [INF] Executed DbCommand ("83"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:12:58.5997202+01:00 0HLSBFHHBBEQS:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:12:58.6037973+01:00 0HLSBFHHBBEQS:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 106.90520000000001ms (afa2e885)
2019-12-28T11:12:58.6083448+01:00 0HLSBFHHBBEQS:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:12:58.6122793+01:00 0HLSBFHHBBEQS:00000001 [INF] Request finished in 127.03760000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:08.8232262+01:00 0HLSBFHHBBEQT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:13:08.8275312+01:00 0HLSBFHHBBEQT:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:08.8315322+01:00 0HLSBFHHBBEQT:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:08.8355270+01:00 0HLSBFHHBBEQT:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:13:08.8403792+01:00 0HLSBFHHBBEQT:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:08.8481825+01:00 0HLSBFHHBBEQT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:13:08.8531633+01:00 0HLSBFHHBBEQT:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:08.8579848+01:00 0HLSBFHHBBEQT:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 22.2638ms (afa2e885)
2019-12-28T11:13:08.8619686+01:00 0HLSBFHHBBEQT:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:08.8663478+01:00 0HLSBFHHBBEQT:00000001 [INF] Request finished in 45.2693ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:10.3148148+01:00 0HLSBFHHBBEQT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:13:10.3196819+01:00 0HLSBFHHBBEQT:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:10.3237061+01:00 0HLSBFHHBBEQT:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:10.3289992+01:00 0HLSBFHHBBEQT:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:10.3377105+01:00 0HLSBFHHBBEQT:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:13:10.3424327+01:00 0HLSBFHHBBEQT:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:13:10.3462397+01:00 0HLSBFHHBBEQT:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:10.3505586+01:00 0HLSBFHHBBEQT:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 22.771900000000002ms (afa2e885)
2019-12-28T11:13:10.3543013+01:00 0HLSBFHHBBEQT:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:10.3598222+01:00 0HLSBFHHBBEQT:00000002 [INF] Request finished in 44.4147ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:13.9744422+01:00 0HLSBFHHBBEQT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:13:13.9807818+01:00 0HLSBFHHBBEQT:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:13.9851588+01:00 0HLSBFHHBBEQT:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:13.9894450+01:00 0HLSBFHHBBEQT:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:13:13.9934131+01:00 0HLSBFHHBBEQT:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:14.0001718+01:00 0HLSBFHHBBEQT:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:13:14.0045274+01:00 0HLSBFHHBBEQT:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:13:14.0091832+01:00 0HLSBFHHBBEQT:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:13:14.0129818+01:00 0HLSBFHHBBEQT:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:14.0171347+01:00 0HLSBFHHBBEQT:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 27.9642ms (afa2e885)
2019-12-28T11:13:14.0211095+01:00 0HLSBFHHBBEQT:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:14.0257328+01:00 0HLSBFHHBBEQT:00000003 [INF] Request finished in 56.0045ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:15.4656289+01:00 0HLSBFHHBBEQT:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T11:13:15.4693299+01:00 0HLSBFHHBBEQT:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:15.4732224+01:00 0HLSBFHHBBEQT:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:15.4777225+01:00 0HLSBFHHBBEQT:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:15.5139539+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed DbCommand ("30"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:13:15.5180669+01:00 0HLSBFHHBBEQT:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:13:15.5268264+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:13:15.5344193+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:13:15.5578065+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed DbCommand ("17"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:13:15.5951709+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed DbCommand ("29"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T11:13:15.8200664+01:00 0HLSBFHHBBEQT:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:13:15.8266658+01:00 0HLSBFHHBBEQT:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:13:15.8312763+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 353.7749ms (afa2e885)
2019-12-28T11:13:15.8357050+01:00 0HLSBFHHBBEQT:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:15.8420970+01:00 0HLSBFHHBBEQT:00000004 [INF] Request finished in 373.7509ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:33.1601603+01:00 0HLSBFHHBBEQU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:13:33.1653698+01:00 0HLSBFHHBBEQU:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:33.1693328+01:00 0HLSBFHHBBEQU:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:33.1742672+01:00 0HLSBFHHBBEQU:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:13:33.1790313+01:00 0HLSBFHHBBEQU:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:33.1952407+01:00 0HLSBFHHBBEQU:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:13:33.2000872+01:00 0HLSBFHHBBEQU:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:33.2049645+01:00 0HLSBFHHBBEQU:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 31.311400000000003ms (afa2e885)
2019-12-28T11:13:33.2088063+01:00 0HLSBFHHBBEQU:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:33.2132196+01:00 0HLSBFHHBBEQU:00000001 [INF] Request finished in 52.920500000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:35.0403468+01:00 0HLSBFHHBBEQU:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:13:35.0707471+01:00 0HLSBFHHBBEQU:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:35.0845324+01:00 0HLSBFHHBBEQU:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:35.0970026+01:00 0HLSBFHHBBEQU:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:35.1138578+01:00 0HLSBFHHBBEQU:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:13:35.1276385+01:00 0HLSBFHHBBEQU:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:13:35.1336500+01:00 0HLSBFHHBBEQU:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:35.1410731+01:00 0HLSBFHHBBEQU:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 49.6047ms (afa2e885)
2019-12-28T11:13:35.1464425+01:00 0HLSBFHHBBEQU:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:35.1527127+01:00 0HLSBFHHBBEQU:00000002 [INF] Request finished in 123.50450000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:37.6129524+01:00 0HLSBFHHBBEQU:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:13:37.6177278+01:00 0HLSBFHHBBEQU:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:37.6247597+01:00 0HLSBFHHBBEQU:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:37.6298712+01:00 0HLSBFHHBBEQU:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:13:37.6355258+01:00 0HLSBFHHBBEQU:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:37.6432687+01:00 0HLSBFHHBBEQU:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:13:37.6473326+01:00 0HLSBFHHBBEQU:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:13:37.6508349+01:00 0HLSBFHHBBEQU:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:13:37.6559883+01:00 0HLSBFHHBBEQU:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:37.6602808+01:00 0HLSBFHHBBEQU:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 31.8214ms (afa2e885)
2019-12-28T11:13:37.6641579+01:00 0HLSBFHHBBEQU:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:37.6687403+01:00 0HLSBFHHBBEQU:00000003 [INF] Request finished in 56.7351ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:39.1462585+01:00 0HLSBFHHBBEQU:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T11:13:39.1501313+01:00 0HLSBFHHBBEQU:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:39.1539661+01:00 0HLSBFHHBBEQU:00000004 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:39.1586449+01:00 0HLSBFHHBBEQU:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:39.1747774+01:00 0HLSBFHHBBEQU:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:13:39.1790702+01:00 0HLSBFHHBBEQU:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:13:39.1854134+01:00 0HLSBFHHBBEQU:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T11:13:39.2198096+01:00 0HLSBFHHBBEQU:00000004 [INF] Executed DbCommand ("26"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p10 AND `subject_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T11:13:39.3420296+01:00 0HLSBFHHBBEQU:00000004 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T11:13:39.3467062+01:00 0HLSBFHHBBEQU:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:13:39.3546272+01:00 0HLSBFHHBBEQU:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 193.5807ms (afa2e885)
2019-12-28T11:13:39.3588977+01:00 0HLSBFHHBBEQU:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:39.3681853+01:00 0HLSBFHHBBEQU:00000004 [INF] Request finished in 218.19140000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:57.2902602+01:00 0HLSBFHHBBEQV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T11:13:57.2942827+01:00 0HLSBFHHBBEQV:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:57.2986815+01:00 0HLSBFHHBBEQV:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:57.3047817+01:00 0HLSBFHHBBEQV:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T11:13:57.3104622+01:00 0HLSBFHHBBEQV:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:57.3209133+01:00 0HLSBFHHBBEQV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T11:13:57.3256472+01:00 0HLSBFHHBBEQV:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:57.3321491+01:00 0HLSBFHHBBEQV:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 27.677ms (afa2e885)
2019-12-28T11:13:57.3377739+01:00 0HLSBFHHBBEQV:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:57.3430555+01:00 0HLSBFHHBBEQV:00000001 [INF] Request finished in 51.100100000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:13:59.5938815+01:00 0HLSBFHHBBEQV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T11:13:59.6125061+01:00 0HLSBFHHBBEQV:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T11:13:59.6179000+01:00 0HLSBFHHBBEQV:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:13:59.6248653+01:00 0HLSBFHHBBEQV:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:13:59.6333626+01:00 0HLSBFHHBBEQV:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T11:13:59.6384711+01:00 0HLSBFHHBBEQV:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T11:13:59.6424661+01:00 0HLSBFHHBBEQV:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:13:59.6467333+01:00 0HLSBFHHBBEQV:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 24.8337ms (afa2e885)
2019-12-28T11:13:59.6506532+01:00 0HLSBFHHBBEQV:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:13:59.6549665+01:00 0HLSBFHHBBEQV:00000002 [INF] Request finished in 84.7283ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:00.7649453+01:00 0HLSBFHHBBEQV:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:14:00.7690683+01:00 0HLSBFHHBBEQV:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:00.7732175+01:00 0HLSBFHHBBEQV:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:00.7776030+01:00 0HLSBFHHBBEQV:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:14:00.7814471+01:00 0HLSBFHHBBEQV:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:00.7882481+01:00 0HLSBFHHBBEQV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:14:00.7920659+01:00 0HLSBFHHBBEQV:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:14:00.7957131+01:00 0HLSBFHHBBEQV:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:14:00.7993849+01:00 0HLSBFHHBBEQV:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:14:00.8034720+01:00 0HLSBFHHBBEQV:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 26.5732ms (afa2e885)
2019-12-28T11:14:00.8072335+01:00 0HLSBFHHBBEQV:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:00.8118042+01:00 0HLSBFHHBBEQV:00000003 [INF] Request finished in 46.229400000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:09.8182466+01:00 0HLSBFHHBBEQV:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T11:14:09.8219560+01:00 0HLSBFHHBBEQV:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:09.8255644+01:00 0HLSBFHHBBEQV:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:09.8299185+01:00 0HLSBFHHBBEQV:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:09.8371374+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:14:09.8410756+01:00 0HLSBFHHBBEQV:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:14:09.8472432+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:14:09.8548934+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:14:09.8615933+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:14:09.9010656+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed DbCommand ("32"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T11:14:10.0049616+01:00 0HLSBFHHBBEQV:00000004 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:14:10.0091075+01:00 0HLSBFHHBBEQV:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:14:10.0142069+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 183.6511ms (afa2e885)
2019-12-28T11:14:10.0175964+01:00 0HLSBFHHBBEQV:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:10.0233394+01:00 0HLSBFHHBBEQV:00000004 [INF] Request finished in 203.35850000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:13.2732074+01:00 0HLSBFHHBBEQV:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:14:13.2770459+01:00 0HLSBFHHBBEQV:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:13.2807439+01:00 0HLSBFHHBBEQV:00000005 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:13.2856158+01:00 0HLSBFHHBBEQV:00000005 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:14:13.2898779+01:00 0HLSBFHHBBEQV:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:13.2965155+01:00 0HLSBFHHBBEQV:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:14:13.2998009+01:00 0HLSBFHHBBEQV:00000005 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:14:13.3040286+01:00 0HLSBFHHBBEQV:00000005 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:14:13.3079569+01:00 0HLSBFHHBBEQV:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:14:13.3120536+01:00 0HLSBFHHBBEQV:00000005 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 27.392100000000003ms (afa2e885)
2019-12-28T11:14:13.3162574+01:00 0HLSBFHHBBEQV:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:13.3231745+01:00 0HLSBFHHBBEQV:00000005 [INF] Request finished in 50.508700000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:14.1092043+01:00 0HLSBFHHBBEQV:00000006 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T11:14:14.1127953+01:00 0HLSBFHHBBEQV:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:14.1166298+01:00 0HLSBFHHBBEQV:00000006 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:14.1207489+01:00 0HLSBFHHBBEQV:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:14.1289870+01:00 0HLSBFHHBBEQV:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:14:14.1333830+01:00 0HLSBFHHBBEQV:00000006 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:14:14.1410049+01:00 0HLSBFHHBBEQV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`student_id`, `s`.`school_class_id`
FROM `school_class_has_students` AS `s`
WHERE `s`.`student_id` = @__studentId_0" (0723d8ff)
2019-12-28T11:14:14.2568788+01:00 0HLSBFHHBBEQV:00000006 [INF] Executed DbCommand ("103"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p10 AND `subject_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T11:14:14.3724337+01:00 0HLSBFHHBBEQV:00000006 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T11:14:14.3766140+01:00 0HLSBFHHBBEQV:00000006 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:14:14.3800608+01:00 0HLSBFHHBBEQV:00000006 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 260.1682ms (afa2e885)
2019-12-28T11:14:14.3836174+01:00 0HLSBFHHBBEQV:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:14.3906295+01:00 0HLSBFHHBBEQV:00000006 [INF] Request finished in 277.711ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:15.8525030+01:00 0HLSBFHHBBEQV:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T11:14:15.8567401+01:00 0HLSBFHHBBEQV:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:15.8610173+01:00 0HLSBFHHBBEQV:00000007 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:15.8654393+01:00 0HLSBFHHBBEQV:00000007 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T11:14:15.8693787+01:00 0HLSBFHHBBEQV:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:15.8756175+01:00 0HLSBFHHBBEQV:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T11:14:15.8794714+01:00 0HLSBFHHBBEQV:00000007 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T11:14:15.8850532+01:00 0HLSBFHHBBEQV:00000007 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T11:14:15.8899797+01:00 0HLSBFHHBBEQV:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:14:15.8949080+01:00 0HLSBFHHBBEQV:00000007 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 29.4901ms (afa2e885)
2019-12-28T11:14:15.8990234+01:00 0HLSBFHHBBEQV:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:15.9038977+01:00 0HLSBFHHBBEQV:00000007 [INF] Request finished in 53.415ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:17.2566039+01:00 0HLSBFHHBBEQV:00000008 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T11:14:17.2608603+01:00 0HLSBFHHBBEQV:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:17.2648199+01:00 0HLSBFHHBBEQV:00000008 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:17.2701079+01:00 0HLSBFHHBBEQV:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:17.2779849+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T11:14:17.2817662+01:00 0HLSBFHHBBEQV:00000008 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T11:14:17.2890898+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
WHERE `c`.`id` = @__courseId_0
LIMIT 1" (0723d8ff)
2019-12-28T11:14:17.2954078+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:14:17.3020947+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`course_id` = @__courseId_0" (0723d8ff)
2019-12-28T11:14:17.3124881+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T11:14:17.4442928+01:00 0HLSBFHHBBEQV:00000008 [INF] Curso cursado por el Alumno actualizado en la base de datos. (43275a79)
2019-12-28T11:14:17.4495543+01:00 0HLSBFHHBBEQV:00000008 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T11:14:17.4550161+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 184.9863ms (afa2e885)
2019-12-28T11:14:17.4591279+01:00 0HLSBFHHBBEQV:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:17.4714307+01:00 0HLSBFHHBBEQV:00000008 [INF] Request finished in 206.2414ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T11:14:18.5914774+01:00 0HLSBFHHBBEQV:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T11:14:18.5962801+01:00 0HLSBFHHBBEQV:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T11:14:18.6009636+01:00 0HLSBFHHBBEQV:00000009 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T11:14:18.6059245+01:00 0HLSBFHHBBEQV:00000009 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T11:14:18.6104576+01:00 0HLSBFHHBBEQV:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T11:14:18.6168173+01:00 0HLSBFHHBBEQV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T11:14:18.6221979+01:00 0HLSBFHHBBEQV:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T11:14:18.6263873+01:00 0HLSBFHHBBEQV:00000009 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 21.3914ms (afa2e885)
2019-12-28T11:14:18.6301229+01:00 0HLSBFHHBBEQV:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T11:14:18.6349585+01:00 0HLSBFHHBBEQV:00000009 [INF] Request finished in 44.4555ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:17:05.5675228+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:17:05.5782626+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:17:05.5821890+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:17:05.5860749+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:17:05.5897504+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:17:08.4793968+01:00 0HLSBGTT31VTN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T12:17:08.5359681+01:00 0HLSBGTT31VTN:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:17:08.6220241+01:00 0HLSBGTT31VTN:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:17:09.0228396+01:00 0HLSBGTT31VTN:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T12:17:10.5960619+01:00 0HLSBGTT31VTN:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:17:10.6595526+01:00 0HLSBGTT31VTN:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:11.3481635+01:00 0HLSBGTT31VTN:00000001 [INF] Executed DbCommand ("59"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T12:17:11.5612212+01:00 0HLSBGTT31VTN:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:17:11.6171305+01:00 0HLSBGTT31VTN:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 2982.6418000000003ms (afa2e885)
2019-12-28T12:17:11.6218147+01:00 0HLSBGTT31VTN:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:17:11.6382688+01:00 0HLSBGTT31VTN:00000001 [INF] Request finished in 3161.3178000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:17:14.5932919+01:00 0HLSBGTT31VTN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T12:17:14.5991411+01:00 0HLSBGTT31VTN:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T12:17:14.6217353+01:00 0HLSBGTT31VTN:00000002 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:17:14.6836939+01:00 0HLSBGTT31VTN:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:14.8423254+01:00 0HLSBGTT31VTN:00000002 [INF] Executed DbCommand ("24"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T12:17:14.8830583+01:00 0HLSBGTT31VTN:00000002 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T12:17:14.8922415+01:00 0HLSBGTT31VTN:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:17:14.9076184+01:00 0HLSBGTT31VTN:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 282.38280000000003ms (afa2e885)
2019-12-28T12:17:14.9122878+01:00 0HLSBGTT31VTN:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:17:14.9171926+01:00 0HLSBGTT31VTN:00000002 [INF] Request finished in 323.8635ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:17:17.3397321+01:00 0HLSBGTT31VTN:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:17:17.3455988+01:00 0HLSBGTT31VTN:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:17:17.3730254+01:00 0HLSBGTT31VTN:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:17:17.3814357+01:00 0HLSBGTT31VTN:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:17:17.4113254+01:00 0HLSBGTT31VTN:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:17.4348933+01:00 0HLSBGTT31VTN:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:17:17.4413840+01:00 0HLSBGTT31VTN:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:17:17.4462115+01:00 0HLSBGTT31VTN:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:17:17.4505352+01:00 0HLSBGTT31VTN:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:17:17.4556490+01:00 0HLSBGTT31VTN:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 78.8365ms (afa2e885)
2019-12-28T12:17:17.4591366+01:00 0HLSBGTT31VTN:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:17:17.4645989+01:00 0HLSBGTT31VTN:00000003 [INF] Request finished in 125.72170000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:17:19.3993644+01:00 0HLSBGTT31VTO:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:17:19.4043162+01:00 0HLSBGTT31VTO:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:17:19.4146140+01:00 0HLSBGTT31VTO:00000001 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:17:19.4291385+01:00 0HLSBGTT31VTO:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:19.6214605+01:00 0HLSBGTT31VTO:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:19.6955262+01:00 0HLSBGTT31VTO:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:17:19.7068771+01:00 0HLSBGTT31VTO:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:17:19.7388870+01:00 0HLSBGTT31VTO:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:17:19.7454055+01:00 0HLSBGTT31VTO:00000001 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:17:20.0806993+01:00 0HLSBGTT31VTO:00000001 [INF] Executed DbCommand ("29"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:17:20.1960047+01:00 0HLSBGTT31VTO:00000001 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:17:20.2642818+01:00 0HLSBGTT31VTO:00000001 [INF] Executed DbCommand ("41"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:17:20.3083816+01:00 0HLSBGTT31VTO:00000001 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:17:20.3687835+01:00 0HLSBGTT31VTO:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T12:17:20.4722474+01:00 0HLSBGTT31VTO:00000001 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:17:20.4787728+01:00 0HLSBGTT31VTO:00000001 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:17:20.4831653+01:00 0HLSBGTT31VTO:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 1064.7664ms (afa2e885)
2019-12-28T12:17:20.4864596+01:00 0HLSBGTT31VTO:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:17:20.4919736+01:00 0HLSBGTT31VTO:00000001 [INF] Request finished in 1091.0712ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:17:47.1469687+01:00 0HLSBGTT31VTO:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:17:47.1514266+01:00 0HLSBGTT31VTO:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:17:47.1553519+01:00 0HLSBGTT31VTO:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:17:47.1603689+01:00 0HLSBGTT31VTO:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:17:47.1646057+01:00 0HLSBGTT31VTO:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:47.1829695+01:00 0HLSBGTT31VTO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:17:47.1872763+01:00 0HLSBGTT31VTO:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:17:47.1906771+01:00 0HLSBGTT31VTO:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:17:47.1948116+01:00 0HLSBGTT31VTO:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:17:47.2012271+01:00 0HLSBGTT31VTO:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 40.685500000000005ms (afa2e885)
2019-12-28T12:17:47.2047852+01:00 0HLSBGTT31VTO:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:17:47.2118668+01:00 0HLSBGTT31VTO:00000002 [INF] Request finished in 95.8576ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:17:49.0978350+01:00 0HLSBGTT31VTO:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T12:17:49.1037165+01:00 0HLSBGTT31VTO:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:17:49.1078666+01:00 0HLSBGTT31VTO:00000003 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:17:49.1181261+01:00 0HLSBGTT31VTO:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:49.1255150+01:00 0HLSBGTT31VTO:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:17:49.1346599+01:00 0HLSBGTT31VTO:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:17:49.1408799+01:00 0HLSBGTT31VTO:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:17:49.1470610+01:00 0HLSBGTT31VTO:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:17:49.1514408+01:00 0HLSBGTT31VTO:00000003 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:17:49.1799488+01:00 0HLSBGTT31VTO:00000003 [INF] Executed DbCommand ("12"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p6, @p7),
(@p8, @p9),
(@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:17:49.7642669+01:00 0HLSBGTT31VTO:00000003 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:17:49.7799416+01:00 0HLSBGTT31VTO:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:17:49.7869800+01:00 0HLSBGTT31VTO:00000003 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:17:49.8323936+01:00 0HLSBGTT31VTO:00000003 [INF] Executed DbCommand ("34"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:17:49.9540687+01:00 0HLSBGTT31VTO:00000003 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:17:49.9583697+01:00 0HLSBGTT31VTO:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:17:49.9631558+01:00 0HLSBGTT31VTO:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 851.413ms (afa2e885)
2019-12-28T12:17:49.9668184+01:00 0HLSBGTT31VTO:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:17:49.9728308+01:00 0HLSBGTT31VTO:00000003 [INF] Request finished in 874.5498ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:18:09.6762925+01:00 0HLSBGTT31VTO:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects   (ca22a1cb)
2019-12-28T12:18:09.6816082+01:00 0HLSBGTT31VTO:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)"' (500cc934)
2019-12-28T12:18:09.6987528+01:00 0HLSBGTT31VTO:00000004 [INF] Route matched with "{action = \"GetAllIncludingAssignedTeacher\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllIncludingAssignedTeacher()" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:18:09.7077844+01:00 0HLSBGTT31VTO:00000004 [INF] Petición de listado de asignaturas recibida (ea283cf1)
2019-12-28T12:18:09.7191102+01:00 0HLSBGTT31VTO:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:18:09.7864387+01:00 0HLSBGTT31VTO:00000004 [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`, `t`.`id`, `t`.`password`, `t`.`person_data_id`, `t`.`username`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`
FROM `subject` AS `s`
LEFT JOIN `teacher` AS `t` ON `s`.`teacher_id` = `t`.`id`
LEFT JOIN `person_data` AS `p` ON `t`.`person_data_id` = `p`.`id`
ORDER BY `s`.`name`" (0723d8ff)
2019-12-28T12:18:09.7999358+01:00 0HLSBGTT31VTO:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:18:09.8069645+01:00 0HLSBGTT31VTO:00000004 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)" in 104.8283ms (afa2e885)
2019-12-28T12:18:09.8105473+01:00 0HLSBGTT31VTO:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:18:09.8143511+01:00 0HLSBGTT31VTO:00000004 [INF] Request finished in 145.98680000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:18:10.1417604+01:00 0HLSBGTT31VTO:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T12:18:10.1460946+01:00 0HLSBGTT31VTO:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:18:10.1505736+01:00 0HLSBGTT31VTO:00000005 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:18:10.1561543+01:00 0HLSBGTT31VTO:00000005 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T12:18:10.1616245+01:00 0HLSBGTT31VTO:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:18:10.1718649+01:00 0HLSBGTT31VTO:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T12:18:10.1826973+01:00 0HLSBGTT31VTO:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:18:10.1881703+01:00 0HLSBGTT31VTO:00000005 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 33.8213ms (afa2e885)
2019-12-28T12:18:10.1919372+01:00 0HLSBGTT31VTO:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:18:10.1968039+01:00 0HLSBGTT31VTO:00000005 [INF] Request finished in 63.3673ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:23:12.5101966+01:00 0HLSBGTT31VTP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T12:23:12.5137275+01:00 0HLSBGTT31VTP:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T12:23:12.5173360+01:00 0HLSBGTT31VTP:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:23:12.5232546+01:00 0HLSBGTT31VTP:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:23:12.5433260+01:00 0HLSBGTT31VTP:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T12:23:12.5483874+01:00 0HLSBGTT31VTP:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T12:23:12.5521513+01:00 0HLSBGTT31VTP:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:23:12.5567220+01:00 0HLSBGTT31VTP:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 36.1088ms (afa2e885)
2019-12-28T12:23:12.5599310+01:00 0HLSBGTT31VTP:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:23:12.5634955+01:00 0HLSBGTT31VTP:00000001 [INF] Request finished in 53.581300000000006ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:23:13.9852378+01:00 0HLSBGTT31VTP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T12:23:13.9924813+01:00 0HLSBGTT31VTP:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:23:14.0075715+01:00 0HLSBGTT31VTP:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:23:14.0203530+01:00 0HLSBGTT31VTP:00000002 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T12:23:14.0280114+01:00 0HLSBGTT31VTP:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:23:14.0501050+01:00 0HLSBGTT31VTP:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T12:23:14.0548356+01:00 0HLSBGTT31VTP:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:23:14.0604003+01:00 0HLSBGTT31VTP:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 48.3859ms (afa2e885)
2019-12-28T12:23:14.0635423+01:00 0HLSBGTT31VTP:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:23:14.0672646+01:00 0HLSBGTT31VTP:00000002 [INF] Request finished in 96.22760000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:23:16.8773814+01:00 0HLSBGTT31VTP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:23:16.8824727+01:00 0HLSBGTT31VTP:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:23:16.8860272+01:00 0HLSBGTT31VTP:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:23:16.8909325+01:00 0HLSBGTT31VTP:00000003 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:23:16.8957446+01:00 0HLSBGTT31VTP:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:23:16.9058604+01:00 0HLSBGTT31VTP:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:23:16.9119371+01:00 0HLSBGTT31VTP:00000003 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:23:16.9151519+01:00 0HLSBGTT31VTP:00000003 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:23:16.9223233+01:00 0HLSBGTT31VTP:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:23:16.9283146+01:00 0HLSBGTT31VTP:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 37.531800000000004ms (afa2e885)
2019-12-28T12:23:16.9326422+01:00 0HLSBGTT31VTP:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:23:16.9372434+01:00 0HLSBGTT31VTP:00000003 [INF] Request finished in 72.78970000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:23:18.3999103+01:00 0HLSBGTT31VTP:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:23:18.4044699+01:00 0HLSBGTT31VTP:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:23:18.4090352+01:00 0HLSBGTT31VTP:00000004 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:23:18.4158101+01:00 0HLSBGTT31VTP:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:23:18.4301135+01:00 0HLSBGTT31VTP:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:23:18.4429081+01:00 0HLSBGTT31VTP:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:23:18.4493786+01:00 0HLSBGTT31VTP:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:23:18.4578177+01:00 0HLSBGTT31VTP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:23:18.4631159+01:00 0HLSBGTT31VTP:00000004 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:23:18.6115458+01:00 0HLSBGTT31VTP:00000004 [INF] Executed DbCommand ("135"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:23:18.7844113+01:00 0HLSBGTT31VTP:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:23:18.7938832+01:00 0HLSBGTT31VTP:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:23:18.7991781+01:00 0HLSBGTT31VTP:00000004 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:23:18.8340571+01:00 0HLSBGTT31VTP:00000004 [INF] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T12:23:18.9077288+01:00 0HLSBGTT31VTP:00000004 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:23:18.9131673+01:00 0HLSBGTT31VTP:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:23:18.9180039+01:00 0HLSBGTT31VTP:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 505.3152ms (afa2e885)
2019-12-28T12:23:18.9212928+01:00 0HLSBGTT31VTP:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:23:18.9288656+01:00 0HLSBGTT31VTP:00000004 [INF] Request finished in 526.5447ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:23:19.8773050+01:00 0HLSBGTT31VTP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T12:23:19.8829629+01:00 0HLSBGTT31VTP:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:23:19.8887795+01:00 0HLSBGTT31VTP:00000005 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:23:19.8945361+01:00 0HLSBGTT31VTP:00000005 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T12:23:19.9000170+01:00 0HLSBGTT31VTP:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:23:19.9092282+01:00 0HLSBGTT31VTP:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T12:23:19.9139902+01:00 0HLSBGTT31VTP:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:23:19.9188578+01:00 0HLSBGTT31VTP:00000005 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 26.416ms (afa2e885)
2019-12-28T12:23:19.9231761+01:00 0HLSBGTT31VTP:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:23:19.9289184+01:00 0HLSBGTT31VTP:00000005 [INF] Request finished in 53.7828ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:29:06.7541041+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:29:06.7620000+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:29:06.7657424+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:29:06.7687360+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:29:06.7722180+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:29:14.5444234+01:00 0HLSBH4LBCRHD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T12:29:14.6369496+01:00 0HLSBH4LBCRHD:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:29:14.7401724+01:00 0HLSBH4LBCRHD:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:29:15.5626352+01:00 0HLSBH4LBCRHD:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T12:29:16.5396601+01:00 0HLSBH4LBCRHE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T12:29:16.5459545+01:00 0HLSBH4LBCRHE:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T12:29:16.5674008+01:00 0HLSBH4LBCRHE:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:29:17.1759583+01:00 0HLSBH4LBCRHD:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:29:17.2139973+01:00 0HLSBH4LBCRHD:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:29:17.2140776+01:00 0HLSBH4LBCRHE:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:29:17.9174454+01:00 0HLSBH4LBCRHD:00000001 [INF] Executed DbCommand ("64"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T12:29:17.9174379+01:00 0HLSBH4LBCRHE:00000001 [INF] Executed DbCommand ("64"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T12:29:18.1499381+01:00 0HLSBH4LBCRHE:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T12:29:18.1708595+01:00 0HLSBH4LBCRHE:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:29:18.1711441+01:00 0HLSBH4LBCRHD:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:29:18.2196335+01:00 0HLSBH4LBCRHE:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 1635.6080000000002ms (afa2e885)
2019-12-28T12:29:18.2196383+01:00 0HLSBH4LBCRHD:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 3461.9058ms (afa2e885)
2019-12-28T12:29:18.2272606+01:00 0HLSBH4LBCRHD:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:29:18.2287723+01:00 0HLSBH4LBCRHE:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:29:18.2487037+01:00 0HLSBH4LBCRHE:00000001 [INF] Request finished in 1702.4921000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:29:18.2487037+01:00 0HLSBH4LBCRHD:00000001 [INF] Request finished in 3706.2032000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:29:20.1845186+01:00 0HLSBH4LBCRHD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:29:20.1888969+01:00 0HLSBH4LBCRHD:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:29:20.1987501+01:00 0HLSBH4LBCRHD:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:29:20.2057092+01:00 0HLSBH4LBCRHD:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:29:20.2533438+01:00 0HLSBH4LBCRHD:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:29:20.2856169+01:00 0HLSBH4LBCRHD:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:29:20.2911264+01:00 0HLSBH4LBCRHD:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:29:20.2959412+01:00 0HLSBH4LBCRHD:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:29:20.3010165+01:00 0HLSBH4LBCRHD:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:29:20.3074043+01:00 0HLSBH4LBCRHD:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 103.56830000000001ms (afa2e885)
2019-12-28T12:29:20.3118372+01:00 0HLSBH4LBCRHD:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:29:20.3165452+01:00 0HLSBH4LBCRHD:00000002 [INF] Request finished in 132.6577ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:29:21.6911133+01:00 0HLSBH4LBCRHD:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T12:29:21.6964166+01:00 0HLSBH4LBCRHD:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:29:21.7084600+01:00 0HLSBH4LBCRHD:00000003 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:29:21.7221478+01:00 0HLSBH4LBCRHD:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:29:21.7560204+01:00 0HLSBH4LBCRHD:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:29:21.8247554+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:29:21.8421920+01:00 0HLSBH4LBCRHD:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:29:21.8693961+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:29:21.8753935+01:00 0HLSBH4LBCRHD:00000003 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:29:22.0989725+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed DbCommand ("14"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p6, @p7),
(@p8, @p9),
(@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:29:22.2410292+01:00 0HLSBH4LBCRHD:00000003 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:29:22.2810537+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:29:22.2867352+01:00 0HLSBH4LBCRHD:00000003 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:29:22.3121326+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:29:22.3963826+01:00 0HLSBH4LBCRHD:00000003 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:29:22.7232603+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 1011.0231ms (afa2e885)
2019-12-28T12:29:22.7272909+01:00 0HLSBH4LBCRHD:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:29:22.7971109+01:00 0HLSBH4LBCRHD:00000003 [ERR] Connection id ""0HLSBH4LBCRHD"", Request id ""0HLSBH4LBCRHD:00000003"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: The connection does not have any active transactions.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CommitTransaction()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.CommitTransaction()
   at AttendanceControl.API.DataAccess.Repositories.DatabaseTransaction.Commit() in F:\AttendanceControl.API\AttendanceControl.API.DataAccess\Repositories\DatabaseTransaction.cs:line 29
   at AttendanceControl.API.Application.Services.StudentService.UpdateCourse(Int32 studentId, Int32 courseId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 102
   at AttendanceControl.API.Controllers.StudentController.UpdateCourse(Int32 studentId, Int32 courseId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 64
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T12:29:22.8040217+01:00 0HLSBH4LBCRHD:00000003 [INF] Request finished in 1110.7524ms 500  (791a596a)
2019-12-28T12:31:06.4551904+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:31:06.4653228+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:31:06.4691845+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:31:06.4726973+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:31:06.4762243+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:31:07.4292161+01:00 0HLSBH5N3G3BH:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:31:07.4888566+01:00 0HLSBH5N3G3BH:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:31:07.5999032+01:00 0HLSBH5N3G3BH:00000001 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:31:09.6890020+01:00 0HLSBH5N3G3BH:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:31:09.7401308+01:00 0HLSBH5N3G3BH:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:31:10.0443988+01:00 0HLSBH5N3G3BH:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:31:10.7501654+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed DbCommand ("201"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:31:10.9519713+01:00 0HLSBH5N3G3BH:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:31:11.0059153+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:31:11.0168443+01:00 0HLSBH5N3G3BH:00000001 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:31:11.2411967+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed DbCommand ("17"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:31:11.4542272+01:00 0HLSBH5N3G3BH:00000001 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:31:11.5355924+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed DbCommand ("44"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:31:11.5865202+01:00 0HLSBH5N3G3BH:00000001 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:31:11.6405563+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T12:31:11.7442912+01:00 0HLSBH5N3G3BH:00000001 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:31:11.7653861+01:00 0HLSBH5N3G3BH:00000001 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:31:11.8165583+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 4203.0007000000005ms (afa2e885)
2019-12-28T12:31:11.8238175+01:00 0HLSBH5N3G3BH:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:31:11.8407016+01:00 0HLSBH5N3G3BH:00000001 [INF] Request finished in 4416.1483ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:31:14.0609691+01:00 0HLSBH5N3G3BH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T12:31:14.0666941+01:00 0HLSBH5N3G3BH:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:31:14.0777244+01:00 0HLSBH5N3G3BH:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:31:14.0860844+01:00 0HLSBH5N3G3BH:00000002 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T12:31:14.1372693+01:00 0HLSBH5N3G3BH:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:31:14.1596689+01:00 0HLSBH5N3G3BH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T12:31:14.1655851+01:00 0HLSBH5N3G3BH:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:31:14.1712777+01:00 0HLSBH5N3G3BH:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 89.8811ms (afa2e885)
2019-12-28T12:31:14.1746104+01:00 0HLSBH5N3G3BH:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:31:14.1791045+01:00 0HLSBH5N3G3BH:00000002 [INF] Request finished in 119.04780000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:31:49.5000819+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:31:49.5114490+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:31:49.5149673+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:31:49.5184464+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:31:49.5217375+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:31:58.2962378+01:00 0HLSBH6694VUM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:31:58.3608677+01:00 0HLSBH6694VUM:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:31:58.4330750+01:00 0HLSBH6694VUM:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:31:58.7517891+01:00 0HLSBH6694VUM:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:31:59.6487024+01:00 0HLSBH6694VUM:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:31:59.7013930+01:00 0HLSBH6694VUM:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:32:00.3873929+01:00 0HLSBH6694VUM:00000001 [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:32:00.5752198+01:00 0HLSBH6694VUM:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:32:00.5840755+01:00 0HLSBH6694VUM:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:32:00.5974344+01:00 0HLSBH6694VUM:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:32:00.6539822+01:00 0HLSBH6694VUM:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 2207.1058000000003ms (afa2e885)
2019-12-28T12:32:00.6598145+01:00 0HLSBH6694VUM:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:32:00.6734630+01:00 0HLSBH6694VUM:00000001 [INF] Request finished in 2386.1883000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:32:02.3503665+01:00 0HLSBH6694VUM:00000002 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T12:32:02.3571689+01:00 0HLSBH6694VUM:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:32:02.3768109+01:00 0HLSBH6694VUM:00000002 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:32:02.4381542+01:00 0HLSBH6694VUM:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:32:02.4889828+01:00 0HLSBH6694VUM:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:32:02.6553515+01:00 0HLSBH6694VUM:00000002 [INF] Executed DbCommand ("25"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:32:02.7346322+01:00 0HLSBH6694VUM:00000002 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:32:02.7750146+01:00 0HLSBH6694VUM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:32:02.7906564+01:00 0HLSBH6694VUM:00000002 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:32:03.1549029+01:00 0HLSBH6694VUM:00000002 [INF] Executed DbCommand ("127"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p6, @p7),
(@p8, @p9),
(@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:32:03.2655748+01:00 0HLSBH6694VUM:00000002 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:32:03.2791180+01:00 0HLSBH6694VUM:00000002 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:32:03.2940095+01:00 0HLSBH6694VUM:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 913.4485000000001ms (afa2e885)
2019-12-28T12:32:03.2981515+01:00 0HLSBH6694VUM:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:32:03.3072990+01:00 0HLSBH6694VUM:00000002 [INF] Request finished in 953.5801ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:34:27.1002081+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:34:27.1108188+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:34:27.1144910+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:34:27.1181909+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:34:27.1234101+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:34:27.8319971+01:00 0HLSBH7IR6DAS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:34:28.0026379+01:00 0HLSBH7IR6DAS:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:34:28.0864425+01:00 0HLSBH7IR6DAS:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:34:29.0899285+01:00 0HLSBH7IR6DAS:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:34:30.3711280+01:00 0HLSBH7IR6DAS:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:34:30.4383724+01:00 0HLSBH7IR6DAS:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:34:31.0802919+01:00 0HLSBH7IR6DAS:00000001 [INF] Executed DbCommand ("87"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:34:31.2335153+01:00 0HLSBH7IR6DAS:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:34:31.2390175+01:00 0HLSBH7IR6DAS:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:34:31.2533731+01:00 0HLSBH7IR6DAS:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:34:31.3071707+01:00 0HLSBH7IR6DAS:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 3208.4094ms (afa2e885)
2019-12-28T12:34:31.3120969+01:00 0HLSBH7IR6DAS:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:34:31.3247543+01:00 0HLSBH7IR6DAS:00000001 [INF] Request finished in 3497.741ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:34:33.7811329+01:00 0HLSBH7IR6DAS:00000002 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:34:33.7881484+01:00 0HLSBH7IR6DAS:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:34:33.8084665+01:00 0HLSBH7IR6DAS:00000002 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:34:33.8646522+01:00 0HLSBH7IR6DAS:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:34:33.9286109+01:00 0HLSBH7IR6DAS:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:34:34.1162966+01:00 0HLSBH7IR6DAS:00000002 [INF] Executed DbCommand ("45"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:34:34.2076270+01:00 0HLSBH7IR6DAS:00000002 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:34:34.2434435+01:00 0HLSBH7IR6DAS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:34:34.2559444+01:00 0HLSBH7IR6DAS:00000002 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:34:34.2658204+01:00 0HLSBH7IR6DAS:00000002 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:34:34.2860460+01:00 0HLSBH7IR6DAS:00000002 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:34:34.3020107+01:00 0HLSBH7IR6DAS:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 488.4583ms (afa2e885)
2019-12-28T12:34:34.3063301+01:00 0HLSBH7IR6DAS:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:34:34.3144073+01:00 0HLSBH7IR6DAS:00000002 [INF] Request finished in 531.0252ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:03.4325150+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:42:03.4409588+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:42:03.4447897+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:42:03.4503607+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:42:03.4544517+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:42:06.9510579+01:00 0HLSBHBRIEP3N:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:42:07.0139651+01:00 0HLSBHBRIEP3N:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:07.1273816+01:00 0HLSBHBRIEP3N:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:07.8132008+01:00 0HLSBHBRIEP3N:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:42:09.6182668+01:00 0HLSBHBRIEP3N:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:42:09.6717027+01:00 0HLSBHBRIEP3N:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:10.3238925+01:00 0HLSBHBRIEP3N:00000001 [INF] Executed DbCommand ("59"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:42:10.4987609+01:00 0HLSBHBRIEP3N:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:42:10.5056137+01:00 0HLSBHBRIEP3N:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:42:10.5162081+01:00 0HLSBHBRIEP3N:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:42:10.5821145+01:00 0HLSBHBRIEP3N:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 3437.2055ms (afa2e885)
2019-12-28T12:42:10.5908807+01:00 0HLSBHBRIEP3N:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:10.6100752+01:00 0HLSBHBRIEP3N:00000001 [INF] Request finished in 3662.5774ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:11.6359886+01:00 0HLSBHBRIEP3N:00000002 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T12:42:11.6427475+01:00 0HLSBHBRIEP3N:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:11.6635914+01:00 0HLSBHBRIEP3N:00000002 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:11.7172557+01:00 0HLSBHBRIEP3N:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:11.7762402+01:00 0HLSBHBRIEP3N:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:11.9437425+01:00 0HLSBHBRIEP3N:00000002 [INF] Executed DbCommand ("24"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:42:12.0555007+01:00 0HLSBHBRIEP3N:00000002 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:42:12.0930231+01:00 0HLSBHBRIEP3N:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:42:12.1049385+01:00 0HLSBHBRIEP3N:00000002 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:42:12.3111646+01:00 0HLSBHBRIEP3N:00000002 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:42:12.3402902+01:00 0HLSBHBRIEP3N:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:42:12.3451238+01:00 0HLSBHBRIEP3N:00000002 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:42:12.4176280+01:00 0HLSBHBRIEP3N:00000002 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:42:12.5696244+01:00 0HLSBHBRIEP3N:00000002 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:42:12.5823547+01:00 0HLSBHBRIEP3N:00000002 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:42:12.6028063+01:00 0HLSBHBRIEP3N:00000002 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 934.2987ms (afa2e885)
2019-12-28T12:42:12.6071899+01:00 0HLSBHBRIEP3N:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:12.6249008+01:00 0HLSBHBRIEP3N:00000002 [INF] Request finished in 977.6878ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:14.3403913+01:00 0HLSBHBRIEP3N:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/1   (ca22a1cb)
2019-12-28T12:42:14.3469568+01:00 0HLSBHBRIEP3N:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:14.3583768+01:00 0HLSBHBRIEP3N:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:14.3662115+01:00 0HLSBHBRIEP3N:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T12:42:14.3742782+01:00 0HLSBHBRIEP3N:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:14.3993599+01:00 0HLSBHBRIEP3N:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T12:42:14.4059236+01:00 0HLSBHBRIEP3N:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:42:14.4110897+01:00 0HLSBHBRIEP3N:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 48.9257ms (afa2e885)
2019-12-28T12:42:14.4147184+01:00 0HLSBHBRIEP3N:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:14.4208932+01:00 0HLSBHBRIEP3N:00000003 [INF] Request finished in 80.242ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:16.3761805+01:00 0HLSBHBRIEP3N:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:42:16.3829513+01:00 0HLSBHBRIEP3N:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:16.3891816+01:00 0HLSBHBRIEP3N:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:16.3952879+01:00 0HLSBHBRIEP3N:00000004 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:42:16.4008803+01:00 0HLSBHBRIEP3N:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:16.4131334+01:00 0HLSBHBRIEP3N:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:42:16.4180417+01:00 0HLSBHBRIEP3N:00000004 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:42:16.4220238+01:00 0HLSBHBRIEP3N:00000004 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:42:16.4260855+01:00 0HLSBHBRIEP3N:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:42:16.4311578+01:00 0HLSBHBRIEP3N:00000004 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 37.9611ms (afa2e885)
2019-12-28T12:42:16.4353936+01:00 0HLSBHBRIEP3N:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:16.4397745+01:00 0HLSBHBRIEP3N:00000004 [INF] Request finished in 64.84790000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:17.8272939+01:00 0HLSBHBRIEP3N:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T12:42:17.8335727+01:00 0HLSBHBRIEP3N:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:17.8382012+01:00 0HLSBHBRIEP3N:00000005 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:17.8459290+01:00 0HLSBHBRIEP3N:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:17.8633219+01:00 0HLSBHBRIEP3N:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:17.8735028+01:00 0HLSBHBRIEP3N:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:42:17.8800005+01:00 0HLSBHBRIEP3N:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:42:17.8877397+01:00 0HLSBHBRIEP3N:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:42:17.8938754+01:00 0HLSBHBRIEP3N:00000005 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:42:17.9062747+01:00 0HLSBHBRIEP3N:00000005 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:42:17.9173865+01:00 0HLSBHBRIEP3N:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:42:17.9227799+01:00 0HLSBHBRIEP3N:00000005 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:42:17.9293076+01:00 0HLSBHBRIEP3N:00000005 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:42:17.9355799+01:00 0HLSBHBRIEP3N:00000005 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:42:17.9431925+01:00 0HLSBHBRIEP3N:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 98.9293ms (afa2e885)
2019-12-28T12:42:17.9472334+01:00 0HLSBHBRIEP3N:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:17.9553194+01:00 0HLSBHBRIEP3N:00000005 [INF] Request finished in 126.1118ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:19.2271489+01:00 0HLSBHBRIEP3N:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:42:19.2353224+01:00 0HLSBHBRIEP3N:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:19.2414085+01:00 0HLSBHBRIEP3N:00000006 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:19.2506581+01:00 0HLSBHBRIEP3N:00000006 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:42:19.2579667+01:00 0HLSBHBRIEP3N:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:19.2699407+01:00 0HLSBHBRIEP3N:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:42:19.2771133+01:00 0HLSBHBRIEP3N:00000006 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:42:19.2814010+01:00 0HLSBHBRIEP3N:00000006 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:42:19.2863791+01:00 0HLSBHBRIEP3N:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:42:19.2923433+01:00 0HLSBHBRIEP3N:00000006 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 46.6938ms (afa2e885)
2019-12-28T12:42:19.2967140+01:00 0HLSBHBRIEP3N:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:19.3027445+01:00 0HLSBHBRIEP3N:00000006 [INF] Request finished in 77.3704ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:20.4534029+01:00 0HLSBHBRIEP3N:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:42:20.4578272+01:00 0HLSBHBRIEP3N:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:20.4617831+01:00 0HLSBHBRIEP3N:00000007 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:20.4701986+01:00 0HLSBHBRIEP3N:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:20.4845025+01:00 0HLSBHBRIEP3N:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:20.4932017+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:42:20.4993411+01:00 0HLSBHBRIEP3N:00000007 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:42:20.5070412+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:42:20.5115205+01:00 0HLSBHBRIEP3N:00000007 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:42:20.5712671+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed DbCommand ("22"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:42:20.7398644+01:00 0HLSBHBRIEP3N:00000007 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:42:20.7468788+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:42:20.7830716+01:00 0HLSBHBRIEP3N:00000007 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:42:20.8271430+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T12:42:20.9048288+01:00 0HLSBHBRIEP3N:00000007 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:42:20.9108837+01:00 0HLSBHBRIEP3N:00000007 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:42:20.9162474+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 450.3888ms (afa2e885)
2019-12-28T12:42:20.9206583+01:00 0HLSBHBRIEP3N:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:20.9281224+01:00 0HLSBHBRIEP3N:00000007 [INF] Request finished in 472.3623ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:42.8495220+01:00 0HLSBHBRIEP3N:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:42:42.8554721+01:00 0HLSBHBRIEP3N:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:42.8603515+01:00 0HLSBHBRIEP3N:00000008 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:42.8649383+01:00 0HLSBHBRIEP3N:00000008 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:42:42.8703210+01:00 0HLSBHBRIEP3N:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:42.8854779+01:00 0HLSBHBRIEP3N:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:42:42.8906163+01:00 0HLSBHBRIEP3N:00000008 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:42:42.8937689+01:00 0HLSBHBRIEP3N:00000008 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:42:42.8980218+01:00 0HLSBHBRIEP3N:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:42:42.9041704+01:00 0HLSBHBRIEP3N:00000008 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 39.7731ms (afa2e885)
2019-12-28T12:42:42.9077408+01:00 0HLSBHBRIEP3N:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:42.9130918+01:00 0HLSBHBRIEP3N:00000008 [INF] Request finished in 63.5169ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:42:44.3229680+01:00 0HLSBHBRIEP3N:00000009 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/1  0 (ca22a1cb)
2019-12-28T12:42:44.3265958+01:00 0HLSBHBRIEP3N:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:42:44.3390842+01:00 0HLSBHBRIEP3N:00000009 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:42:44.3469275+01:00 0HLSBHBRIEP3N:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:44.3623930+01:00 0HLSBHBRIEP3N:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:42:44.3767065+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed DbCommand ("7"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:42:44.3817866+01:00 0HLSBHBRIEP3N:00000009 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:42:44.3885238+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:42:44.3922044+01:00 0HLSBHBRIEP3N:00000009 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:42:44.4025441+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p6, @p7),
(@p8, @p9),
(@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:42:44.5011634+01:00 0HLSBHBRIEP3N:00000009 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:42:44.5067115+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:42:44.5109653+01:00 0HLSBHBRIEP3N:00000009 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:42:44.5379967+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:42:44.6101153+01:00 0HLSBHBRIEP3N:00000009 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:42:44.6148059+01:00 0HLSBHBRIEP3N:00000009 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:42:44.6192097+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 276.909ms (afa2e885)
2019-12-28T12:42:44.6226541+01:00 0HLSBHBRIEP3N:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:42:44.6279674+01:00 0HLSBHBRIEP3N:00000009 [INF] Request finished in 303.48490000000004ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:52:31.1370566+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:52:31.1462197+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:52:31.1498805+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:52:31.1532394+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:52:31.1561473+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:52:39.8891869+01:00 0HLSBHHO9U9J0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:52:39.9566120+01:00 0HLSBHHO9U9J0:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:52:40.0354616+01:00 0HLSBHHO9U9J0:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:52:40.7838205+01:00 0HLSBHHO9U9J0:00000001 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:52:40.8748470+01:00 0HLSBHHO9U9J1:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T12:52:40.8838729+01:00 0HLSBHHO9U9J1:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:52:40.9097396+01:00 0HLSBHHO9U9J1:00000001 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:52:41.9690741+01:00 0HLSBHHO9U9J0:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:52:42.0031981+01:00 0HLSBHHO9U9J1:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:52:42.0032726+01:00 0HLSBHHO9U9J0:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:52:42.4525836+01:00 0HLSBHHO9U9J1:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:52:42.5726930+01:00 0HLSBHHO9U9J0:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:52:42.7031596+01:00 0HLSBHHO9U9J1:00000001 [INF] Executed DbCommand ("46"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:52:42.7493191+01:00 0HLSBHHO9U9J0:00000001 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:52:42.7573510+01:00 0HLSBHHO9U9J0:00000001 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:52:42.7730182+01:00 0HLSBHHO9U9J0:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:52:42.8218317+01:00 0HLSBHHO9U9J0:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 2772.2379ms (afa2e885)
2019-12-28T12:52:42.8286263+01:00 0HLSBHHO9U9J0:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:52:42.8363891+01:00 0HLSBHHO9U9J1:00000001 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:52:42.8485969+01:00 0HLSBHHO9U9J0:00000001 [INF] Request finished in 2964.1971000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:52:43.0506641+01:00 0HLSBHHO9U9J1:00000001 [INF] Executed DbCommand ("22"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:52:43.2023544+01:00 0HLSBHHO9U9J1:00000001 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T12:52:43.6441645+01:00 0HLSBHHO9U9J1:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 2731.2083000000002ms (afa2e885)
2019-12-28T12:52:43.6487687+01:00 0HLSBHHO9U9J1:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:52:43.7109240+01:00 0HLSBHHO9U9J1:00000001 [ERR] Connection id ""0HLSBHHO9U9J1"", Request id ""0HLSBHHO9U9J1:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.NotImplementedException: The method or operation is not implemented.
   at AttendanceControl.API.Application.Services.StudentService.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\StudentService.cs:line 143
   at AttendanceControl.API.Controllers.StudentController.RemoveCourse(Int32 studentId) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\StudentController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T12:52:43.7152008+01:00 0HLSBHHO9U9J1:00000001 [INF] Request finished in 2841.7909ms 500  (791a596a)
2019-12-28T12:55:02.2906550+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T12:55:02.2986122+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T12:55:02.3021184+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T12:55:02.3054695+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T12:55:02.3087368+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T12:55:17.9291088+01:00 0HLSBHJ7D223O:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T12:55:17.9982019+01:00 0HLSBHJ7D223O:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:18.0889707+01:00 0HLSBHJ7D223O:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:19.2454690+01:00 0HLSBHJ7D223O:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T12:55:19.2939452+01:00 0HLSBHJ7D223O:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:20.0826008+01:00 0HLSBHJ7D223O:00000001 [INF] Executed DbCommand ("79"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T12:55:20.3781908+01:00 0HLSBHJ7D223O:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T12:55:20.4014105+01:00 0HLSBHJ7D223O:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:55:20.4486254+01:00 0HLSBHJ7D223O:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 2346.3289ms (afa2e885)
2019-12-28T12:55:20.4533081+01:00 0HLSBHJ7D223O:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:20.4670225+01:00 0HLSBHJ7D223O:00000001 [INF] Request finished in 2545.0256ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:22.6580164+01:00 0HLSBHJ7D223O:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:55:22.6681748+01:00 0HLSBHJ7D223O:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:22.6818490+01:00 0HLSBHJ7D223O:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:22.6895336+01:00 0HLSBHJ7D223O:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:55:22.7321230+01:00 0HLSBHJ7D223O:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:22.7638043+01:00 0HLSBHJ7D223O:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:55:22.7744585+01:00 0HLSBHJ7D223O:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:55:22.7801317+01:00 0HLSBHJ7D223O:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:55:22.7842417+01:00 0HLSBHJ7D223O:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:55:22.7947546+01:00 0HLSBHJ7D223O:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 109.31400000000001ms (afa2e885)
2019-12-28T12:55:22.7981190+01:00 0HLSBHJ7D223O:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:22.8022760+01:00 0HLSBHJ7D223O:00000002 [INF] Request finished in 166.1457ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:23.9495384+01:00 0HLSBHJ7D223O:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:55:23.9539349+01:00 0HLSBHJ7D223O:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:23.9633731+01:00 0HLSBHJ7D223O:00000003 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:23.9830718+01:00 0HLSBHJ7D223O:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:24.0178641+01:00 0HLSBHJ7D223O:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:24.1000271+01:00 0HLSBHJ7D223O:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:55:24.1072426+01:00 0HLSBHJ7D223O:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:55:24.1730290+01:00 0HLSBHJ7D223O:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:55:24.1895678+01:00 0HLSBHJ7D223O:00000003 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:55:24.4361950+01:00 0HLSBHJ7D223O:00000003 [INF] Executed DbCommand ("28"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p2 AND `subject_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p4 AND `subject_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p6 AND `subject_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `student_has_subjects`
WHERE `student_id` = @p8 AND `subject_id` = @p9;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p10, @p11),
(@p12, @p13);" (0723d8ff)
2019-12-28T12:55:24.5865682+01:00 0HLSBHJ7D223O:00000003 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:55:24.6141094+01:00 0HLSBHJ7D223O:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:55:24.6720488+01:00 0HLSBHJ7D223O:00000003 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:55:24.7234412+01:00 0HLSBHJ7D223O:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T12:55:24.8524550+01:00 0HLSBHJ7D223O:00000003 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:55:24.8593693+01:00 0HLSBHJ7D223O:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:55:24.8683008+01:00 0HLSBHJ7D223O:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 897.3848ms (afa2e885)
2019-12-28T12:55:24.8730900+01:00 0HLSBHJ7D223O:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:24.8835043+01:00 0HLSBHJ7D223O:00000003 [INF] Request finished in 928.4341000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:28.1921101+01:00 0HLSBHJ7D223O:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:55:28.1974574+01:00 0HLSBHJ7D223O:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:28.2017838+01:00 0HLSBHJ7D223O:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:28.2080072+01:00 0HLSBHJ7D223O:00000004 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:55:28.2155564+01:00 0HLSBHJ7D223O:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:28.2300094+01:00 0HLSBHJ7D223O:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:55:28.2354232+01:00 0HLSBHJ7D223O:00000004 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:55:28.2391521+01:00 0HLSBHJ7D223O:00000004 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:55:28.2442126+01:00 0HLSBHJ7D223O:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:55:28.2496062+01:00 0HLSBHJ7D223O:00000004 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 44.368ms (afa2e885)
2019-12-28T12:55:28.2527494+01:00 0HLSBHJ7D223O:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:28.2568786+01:00 0HLSBHJ7D223O:00000004 [INF] Request finished in 79.5622ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:28.9372582+01:00 0HLSBHJ7D223O:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T12:55:28.9433068+01:00 0HLSBHJ7D223O:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:28.9552194+01:00 0HLSBHJ7D223O:00000005 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:28.9679242+01:00 0HLSBHJ7D223O:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:28.9928301+01:00 0HLSBHJ7D223O:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:29.0027989+01:00 0HLSBHJ7D223O:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:55:29.0106236+01:00 0HLSBHJ7D223O:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:55:29.0409523+01:00 0HLSBHJ7D223O:00000005 [INF] Executed DbCommand ("18"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:55:29.1254498+01:00 0HLSBHJ7D223O:00000005 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T12:55:29.1607494+01:00 0HLSBHJ7D223O:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:55:29.1659993+01:00 0HLSBHJ7D223O:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:55:29.1777201+01:00 0HLSBHJ7D223O:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:55:29.3137344+01:00 0HLSBHJ7D223O:00000005 [INF] Executed DbCommand ("25"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T12:55:29.4634771+01:00 0HLSBHJ7D223O:00000005 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:55:29.4692673+01:00 0HLSBHJ7D223O:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 509.25660000000005ms (afa2e885)
2019-12-28T12:55:29.4735147+01:00 0HLSBHJ7D223O:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:29.5218686+01:00 0HLSBHJ7D223O:00000005 [INF] Request finished in 541.4518ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:39.6161395+01:00 0HLSBHJ7D223O:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T12:55:39.6217842+01:00 0HLSBHJ7D223O:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:39.6275537+01:00 0HLSBHJ7D223O:00000006 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:39.6344717+01:00 0HLSBHJ7D223O:00000006 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T12:55:39.6398577+01:00 0HLSBHJ7D223O:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:39.6514047+01:00 0HLSBHJ7D223O:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T12:55:39.6571257+01:00 0HLSBHJ7D223O:00000006 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T12:55:39.6611789+01:00 0HLSBHJ7D223O:00000006 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T12:55:39.6652648+01:00 0HLSBHJ7D223O:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:55:39.6709574+01:00 0HLSBHJ7D223O:00000006 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 39.2378ms (afa2e885)
2019-12-28T12:55:39.6746585+01:00 0HLSBHJ7D223O:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:39.6800376+01:00 0HLSBHJ7D223O:00000006 [INF] Request finished in 65.9773ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:40.8584203+01:00 0HLSBHJ7D223O:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T12:55:40.8624426+01:00 0HLSBHJ7D223O:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:40.8666563+01:00 0HLSBHJ7D223O:00000007 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:40.8735354+01:00 0HLSBHJ7D223O:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:40.8889678+01:00 0HLSBHJ7D223O:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:40.8970315+01:00 0HLSBHJ7D223O:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T12:55:40.9014155+01:00 0HLSBHJ7D223O:00000007 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T12:55:40.9076762+01:00 0HLSBHJ7D223O:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T12:55:40.9115647+01:00 0HLSBHJ7D223O:00000007 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T12:55:40.9283394+01:00 0HLSBHJ7D223O:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7);" (0723d8ff)
2019-12-28T12:55:41.0143051+01:00 0HLSBHJ7D223O:00000007 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T12:55:41.0222463+01:00 0HLSBHJ7D223O:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T12:55:41.0274648+01:00 0HLSBHJ7D223O:00000007 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T12:55:41.0694036+01:00 0HLSBHJ7D223O:00000007 [INF] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T12:55:41.1437657+01:00 0HLSBHJ7D223O:00000007 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T12:55:41.1488792+01:00 0HLSBHJ7D223O:00000007 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T12:55:41.1536298+01:00 0HLSBHJ7D223O:00000007 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 283.2733ms (afa2e885)
2019-12-28T12:55:41.1574279+01:00 0HLSBHJ7D223O:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:41.1645980+01:00 0HLSBHJ7D223O:00000007 [INF] Request finished in 303.0332ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:41.9592455+01:00 0HLSBHJ7D223O:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T12:55:41.9638206+01:00 0HLSBHJ7D223O:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:41.9733023+01:00 0HLSBHJ7D223O:00000008 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:41.9803550+01:00 0HLSBHJ7D223O:00000008 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T12:55:41.9880432+01:00 0HLSBHJ7D223O:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:42.0219048+01:00 0HLSBHJ7D223O:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T12:55:42.0293543+01:00 0HLSBHJ7D223O:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:55:42.0350720+01:00 0HLSBHJ7D223O:00000008 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 58.008100000000006ms (afa2e885)
2019-12-28T12:55:42.0384192+01:00 0HLSBHJ7D223O:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:42.0428864+01:00 0HLSBHJ7D223O:00000008 [INF] Request finished in 84.51950000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T12:55:46.4056774+01:00 0HLSBHJ7D223O:00000009 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1  0 (ca22a1cb)
2019-12-28T12:55:46.4095444+01:00 0HLSBHJ7D223O:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:46.4259588+01:00 0HLSBHJ7D223O:00000009 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:46.4440396+01:00 0HLSBHJ7D223O:00000009 [INF] Executing ObjectResult, writing value of type '"null"'. (8a1b66c8)
2019-12-28T12:55:46.4490470+01:00 0HLSBHJ7D223O:00000009 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 18.5717ms (afa2e885)
2019-12-28T12:55:46.4552456+01:00 0HLSBHJ7D223O:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:46.4652841+01:00 0HLSBHJ7D223O:00000009 [INF] Request finished in 54.7903ms 204  (791a596a)
2019-12-28T12:55:56.2534496+01:00 0HLSBHJ7D223P:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T12:55:56.2581182+01:00 0HLSBHJ7D223P:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T12:55:56.2705770+01:00 0HLSBHJ7D223P:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T12:55:56.2780372+01:00 0HLSBHJ7D223P:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T12:55:56.2894697+01:00 0HLSBHJ7D223P:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T12:55:56.3543669+01:00 0HLSBHJ7D223P:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T12:55:56.3662334+01:00 0HLSBHJ7D223P:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T12:55:56.3761060+01:00 0HLSBHJ7D223P:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 97.2535ms (afa2e885)
2019-12-28T12:55:56.3801445+01:00 0HLSBHJ7D223P:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T12:55:56.3887879+01:00 0HLSBHJ7D223P:00000001 [INF] Request finished in 134.3556ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:02:44.1272823+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T13:02:44.1347597+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T13:02:44.1385806+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T13:02:44.1417389+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T13:02:44.1451875+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T13:02:46.9978449+01:00 0HLSBHND5BNRQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T13:02:47.0541235+01:00 0HLSBHND5BNRQ:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T13:02:47.1805803+01:00 0HLSBHND5BNRQ:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:02:49.4676748+01:00 0HLSBHND5BNRQ:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T13:02:49.5162967+01:00 0HLSBHND5BNRQ:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:02:50.2946922+01:00 0HLSBHND5BNRQ:00000001 [INF] Executed DbCommand ("83"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T13:02:50.5368123+01:00 0HLSBHND5BNRQ:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T13:02:50.5525482+01:00 0HLSBHND5BNRQ:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:02:50.6104653+01:00 0HLSBHND5BNRQ:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 3415.9301ms (afa2e885)
2019-12-28T13:02:50.6159602+01:00 0HLSBHND5BNRQ:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:02:50.6323414+01:00 0HLSBHND5BNRQ:00000001 [INF] Request finished in 3639.855ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:02:54.6183760+01:00 0HLSBHND5BNRQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T13:02:54.6244394+01:00 0HLSBHND5BNRQ:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T13:02:54.6334032+01:00 0HLSBHND5BNRQ:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:02:54.6410646+01:00 0HLSBHND5BNRQ:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T13:02:54.6796040+01:00 0HLSBHND5BNRQ:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:02:54.7172671+01:00 0HLSBHND5BNRQ:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T13:02:54.7221751+01:00 0HLSBHND5BNRQ:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T13:02:54.7263739+01:00 0HLSBHND5BNRQ:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T13:02:54.7303508+01:00 0HLSBHND5BNRQ:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:02:54.7350936+01:00 0HLSBHND5BNRQ:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 98.18350000000001ms (afa2e885)
2019-12-28T13:02:54.7396030+01:00 0HLSBHND5BNRQ:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:02:54.7451939+01:00 0HLSBHND5BNRQ:00000002 [INF] Request finished in 126.83810000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:02:58.2018148+01:00 0HLSBHND5BNRQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T13:02:58.2077781+01:00 0HLSBHND5BNRQ:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T13:02:58.2179000+01:00 0HLSBHND5BNRQ:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:02:58.2283130+01:00 0HLSBHND5BNRQ:00000003 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T13:02:58.2431797+01:00 0HLSBHND5BNRQ:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:02:58.2749205+01:00 0HLSBHND5BNRQ:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T13:02:58.2806159+01:00 0HLSBHND5BNRQ:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:02:58.2852032+01:00 0HLSBHND5BNRQ:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 64.1023ms (afa2e885)
2019-12-28T13:02:58.2889257+01:00 0HLSBHND5BNRQ:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:02:58.2934802+01:00 0HLSBHND5BNRQ:00000003 [INF] Request finished in 95.3227ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:03:00.9285762+01:00 0HLSBHND5BNRQ:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=7  0 (ca22a1cb)
2019-12-28T13:03:00.9329919+01:00 0HLSBHND5BNRQ:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T13:03:00.9467611+01:00 0HLSBHND5BNRQ:00000004 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:03:00.9718013+01:00 0HLSBHND5BNRQ:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:03:00.9909372+01:00 0HLSBHND5BNRQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:03:01.0096508+01:00 0HLSBHND5BNRQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:03:01.0620447+01:00 0HLSBHND5BNRQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T13:03:01.0750546+01:00 0HLSBHND5BNRQ:00000004 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T13:03:01.2896252+01:00 0HLSBHND5BNRQ:00000004 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T13:03:01.4226481+01:00 0HLSBHND5BNRQ:00000004 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T13:03:01.4288095+01:00 0HLSBHND5BNRQ:00000004 [INF] Executing ObjectResult, writing value of type '"null"'. (8a1b66c8)
2019-12-28T13:03:01.4336755+01:00 0HLSBHND5BNRQ:00000004 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 482.72040000000004ms (afa2e885)
2019-12-28T13:03:01.4377100+01:00 0HLSBHND5BNRQ:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:03:01.4433579+01:00 0HLSBHND5BNRQ:00000004 [INF] Request finished in 513.6526ms 204  (791a596a)
2019-12-28T13:28:41.4402729+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T13:28:41.4501398+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T13:28:41.4546212+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T13:28:41.4583772+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T13:28:41.4621750+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T13:28:59.5996190+01:00 0HLSBI61T1EO7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/students?lastname=a   (ca22a1cb)
2019-12-28T13:28:59.6552931+01:00 0HLSBI61T1EO7:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T13:28:59.7430202+01:00 0HLSBI61T1EO7:00000001 [INF] Route matched with "{action = \"GetLikeLastNameIncludingCourseAndSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLikeLastNameIncludingCourseAndSubjects(System.String)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:01.0153615+01:00 0HLSBI61T1EO7:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T13:29:01.0775472+01:00 0HLSBI61T1EO7:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:01.9959765+01:00 0HLSBI61T1EO7:00000001 [INF] Executed DbCommand ("206"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`, `t`.`name`, `t`.`teacher_id`
FROM `student` AS `s`
INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE (@__ToLower_0 = '') OR (LOWER(`p`.`lastname1`) IS NOT NULL AND ((LOWER(`p`.`lastname1`) LIKE CONCAT(@__ToLower_0, '%')) AND ((LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) = CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin) OR (LEFT(LOWER(`p`.`lastname1`), CHAR_LENGTH(CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin)) IS NULL AND CONVERT(@__ToLower_0 USING utf8mb4) COLLATE utf8mb4_bin IS NULL))))
ORDER BY `s`.`id`, `p`.`id`, `t`.`student_id`, `t`.`subject_id`, `t`.`id`" (0723d8ff)
2019-12-28T13:29:02.2248638+01:00 0HLSBI61T1EO7:00000001 [INF] La lista de alumnos ha sido recuperada de la base de datos. (c1b33ff7)
2019-12-28T13:29:02.2412738+01:00 0HLSBI61T1EO7:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Student, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:29:02.3140838+01:00 0HLSBI61T1EO7:00000001 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)" in 2554.6348000000003ms (afa2e885)
2019-12-28T13:29:02.3253556+01:00 0HLSBI61T1EO7:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.GetLikeLastNameIncludingCourseAndSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:02.3538639+01:00 0HLSBI61T1EO7:00000001 [INF] Request finished in 2757.7472000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:03.9106468+01:00 0HLSBI61T1EO7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T13:29:03.9164870+01:00 0HLSBI61T1EO7:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:03.9259145+01:00 0HLSBI61T1EO7:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:03.9321654+01:00 0HLSBI61T1EO7:00000002 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T13:29:03.9796651+01:00 0HLSBI61T1EO7:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:04.0078005+01:00 0HLSBI61T1EO7:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T13:29:04.0129886+01:00 0HLSBI61T1EO7:00000002 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T13:29:04.0177129+01:00 0HLSBI61T1EO7:00000002 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T13:29:04.0214910+01:00 0HLSBI61T1EO7:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:29:04.0266386+01:00 0HLSBI61T1EO7:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 96.92490000000001ms (afa2e885)
2019-12-28T13:29:04.0299958+01:00 0HLSBI61T1EO7:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:04.0340394+01:00 0HLSBI61T1EO7:00000002 [INF] Request finished in 123.7ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:05.0586632+01:00 0HLSBI61T1EO7:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses  0 (ca22a1cb)
2019-12-28T13:29:05.0638165+01:00 0HLSBI61T1EO7:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:05.0728542+01:00 0HLSBI61T1EO7:00000003 [INF] Route matched with "{action = \"RemoveCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCourse(Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:05.1004099+01:00 0HLSBI61T1EO7:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:05.1393928+01:00 0HLSBI61T1EO7:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:05.2226306+01:00 0HLSBI61T1EO7:00000003 [INF] Executed DbCommand ("26"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T13:29:05.2351462+01:00 0HLSBI61T1EO7:00000003 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T13:29:05.4388961+01:00 0HLSBI61T1EO7:00000003 [INF] Executed DbCommand ("22"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T13:29:05.6480463+01:00 0HLSBI61T1EO7:00000003 [INF] La relacion del alumno con el curso ha sido retirada de la base de datos. (b8dad956)
2019-12-28T13:29:05.7000308+01:00 0HLSBI61T1EO7:00000003 [INF] Executed DbCommand ("20"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T13:29:05.7082022+01:00 0HLSBI61T1EO7:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T13:29:05.9344803+01:00 0HLSBI61T1EO7:00000003 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p2 AND `school_class_id` = @p3;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p4 AND `school_class_id` = @p5;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p6 AND `school_class_id` = @p7;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p8 AND `school_class_id` = @p9;
SELECT ROW_COUNT();

DELETE FROM `school_class_has_students`
WHERE `student_id` = @p10 AND `school_class_id` = @p11;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T13:29:06.0944986+01:00 0HLSBI61T1EO7:00000003 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T13:29:06.1046177+01:00 0HLSBI61T1EO7:00000003 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)" in 1023.9079ms (afa2e885)
2019-12-28T13:29:06.1109648+01:00 0HLSBI61T1EO7:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.RemoveCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:06.1199017+01:00 0HLSBI61T1EO7:00000003 [INF] Request finished in 1057.7857000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:07.6940072+01:00 0HLSBI61T1EO7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses   (ca22a1cb)
2019-12-28T13:29:07.7002933+01:00 0HLSBI61T1EO7:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:07.7063568+01:00 0HLSBI61T1EO7:00000004 [INF] Route matched with "{action = \"GetALL\", controller = \"Course\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CourseController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:07.7119311+01:00 0HLSBI61T1EO7:00000004 [INF] Petición de listado de todos los cursos recibida (0aa300c9)
2019-12-28T13:29:07.7164982+01:00 0HLSBI61T1EO7:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:07.7298233+01:00 0HLSBI61T1EO7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id`, `c0`.`name`
FROM `course` AS `c`
INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`" (0723d8ff)
2019-12-28T13:29:07.7343904+01:00 0HLSBI61T1EO7:00000004 [INF] Lista de los cursos recuperada de la base de datos. (135bc508)
2019-12-28T13:29:07.7383520+01:00 0HLSBI61T1EO7:00000004 [INF] listado de todos los cursos retornado al cliente (8f341c97)
2019-12-28T13:29:07.7431496+01:00 0HLSBI61T1EO7:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Course, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:29:07.7514015+01:00 0HLSBI61T1EO7:00000004 [INF] Executed action "AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)" in 38.5013ms (afa2e885)
2019-12-28T13:29:07.7562140+01:00 0HLSBI61T1EO7:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CourseController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:07.7691113+01:00 0HLSBI61T1EO7:00000004 [INF] Request finished in 70.7632ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:09.3264681+01:00 0HLSBI61T1EO7:00000005 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/courses/2  0 (ca22a1cb)
2019-12-28T13:29:09.3311490+01:00 0HLSBI61T1EO7:00000005 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:09.3408242+01:00 0HLSBI61T1EO7:00000005 [INF] Route matched with "{action = \"UpdateCourse\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCourse(Int32, Int32)" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:09.3531497+01:00 0HLSBI61T1EO7:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:09.3749932+01:00 0HLSBI61T1EO7:00000005 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:09.3834998+01:00 0HLSBI61T1EO7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T13:29:09.3892343+01:00 0HLSBI61T1EO7:00000005 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T13:29:09.4481891+01:00 0HLSBI61T1EO7:00000005 [INF] Executed DbCommand ("24"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`cycle_id`, `t`.`year`, `t`.`id0`, `t`.`name`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`
FROM (
    SELECT `c`.`id`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id0`, `c0`.`name`
    FROM `course` AS `c`
    INNER JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `c`.`id` = @__courseId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
    FROM `course_has_subjects` AS `c1`
    INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
) AS `t0` ON `t`.`id` = `t0`.`course_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id`" (0723d8ff)
2019-12-28T13:29:09.4606892+01:00 0HLSBI61T1EO7:00000005 [INF] Curso recuperado de la base de datos. (3fdf76e3)
2019-12-28T13:29:09.5256787+01:00 0HLSBI61T1EO7:00000005 [INF] Executed DbCommand ("21"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `student` SET `course_id` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p2, @p3),
(@p4, @p5),
(@p6, @p7);" (0723d8ff)
2019-12-28T13:29:09.6468345+01:00 0HLSBI61T1EO7:00000005 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T13:29:09.7272760+01:00 0HLSBI61T1EO7:00000005 [INF] Executed DbCommand ("48"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T13:29:09.7661807+01:00 0HLSBI61T1EO7:00000005 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T13:29:09.8048344+01:00 0HLSBI61T1EO7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1),
(@p2, @p3),
(@p4, @p5),
(@p6, @p7),
(@p8, @p9),
(@p10, @p11);" (0723d8ff)
2019-12-28T13:29:09.9372482+01:00 0HLSBI61T1EO7:00000005 [INF] Clases presenciales del alumnos actualizadas en la base de datos. (b692039e)
2019-12-28T13:29:09.9421759+01:00 0HLSBI61T1EO7:00000005 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T13:29:09.9469726+01:00 0HLSBI61T1EO7:00000005 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)" in 602.3757ms (afa2e885)
2019-12-28T13:29:09.9504399+01:00 0HLSBI61T1EO7:00000005 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:09.9556899+01:00 0HLSBI61T1EO7:00000005 [INF] Request finished in 627.9788ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:10.5478028+01:00 0HLSBI61T1EO7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T13:29:10.5536357+01:00 0HLSBI61T1EO7:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:10.5651565+01:00 0HLSBI61T1EO7:00000006 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:10.5718885+01:00 0HLSBI61T1EO7:00000006 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T13:29:10.5798933+01:00 0HLSBI61T1EO7:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:10.6058269+01:00 0HLSBI61T1EO7:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T13:29:10.6133206+01:00 0HLSBI61T1EO7:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:29:10.6182559+01:00 0HLSBI61T1EO7:00000006 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 49.7314ms (afa2e885)
2019-12-28T13:29:10.6217020+01:00 0HLSBI61T1EO7:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:10.6272522+01:00 0HLSBI61T1EO7:00000006 [INF] Request finished in 79.6624ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:13.0180898+01:00 0HLSBI61T1EO7:00000007 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=7  0 (ca22a1cb)
2019-12-28T13:29:13.0220495+01:00 0HLSBI61T1EO7:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:13.0358495+01:00 0HLSBI61T1EO7:00000007 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:13.0595475+01:00 0HLSBI61T1EO7:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:13.0771660+01:00 0HLSBI61T1EO7:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:29:13.0853975+01:00 0HLSBI61T1EO7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:29:13.0929073+01:00 0HLSBI61T1EO7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T13:29:13.0978784+01:00 0HLSBI61T1EO7:00000007 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T13:29:13.1128364+01:00 0HLSBI61T1EO7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `student_has_subjects`
WHERE `student_id` = @p0 AND `subject_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T13:29:13.2159039+01:00 0HLSBI61T1EO7:00000007 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T13:29:13.2200311+01:00 0HLSBI61T1EO7:00000007 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T13:29:13.2248104+01:00 0HLSBI61T1EO7:00000007 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 185.1009ms (afa2e885)
2019-12-28T13:29:13.2282565+01:00 0HLSBI61T1EO7:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:13.2355127+01:00 0HLSBI61T1EO7:00000007 [INF] Request finished in 214.41ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:14.3150735+01:00 0HLSBI61T1EO7:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T13:29:14.3192541+01:00 0HLSBI61T1EO7:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:14.3284469+01:00 0HLSBI61T1EO7:00000008 [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:14.3360054+01:00 0HLSBI61T1EO7:00000008 [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T13:29:14.3428776+01:00 0HLSBI61T1EO7:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:14.3570451+01:00 0HLSBI61T1EO7:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T13:29:14.3646610+01:00 0HLSBI61T1EO7:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:29:14.3705383+01:00 0HLSBI61T1EO7:00000008 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 37.6301ms (afa2e885)
2019-12-28T13:29:14.3757116+01:00 0HLSBI61T1EO7:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:14.3811007+01:00 0HLSBI61T1EO7:00000008 [INF] Request finished in 65.3886ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:17.0372505+01:00 0HLSBI61T1EO7:00000009 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/students/4/subjects?subjectIds=1&subjectIds=7&subjectIds=8  0 (ca22a1cb)
2019-12-28T13:29:17.0427537+01:00 0HLSBI61T1EO7:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:17.0472091+01:00 0HLSBI61T1EO7:00000009 [INF] Route matched with "{action = \"UpdateSubjects\", controller = \"Student\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjects(Int32, Int32[])" on controller "AttendanceControl.API.Controllers.StudentController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:17.0548893+01:00 0HLSBI61T1EO7:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:17.0639415+01:00 0HLSBI61T1EO7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:29:17.0711141+01:00 0HLSBI61T1EO7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:29:17.0779147+01:00 0HLSBI61T1EO7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
WHERE `s`.`id` = @__id_0
LIMIT 1" (0723d8ff)
2019-12-28T13:29:17.0865596+01:00 0HLSBI61T1EO7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__studentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`person_data_id`, `t`.`total_absences`, `t`.`total_delays`, `t`.`id0`, `t`.`dni`, `t`.`firstname`, `t`.`lastname1`, `t`.`lastname2`, `t`.`id1`, `t`.`cycle_id`, `t`.`year`, `t`.`id2`, `t`.`name`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `t0`.`name`, `t0`.`teacher_id`, `s2`.`student_id`, `s2`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`, `p`.`id` AS `id0`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`, `c`.`id` AS `id1`, `c`.`cycle_id`, `c`.`year`, `c0`.`id` AS `id2`, `c0`.`name`
    FROM `student` AS `s`
    INNER JOIN `person_data` AS `p` ON `s`.`person_data_id` = `p`.`id`
    LEFT JOIN `course` AS `c` ON `s`.`course_id` = `c`.`id`
    LEFT JOIN `cycle` AS `c0` ON `c`.`cycle_id` = `c0`.`id`
    WHERE `s`.`id` = @__studentId_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`, `s1`.`id`, `s1`.`name`, `s1`.`teacher_id`
    FROM `student_has_subjects` AS `s0`
    INNER JOIN `subject` AS `s1` ON `s0`.`subject_id` = `s1`.`id`
) AS `t0` ON `t`.`id` = `t0`.`student_id`
LEFT JOIN `school_class_has_students` AS `s2` ON `t`.`id` = `s2`.`student_id`
ORDER BY `t`.`id`, `t`.`id0`, `t0`.`student_id`, `t0`.`subject_id`, `t0`.`id`, `s2`.`student_id`, `s2`.`school_class_id`" (0723d8ff)
2019-12-28T13:29:17.0911324+01:00 0HLSBI61T1EO7:00000009 [INF] El alumno ha sido recuperado de la base de datos. (3942e64b)
2019-12-28T13:29:17.1189464+01:00 0HLSBI61T1EO7:00000009 [INF] Executed DbCommand ("17"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `student_has_subjects` (`student_id`, `subject_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T13:29:17.2223343+01:00 0HLSBI61T1EO7:00000009 [INF] Asignaturas cursadas por el alumno actualizadas en la base de datos. (d425f6bc)
2019-12-28T13:29:17.2276570+01:00 0HLSBI61T1EO7:00000009 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.Student"'. (8a1b66c8)
2019-12-28T13:29:17.2329157+01:00 0HLSBI61T1EO7:00000009 [INF] Executed action "AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)" in 181.7776ms (afa2e885)
2019-12-28T13:29:17.2365809+01:00 0HLSBI61T1EO7:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.StudentController.UpdateSubjects (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:17.2491713+01:00 0HLSBI61T1EO7:00000009 [INF] Request finished in 204.59900000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T13:29:17.7629020+01:00 0HLSBI61T1EO7:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects/courses/2   (ca22a1cb)
2019-12-28T13:29:17.7677719+01:00 0HLSBI61T1EO7:0000000A [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T13:29:17.7722750+01:00 0HLSBI61T1EO7:0000000A [INF] Route matched with "{action = \"GetByCourse\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T13:29:17.7784305+01:00 0HLSBI61T1EO7:0000000A [INF] Petición de listado de asignaturas de un curso recibida (05b6e964)
2019-12-28T13:29:17.7828657+01:00 0HLSBI61T1EO7:0000000A [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T13:29:17.7911068+01:00 0HLSBI61T1EO7:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`
FROM `subject` AS `s`
INNER JOIN (
    SELECT `c`.`course_id`, `c`.`subject_id`
    FROM `course_has_subjects` AS `c`
    WHERE `c`.`course_id` = @__courseId_0
) AS `t` ON `s`.`id` = `t`.`subject_id`" (0723d8ff)
2019-12-28T13:29:17.7960300+01:00 0HLSBI61T1EO7:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T13:29:17.8001032+01:00 0HLSBI61T1EO7:0000000A [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)" in 24.735ms (afa2e885)
2019-12-28T13:29:17.8034097+01:00 0HLSBI61T1EO7:0000000A [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T13:29:17.8077975+01:00 0HLSBI61T1EO7:0000000A [INF] Request finished in 46.0978ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:19:22.7387798+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T14:19:22.7490805+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T14:19:22.7527289+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T14:19:22.7564702+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T14:19:22.7600324+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T14:19:33.9371298+01:00 0HLSBJ2A6G9M1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:19:34.0042324+01:00 0HLSBJ2A6G9M1:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:19:34.1359729+01:00 0HLSBJ2A6G9M1:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:19:34.9157395+01:00 0HLSBJ2A6G9M1:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:19:35.2422421+01:00 0HLSBJ2A6G9M2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:19:35.2501543+01:00 0HLSBJ2A6G9M2:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:19:35.2622719+01:00 0HLSBJ2A6G9M2:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:19:35.2954042+01:00 0HLSBJ2A6G9M2:00000001 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:19:36.1238089+01:00 0HLSBJ2A6G9M1:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T14:19:36.1804531+01:00 0HLSBJ2A6G9M2:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:19:36.1804700+01:00 0HLSBJ2A6G9M1:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:19:36.7301923+01:00 0HLSBJ2A6G9M2:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:19:36.7301987+01:00 0HLSBJ2A6G9M1:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:19:36.8752265+01:00 0HLSBJ2A6G9M2:00000001 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:19:36.8908814+01:00 0HLSBJ2A6G9M2:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:19:36.9409637+01:00 0HLSBJ2A6G9M2:00000001 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 1664.9518ms (afa2e885)
2019-12-28T14:19:36.9471221+01:00 0HLSBJ2A6G9M2:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:19:36.9562347+01:00 0HLSBJ2A6G9M1:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:19:36.9663430+01:00 0HLSBJ2A6G9M2:00000001 [INF] Request finished in 1725.1138ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:19:37.0163789+01:00 0HLSBJ2A6G9M1:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 2875.2338ms (afa2e885)
2019-12-28T14:19:37.0207628+01:00 0HLSBJ2A6G9M1:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:19:37.0271051+01:00 0HLSBJ2A6G9M1:00000001 [INF] Request finished in 3097.3968ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:19:37.0345925+01:00 0HLSBJ2A6G9M2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:19:37.0403605+01:00 0HLSBJ2A6G9M2:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:19:37.0467600+01:00 0HLSBJ2A6G9M2:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:19:37.0522466+01:00 0HLSBJ2A6G9M2:00000002 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:19:37.1026952+01:00 0HLSBJ2A6G9M2:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:19:37.1253975+01:00 0HLSBJ2A6G9M2:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:19:37.1305304+01:00 0HLSBJ2A6G9M2:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:19:37.1345773+01:00 0HLSBJ2A6G9M2:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 84.1046ms (afa2e885)
2019-12-28T14:19:37.1383099+01:00 0HLSBJ2A6G9M2:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:19:37.1427228+01:00 0HLSBJ2A6G9M2:00000002 [INF] Request finished in 110.4715ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:19:41.4854655+01:00 0HLSBJ2A6G9M1:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses/1/schoolclasses   (ca22a1cb)
2019-12-28T14:19:41.4934635+01:00 0HLSBJ2A6G9M1:00000002 [INF] Request finished in 10.5738ms 404  (791a596a)
2019-12-28T14:19:42.8053311+01:00 0HLSBJ2A6G9M1:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses/2/schoolclasses   (ca22a1cb)
2019-12-28T14:19:42.8114377+01:00 0HLSBJ2A6G9M1:00000003 [INF] Request finished in 6.0676000000000005ms 404  (791a596a)
2019-12-28T14:19:45.4346487+01:00 0HLSBJ2A6G9M1:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses/1/schoolclasses   (ca22a1cb)
2019-12-28T14:19:45.4397219+01:00 0HLSBJ2A6G9M1:00000004 [INF] Request finished in 5.123200000000001ms 404  (791a596a)
2019-12-28T14:19:51.3639262+01:00 0HLSBJ2A6G9M1:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses/2/schoolclasses   (ca22a1cb)
2019-12-28T14:19:51.3681732+01:00 0HLSBJ2A6G9M1:00000005 [INF] Request finished in 4.628ms 404  (791a596a)
2019-12-28T14:19:58.9398651+01:00 0HLSBJ2A6G9M1:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:19:58.9449062+01:00 0HLSBJ2A6G9M1:00000006 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:19:58.9501139+01:00 0HLSBJ2A6G9M1:00000006 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:19:58.9574426+01:00 0HLSBJ2A6G9M1:00000006 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:19:58.9623108+01:00 0HLSBJ2A6G9M1:00000006 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:19:58.9724946+01:00 0HLSBJ2A6G9M1:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:19:58.9801708+01:00 0HLSBJ2A6G9M1:00000006 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:19:58.9853885+01:00 0HLSBJ2A6G9M1:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:19:59.0000888+01:00 0HLSBJ2A6G9M1:00000006 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 39.29ms (afa2e885)
2019-12-28T14:19:59.0046512+01:00 0HLSBJ2A6G9M1:00000006 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:19:59.0097303+01:00 0HLSBJ2A6G9M1:00000006 [INF] Request finished in 69.1658ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:19:59.0181790+01:00 0HLSBJ2A6G9M1:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:19:59.0254343+01:00 0HLSBJ2A6G9M1:00000007 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:19:59.0314229+01:00 0HLSBJ2A6G9M1:00000007 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:19:59.0500864+01:00 0HLSBJ2A6G9M1:00000007 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:19:59.0604539+01:00 0HLSBJ2A6G9M1:00000007 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:19:59.0789936+01:00 0HLSBJ2A6G9M1:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:19:59.0879137+01:00 0HLSBJ2A6G9M1:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:19:59.0927752+01:00 0HLSBJ2A6G9M1:00000007 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 57.4788ms (afa2e885)
2019-12-28T14:19:59.0966861+01:00 0HLSBJ2A6G9M1:00000007 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:19:59.1014427+01:00 0HLSBJ2A6G9M1:00000007 [INF] Request finished in 83.1765ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:20:00.2656950+01:00 0HLSBJ2A6G9M1:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/teachers   (ca22a1cb)
2019-12-28T14:20:00.2694713+01:00 0HLSBJ2A6G9M1:00000008 [INF] Executing endpoint '"AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:20:00.2785428+01:00 0HLSBJ2A6G9M1:00000008 [INF] Route matched with "{action = \"GetALL\", controller = \"Teacher\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.TeacherController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:20:00.2853033+01:00 0HLSBJ2A6G9M1:00000008 [INF] Petición de listado deprofesores recibida (65ac107c)
2019-12-28T14:20:00.2934632+01:00 0HLSBJ2A6G9M1:00000008 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:20:00.3534894+01:00 0HLSBJ2A6G9M1:00000008 [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id` AS `Id`, `p`.`dni` AS `Dni`, `p`.`firstname` AS `FirstName`, `p`.`lastname1` AS `LastName1`, `p`.`lastname2` AS `LastName2`
FROM `teacher` AS `t`
INNER JOIN `person_data` AS `p` ON `t`.`person_data_id` = `p`.`id`" (0723d8ff)
2019-12-28T14:20:00.3734150+01:00 0HLSBJ2A6G9M1:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Teacher, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:20:00.3869405+01:00 0HLSBJ2A6G9M1:00000008 [INF] Executed action "AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)" in 102.38520000000001ms (afa2e885)
2019-12-28T14:20:00.3903999+01:00 0HLSBJ2A6G9M1:00000008 [INF] Executed endpoint '"AttendanceControl.API.Controllers.TeacherController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:20:00.4053734+01:00 0HLSBJ2A6G9M1:00000008 [INF] Request finished in 131.23170000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:20:01.0460398+01:00 0HLSBJ2A6G9M1:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:20:01.0504115+01:00 0HLSBJ2A6G9M1:00000009 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:20:01.0570258+01:00 0HLSBJ2A6G9M1:00000009 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:20:01.0626886+01:00 0HLSBJ2A6G9M1:00000009 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:20:01.0670774+01:00 0HLSBJ2A6G9M1:00000009 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:20:01.0774349+01:00 0HLSBJ2A6G9M1:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:20:01.0824652+01:00 0HLSBJ2A6G9M1:00000009 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:20:01.0864964+01:00 0HLSBJ2A6G9M1:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:20:01.0914226+01:00 0HLSBJ2A6G9M1:00000009 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 30.982200000000002ms (afa2e885)
2019-12-28T14:20:01.0946358+01:00 0HLSBJ2A6G9M1:00000009 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:20:01.0991631+01:00 0HLSBJ2A6G9M1:00000009 [INF] Request finished in 54.9865ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:20:01.1042905+01:00 0HLSBJ2A6G9M1:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:20:01.1079105+01:00 0HLSBJ2A6G9M1:0000000A [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:20:01.1128358+01:00 0HLSBJ2A6G9M1:0000000A [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:20:01.1172795+01:00 0HLSBJ2A6G9M1:0000000A [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:20:01.1234042+01:00 0HLSBJ2A6G9M1:0000000A [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:20:01.1345375+01:00 0HLSBJ2A6G9M1:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:20:01.1451765+01:00 0HLSBJ2A6G9M1:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:20:01.1500599+01:00 0HLSBJ2A6G9M1:0000000A [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 33.742200000000004ms (afa2e885)
2019-12-28T14:20:01.1544037+01:00 0HLSBJ2A6G9M1:0000000A [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:20:01.1597227+01:00 0HLSBJ2A6G9M1:0000000A [INF] Request finished in 54.9654ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:20:02.5384537+01:00 0HLSBJ2A6G9M1:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses/1/schoolclasses   (ca22a1cb)
2019-12-28T14:20:02.5429130+01:00 0HLSBJ2A6G9M1:0000000B [INF] Request finished in 4.2475000000000005ms 404  (791a596a)
2019-12-28T14:20:03.4963462+01:00 0HLSBJ2A6G9M1:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/courses/2/schoolclasses   (ca22a1cb)
2019-12-28T14:20:03.5004662+01:00 0HLSBJ2A6G9M1:0000000C [INF] Request finished in 4.539000000000001ms 404  (791a596a)
2019-12-28T14:21:38.9076085+01:00 0HLSBJ2A6G9M3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:21:38.9127336+01:00 0HLSBJ2A6G9M3:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:21:38.9185550+01:00 0HLSBJ2A6G9M3:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:21:38.9230980+01:00 0HLSBJ2A6G9M3:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:21:38.9291352+01:00 0HLSBJ2A6G9M3:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:21:38.9401707+01:00 0HLSBJ2A6G9M3:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:21:38.9466898+01:00 0HLSBJ2A6G9M3:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:21:38.9550639+01:00 0HLSBJ2A6G9M3:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 29.4295ms (afa2e885)
2019-12-28T14:21:38.9611573+01:00 0HLSBJ2A6G9M3:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:21:38.9774153+01:00 0HLSBJ2A6G9M3:00000001 [INF] Request finished in 57.2239ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:21:41.3147140+01:00 0HLSBJ2A6G9M3:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:21:41.3194740+01:00 0HLSBJ2A6G9M3:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:21:41.3236377+01:00 0HLSBJ2A6G9M3:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:21:41.3279357+01:00 0HLSBJ2A6G9M3:00000002 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:21:41.3329699+01:00 0HLSBJ2A6G9M3:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:21:41.3410330+01:00 0HLSBJ2A6G9M3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:21:41.3454426+01:00 0HLSBJ2A6G9M3:00000002 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:21:41.3494977+01:00 0HLSBJ2A6G9M3:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:21:41.3538376+01:00 0HLSBJ2A6G9M3:00000002 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 26.662200000000002ms (afa2e885)
2019-12-28T14:21:41.3571467+01:00 0HLSBJ2A6G9M3:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:21:41.3619676+01:00 0HLSBJ2A6G9M3:00000002 [INF] Request finished in 47.526900000000005ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:21:41.3707672+01:00 0HLSBJ2A6G9M3:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:21:41.3752240+01:00 0HLSBJ2A6G9M3:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:21:41.3797193+01:00 0HLSBJ2A6G9M3:00000003 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:21:41.3867802+01:00 0HLSBJ2A6G9M3:00000003 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:21:41.4086291+01:00 0HLSBJ2A6G9M3:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:21:41.4223737+01:00 0HLSBJ2A6G9M3:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:21:41.4296381+01:00 0HLSBJ2A6G9M3:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:21:41.4354375+01:00 0HLSBJ2A6G9M3:00000003 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 51.164ms (afa2e885)
2019-12-28T14:21:41.4397530+01:00 0HLSBJ2A6G9M3:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:21:41.4462280+01:00 0HLSBJ2A6G9M3:00000003 [INF] Request finished in 74.79140000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:21:42.9080062+01:00 0HLSBJ2A6G9M3:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/1/schoolclasses   (ca22a1cb)
2019-12-28T14:21:42.9122653+01:00 0HLSBJ2A6G9M3:00000004 [INF] Request finished in 3.7297000000000002ms 404  (791a596a)
2019-12-28T14:21:44.8942107+01:00 0HLSBJ2A6G9M3:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/2/schoolclasses   (ca22a1cb)
2019-12-28T14:21:44.8997775+01:00 0HLSBJ2A6G9M3:00000005 [INF] Request finished in 4.3296ms 404  (791a596a)
2019-12-28T14:23:30.2497378+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T14:23:30.2574304+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T14:23:30.2611176+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T14:23:30.2652135+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T14:23:30.2684394+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T14:23:40.6220429+01:00 0HLSBJ4JJGN1P:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:23:40.6867843+01:00 0HLSBJ4JJGN1P:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:23:40.7740669+01:00 0HLSBJ4JJGN1P:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:23:41.2331947+01:00 0HLSBJ4JJGN1P:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:23:42.3609113+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:23:42.3707065+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:23:42.3835348+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:23:42.3935829+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:23:43.0321438+01:00 0HLSBJ4JJGN1P:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T14:23:43.0871904+01:00 0HLSBJ4JJGN1P:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:23:43.0871904+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:23:43.6098822+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:23:43.6098822+01:00 0HLSBJ4JJGN1P:00000001 [INF] Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:23:43.7475622+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:23:43.7644110+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:23:43.8220027+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 1423.0020000000002ms (afa2e885)
2019-12-28T14:23:43.8273996+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:23:43.8313515+01:00 0HLSBJ4JJGN1P:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:23:43.8466521+01:00 0HLSBJ4JJGN1Q:00000001 [INF] Request finished in 1488.5591000000002ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:23:43.8863691+01:00 0HLSBJ4JJGN1P:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 3107.751ms (afa2e885)
2019-12-28T14:23:43.8940990+01:00 0HLSBJ4JJGN1P:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:23:43.9231442+01:00 0HLSBJ4JJGN1P:00000001 [INF] Request finished in 3324.7729ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:23:43.9324499+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:23:43.9371585+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:23:43.9430174+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:23:43.9491465+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:23:43.9968564+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:23:44.0258260+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:23:44.0308813+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:23:44.0354437+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 88.31360000000001ms (afa2e885)
2019-12-28T14:23:44.0394423+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:23:44.0441654+01:00 0HLSBJ4JJGN1Q:00000002 [INF] Request finished in 111.9162ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:23:45.3802889+01:00 0HLSBJ4JJGN1P:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/1   (ca22a1cb)
2019-12-28T14:23:45.3857145+01:00 0HLSBJ4JJGN1P:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:23:45.4055451+01:00 0HLSBJ4JJGN1P:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:23:45.4236157+01:00 0HLSBJ4JJGN1P:00000002 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:23:45.4314977+01:00 0HLSBJ4JJGN1P:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:23:45.5266195+01:00 0HLSBJ4JJGN1P:00000002 [INF] Executed DbCommand ("28"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:23:45.5329369+01:00 0HLSBJ4JJGN1P:00000002 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:23:45.5384295+01:00 0HLSBJ4JJGN1P:00000002 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:23:45.5430875+01:00 0HLSBJ4JJGN1P:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:23:45.5491747+01:00 0HLSBJ4JJGN1P:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 139.37390000000002ms (afa2e885)
2019-12-28T14:23:45.5536027+01:00 0HLSBJ4JJGN1P:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:23:45.5599233+01:00 0HLSBJ4JJGN1P:00000002 [INF] Request finished in 179.0619ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:23:46.3286625+01:00 0HLSBJ4JJGN1P:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/2   (ca22a1cb)
2019-12-28T14:23:46.3339258+01:00 0HLSBJ4JJGN1P:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:23:46.3379176+01:00 0HLSBJ4JJGN1P:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:23:46.3467412+01:00 0HLSBJ4JJGN1P:00000003 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:23:46.3525033+01:00 0HLSBJ4JJGN1P:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:23:46.3642653+01:00 0HLSBJ4JJGN1P:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:23:46.3933153+01:00 0HLSBJ4JJGN1P:00000003 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:23:46.3981914+01:00 0HLSBJ4JJGN1P:00000003 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:23:46.4022121+01:00 0HLSBJ4JJGN1P:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:23:46.4101482+01:00 0HLSBJ4JJGN1P:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 68.3858ms (afa2e885)
2019-12-28T14:23:46.4138779+01:00 0HLSBJ4JJGN1P:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:23:46.4179155+01:00 0HLSBJ4JJGN1P:00000003 [INF] Request finished in 97.446ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:24:02.4110370+01:00 0HLSBJ4JJGN1P:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/schoolclasses application/json; charset=utf-8 513 (ca22a1cb)
2019-12-28T14:24:02.4152493+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.Save (AttendanceControl.API)"' (500cc934)
2019-12-28T14:24:02.4249563+01:00 0HLSBJ4JJGN1P:00000004 [INF] Route matched with "{action = \"Save\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Save(AttendanceControl.API.Business.Models.SchoolClass)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:24:02.4848482+01:00 0HLSBJ4JJGN1P:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:24:02.5327505+01:00 0HLSBJ4JJGN1P:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:24:02.7325482+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executed DbCommand ("32"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class` (`course_id`, `day`, `schedule_id`, `subject_id`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `id`, `is_current`
FROM `school_class`
WHERE ROW_COUNT() = 1 AND `id` = LAST_INSERT_ID();" (0723d8ff)
2019-12-28T14:24:02.8849094+01:00 0HLSBJ4JJGN1P:00000004 [INF] Nueva clase guardada en la base de datos. (47a13c77)
2019-12-28T14:24:02.9286075+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__schoolClassId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE `s`.`id` = @__schoolClassId_0
LIMIT 1" (0723d8ff)
2019-12-28T14:24:02.9353975+01:00 0HLSBJ4JJGN1P:00000004 [INF] Classe vigente con su asignatura y horarios recuperada de la base de datos. (da72e3cd)
2019-12-28T14:24:02.9696500+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__subjectId_0='?' (DbType = Int32), @__courseId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`person_data_id`, `s`.`total_absences`, `s`.`total_delays`
FROM `student` AS `s`
INNER JOIN (
    SELECT `s0`.`student_id`, `s0`.`subject_id`
    FROM `student_has_subjects` AS `s0`
    WHERE `s0`.`subject_id` = @__subjectId_0
) AS `t` ON `s`.`id` = `t`.`student_id`
WHERE `s`.`course_id` = @__courseId_1" (0723d8ff)
2019-12-28T14:24:03.0458051+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO `school_class_has_students` (`student_id`, `school_class_id`)
VALUES (@p0, @p1);" (0723d8ff)
2019-12-28T14:24:03.1332871+01:00 0HLSBJ4JJGN1P:00000004 [INF] Classe vigente con su asignatura y horarios recuperada de la base de datos. (da72e3cd)
2019-12-28T14:24:03.1402780+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executing ObjectResult, writing value of type '"AttendanceControl.API.Business.Models.SchoolClass"'. (8a1b66c8)
2019-12-28T14:24:03.1461309+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.Save (AttendanceControl.API)" in 716.7701000000001ms (afa2e885)
2019-12-28T14:24:03.1501803+01:00 0HLSBJ4JJGN1P:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.Save (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:24:03.1666449+01:00 0HLSBJ4JJGN1P:00000004 [INF] Request finished in 743.563ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:40:53.7087625+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T14:40:53.7207858+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T14:40:53.7463202+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T14:40:53.7514784+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T14:40:53.7557529+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T14:40:57.2799109+01:00 0HLSBJE8LMEPP:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/schoolclasses/7  0 (ca22a1cb)
2019-12-28T14:40:57.3410861+01:00 0HLSBJE8LMEPP:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (500cc934)
2019-12-28T14:40:57.4389358+01:00 0HLSBJE8LMEPP:00000001 [INF] Route matched with "{action = \"SetNotCurrent\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetNotCurrent(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:40:59.0962619+01:00 0HLSBJE8LMEPP:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T14:40:59.1587134+01:00 0HLSBJE8LMEPP:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:40:59.5388031+01:00 0HLSBJE8LMEPP:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:40:59.9359699+01:00 0HLSBJE8LMEPP:00000001 [INF] Executed DbCommand ("40"ms) [Parameters=["@__schoolClassId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`id` = @__schoolClassId_0
LIMIT 1" (0723d8ff)
2019-12-28T14:41:00.2310494+01:00 0HLSBJE8LMEPP:00000001 [INF] Executed DbCommand ("24"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `school_class` SET `is_current` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T14:41:00.4304747+01:00 0HLSBJE8LMEPP:00000001 [INF] La classe ha sido modificada como no vigente en la base de datos. (61aa67b0)
2019-12-28T14:41:01.0139188+01:00 0HLSBJE8LMEPP:00000001 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)" in 3560.6979ms (afa2e885)
2019-12-28T14:41:01.0196171+01:00 0HLSBJE8LMEPP:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:41:01.1364272+01:00 0HLSBJE8LMEPP:00000001 [ERR] Connection id ""0HLSBJE8LMEPP"", Request id ""0HLSBJE8LMEPP:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.NullReferenceException: Object reference not set to an instance of an object.
   at AttendanceControl.API.Application.Services.SchoolClassService.SetNotCurrent(Int32 id) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\SchoolClassService.cs:line 53
   at AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent(Int32 id) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\SchoolClassController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T14:41:01.1606467+01:00 0HLSBJE8LMEPP:00000001 [INF] Request finished in 3884.3986ms 500  (791a596a)
2019-12-28T14:41:20.5604709+01:00 0HLSBJE8LMEPP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/1   (ca22a1cb)
2019-12-28T14:41:20.5665953+01:00 0HLSBJE8LMEPP:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:41:20.5792967+01:00 0HLSBJE8LMEPP:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:41:20.5947063+01:00 0HLSBJE8LMEPP:00000002 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:41:20.6446740+01:00 0HLSBJE8LMEPP:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:41:20.7348103+01:00 0HLSBJE8LMEPP:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:41:20.7436450+01:00 0HLSBJE8LMEPP:00000002 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:41:20.7485262+01:00 0HLSBJE8LMEPP:00000002 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:41:20.7588340+01:00 0HLSBJE8LMEPP:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:41:20.7806633+01:00 0HLSBJE8LMEPP:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 197.8186ms (afa2e885)
2019-12-28T14:41:20.7846069+01:00 0HLSBJE8LMEPP:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:41:20.7904879+01:00 0HLSBJE8LMEPP:00000002 [INF] Request finished in 228.3368ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:41:21.7034401+01:00 0HLSBJE8LMEPP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/2   (ca22a1cb)
2019-12-28T14:41:21.7090409+01:00 0HLSBJE8LMEPP:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:41:21.7150486+01:00 0HLSBJE8LMEPP:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:41:21.7253442+01:00 0HLSBJE8LMEPP:00000003 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:41:21.7297267+01:00 0HLSBJE8LMEPP:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:41:21.7589293+01:00 0HLSBJE8LMEPP:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:41:21.8026609+01:00 0HLSBJE8LMEPP:00000003 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:41:21.8113169+01:00 0HLSBJE8LMEPP:00000003 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:41:21.8150856+01:00 0HLSBJE8LMEPP:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:41:21.8313120+01:00 0HLSBJE8LMEPP:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 112.84280000000001ms (afa2e885)
2019-12-28T14:41:21.8348625+01:00 0HLSBJE8LMEPP:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:41:21.8390847+01:00 0HLSBJE8LMEPP:00000003 [INF] Request finished in 137.618ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:43:23.8432944+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T14:43:23.8515459+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T14:43:23.8547085+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T14:43:23.8581595+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T14:43:23.8612997+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T14:43:30.6989492+01:00 0HLSBJFMD0VJ2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/1   (ca22a1cb)
2019-12-28T14:43:30.7559086+01:00 0HLSBJFMD0VJ2:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:43:30.8563264+01:00 0HLSBJFMD0VJ2:00000001 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:43:31.1698099+01:00 0HLSBJFMD0VJ2:00000001 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:43:31.6340790+01:00 0HLSBJFMD0VJ3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/subjects   (ca22a1cb)
2019-12-28T14:43:31.6434329+01:00 0HLSBJFMD0VJ3:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)"' (500cc934)
2019-12-28T14:43:31.6557206+01:00 0HLSBJFMD0VJ3:00000001 [INF] Route matched with "{action = \"GetAllIncludingAssignedTeacher\", controller = \"Subject\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllIncludingAssignedTeacher()" on controller "AttendanceControl.API.Controllers.SubjectController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:43:31.6627014+01:00 0HLSBJFMD0VJ3:00000001 [INF] Petición de listado de asignaturas recibida (ea283cf1)
2019-12-28T14:43:31.9455299+01:00 0HLSBJFMD0VJ4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:43:31.9497371+01:00 0HLSBJFMD0VJ4:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:43:31.9598516+01:00 0HLSBJFMD0VJ4:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:43:31.9670662+01:00 0HLSBJFMD0VJ4:00000001 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:43:32.8093405+01:00 0HLSBJFMD0VJ3:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T14:43:32.8513683+01:00 0HLSBJFMD0VJ2:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:43:32.8519150+01:00 0HLSBJFMD0VJ3:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:43:32.8670931+01:00 0HLSBJFMD0VJ4:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:43:33.4065894+01:00 0HLSBJFMD0VJ3:00000001 [INF] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`name`, `s`.`teacher_id`, `t`.`id`, `t`.`password`, `t`.`person_data_id`, `t`.`username`, `p`.`id`, `p`.`dni`, `p`.`firstname`, `p`.`lastname1`, `p`.`lastname2`
FROM `subject` AS `s`
LEFT JOIN `teacher` AS `t` ON `s`.`teacher_id` = `t`.`id`
LEFT JOIN `person_data` AS `p` ON `t`.`person_data_id` = `p`.`id`
ORDER BY `s`.`name`" (0723d8ff)
2019-12-28T14:43:33.4065999+01:00 0HLSBJFMD0VJ2:00000001 [INF] Executed DbCommand ("67"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:43:33.4065999+01:00 0HLSBJFMD0VJ4:00000001 [INF] Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:43:33.4781809+01:00 0HLSBJFMD0VJ2:00000001 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:43:33.4828325+01:00 0HLSBJFMD0VJ2:00000001 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:43:33.4961899+01:00 0HLSBJFMD0VJ2:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:43:33.5272262+01:00 0HLSBJFMD0VJ4:00000001 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:43:33.5361888+01:00 0HLSBJFMD0VJ4:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:43:33.5528822+01:00 0HLSBJFMD0VJ2:00000001 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 2671.5693ms (afa2e885)
2019-12-28T14:43:33.5528870+01:00 0HLSBJFMD0VJ4:00000001 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 1587.1285ms (afa2e885)
2019-12-28T14:43:33.5618934+01:00 0HLSBJFMD0VJ4:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:43:33.5625360+01:00 0HLSBJFMD0VJ2:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:43:33.5895523+01:00 0HLSBJFMD0VJ2:00000001 [INF] Request finished in 2894.6498ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:43:33.5910226+01:00 0HLSBJFMD0VJ4:00000001 [INF] Request finished in 1633.809ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:43:33.6775867+01:00 0HLSBJFMD0VJ2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:43:33.6830654+01:00 0HLSBJFMD0VJ2:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:43:33.6973413+01:00 0HLSBJFMD0VJ2:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:43:33.7068352+01:00 0HLSBJFMD0VJ2:00000002 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:43:33.7162501+01:00 0HLSBJFMD0VJ2:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:43:33.7206877+01:00 0HLSBJFMD0VJ3:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Subject, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:43:33.7365789+01:00 0HLSBJFMD0VJ3:00000001 [INF] Executed action "AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)" in 2075.6713ms (afa2e885)
2019-12-28T14:43:33.7404565+01:00 0HLSBJFMD0VJ3:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SubjectController.GetAllIncludingAssignedTeacher (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:43:33.7448290+01:00 0HLSBJFMD0VJ3:00000001 [INF] Request finished in 2112.4092ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:43:33.8228401+01:00 0HLSBJFMD0VJ2:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:43:33.8984800+01:00 0HLSBJFMD0VJ2:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:43:33.9068393+01:00 0HLSBJFMD0VJ2:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 205.4357ms (afa2e885)
2019-12-28T14:43:33.9107146+01:00 0HLSBJFMD0VJ2:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:43:33.9151423+01:00 0HLSBJFMD0VJ2:00000002 [INF] Request finished in 237.6518ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:43:35.3449438+01:00 0HLSBJFMD0VJ2:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/2   (ca22a1cb)
2019-12-28T14:43:35.3495462+01:00 0HLSBJFMD0VJ2:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:43:35.3550005+01:00 0HLSBJFMD0VJ2:00000003 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:43:35.3623770+01:00 0HLSBJFMD0VJ2:00000003 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:43:35.3678035+01:00 0HLSBJFMD0VJ2:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:43:35.3808510+01:00 0HLSBJFMD0VJ2:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:43:35.4127865+01:00 0HLSBJFMD0VJ2:00000003 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:43:35.4201736+01:00 0HLSBJFMD0VJ2:00000003 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:43:35.4243796+01:00 0HLSBJFMD0VJ2:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:43:35.4324207+01:00 0HLSBJFMD0VJ2:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 73.63000000000001ms (afa2e885)
2019-12-28T14:43:35.4369377+01:00 0HLSBJFMD0VJ2:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:43:35.4411225+01:00 0HLSBJFMD0VJ2:00000003 [INF] Request finished in 96.70700000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:44:10.0161290+01:00 0HLSBJFMD0VJ2:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/schoolclasses/6  0 (ca22a1cb)
2019-12-28T14:44:10.0201475+01:00 0HLSBJFMD0VJ2:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (500cc934)
2019-12-28T14:44:10.0291943+01:00 0HLSBJFMD0VJ2:00000004 [INF] Route matched with "{action = \"SetNotCurrent\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetNotCurrent(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:44:10.0419089+01:00 0HLSBJFMD0VJ2:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:44:10.0841162+01:00 0HLSBJFMD0VJ2:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:44:10.1084971+01:00 0HLSBJFMD0VJ2:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__schoolClassId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
FROM `school_class` AS `s`
WHERE `s`.`id` = @__schoolClassId_0
LIMIT 1" (0723d8ff)
2019-12-28T14:44:10.2515845+01:00 0HLSBJFMD0VJ2:00000004 [INF] Executed DbCommand ("11"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `school_class` SET `is_current` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T14:44:10.3785004+01:00 0HLSBJFMD0VJ2:00000004 [INF] La classe ha sido modificada como no vigente en la base de datos. (61aa67b0)
2019-12-28T14:44:10.9202332+01:00 0HLSBJFMD0VJ2:00000004 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)" in 886.9437ms (afa2e885)
2019-12-28T14:44:10.9241332+01:00 0HLSBJFMD0VJ2:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:44:10.9900089+01:00 0HLSBJFMD0VJ2:00000004 [ERR] Connection id ""0HLSBJFMD0VJ2"", Request id ""0HLSBJFMD0VJ2:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.NullReferenceException: Object reference not set to an instance of an object.
   at AttendanceControl.API.Application.Services.SchoolClassService.SetNotCurrent(Int32 id) in F:\AttendanceControl.API\AttendanceControl.API.Application\Services\SchoolClassService.cs:line 57
   at AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent(Int32 id) in F:\AttendanceControl.API\AttendanceControl.API\Controllers\SchoolClassController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-12-28T14:44:10.9989525+01:00 0HLSBJFMD0VJ2:00000004 [INF] Request finished in 981.8238ms 500  (791a596a)
2019-12-28T14:45:40.1201113+01:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2019-12-28T14:45:40.1282532+01:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2019-12-28T14:45:40.1315452+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2019-12-28T14:45:40.1345911+01:00  [INF] Hosting environment: "Development" (c3307c92)
2019-12-28T14:45:40.1379012+01:00  [INF] Content root path: "F:\AttendanceControl.API\AttendanceControl.API" (b5d60022)
2019-12-28T14:45:49.0712172+01:00 0HLSBJGVKDH9Q:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:45:49.1240779+01:00 0HLSBJGVKDH9Q:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:45:49.2210002+01:00 0HLSBJGVKDH9Q:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:45:49.3099848+01:00 0HLSBJGVKDH9R:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schedules   (ca22a1cb)
2019-12-28T14:45:49.3165169+01:00 0HLSBJGVKDH9R:00000001 [INF] Executing endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:45:49.3245945+01:00 0HLSBJGVKDH9R:00000001 [INF] Route matched with "{action = \"GetALL\", controller = \"Schedule\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.ScheduleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:45:49.5417712+01:00 0HLSBJGVKDH9Q:00000001 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:45:49.5417947+01:00 0HLSBJGVKDH9R:00000001 [INF] Petición de listado de horarios (2489320f)
2019-12-28T14:45:51.1517131+01:00 0HLSBJGVKDH9R:00000001 [WRN] The 'bool' property '"IsCurrent"' on entity type '"SchoolClassEntity"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2019-12-28T14:45:51.1886957+01:00 0HLSBJGVKDH9Q:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:45:51.1888282+01:00 0HLSBJGVKDH9R:00000001 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:45:51.7396496+01:00 0HLSBJGVKDH9Q:00000001 [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:45:51.7396577+01:00 0HLSBJGVKDH9R:00000001 [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`end`, `s`.`start`
FROM `schedule` AS `s`" (0723d8ff)
2019-12-28T14:45:51.8770091+01:00 0HLSBJGVKDH9R:00000001 [INF] Lista de horarios recuperada de la base de datos. (7edc644b)
2019-12-28T14:45:51.8963072+01:00 0HLSBJGVKDH9R:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Schedule, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:45:51.9496866+01:00 0HLSBJGVKDH9Q:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:45:51.9550051+01:00 0HLSBJGVKDH9R:00000001 [INF] Executed action "AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)" in 2608.4753ms (afa2e885)
2019-12-28T14:45:51.9638527+01:00 0HLSBJGVKDH9R:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.ScheduleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:45:51.9765465+01:00 0HLSBJGVKDH9Q:00000001 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 2748.0170000000003ms (afa2e885)
2019-12-28T14:45:51.9821405+01:00 0HLSBJGVKDH9Q:00000001 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:45:52.0078112+01:00 0HLSBJGVKDH9R:00000001 [INF] Request finished in 2688.7467ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:45:52.0078731+01:00 0HLSBJGVKDH9Q:00000001 [INF] Request finished in 2933.8313000000003ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:45:52.0762596+01:00 0HLSBJGVKDH9R:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/cycles   (ca22a1cb)
2019-12-28T14:45:52.0816501+01:00 0HLSBJGVKDH9R:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (500cc934)
2019-12-28T14:45:52.0869732+01:00 0HLSBJGVKDH9R:00000002 [INF] Route matched with "{action = \"GetALL\", controller = \"Cycle\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetALL()" on controller "AttendanceControl.API.Controllers.CycleController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:45:52.0937034+01:00 0HLSBJGVKDH9R:00000002 [INF] Petición de listado de grados recibida (7cfff5cc)
2019-12-28T14:45:52.1383916+01:00 0HLSBJGVKDH9R:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:45:52.1640125+01:00 0HLSBJGVKDH9R:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT `c`.`id`, `c`.`name`, `t0`.`id`, `t0`.`cycle_id`, `t0`.`year`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`, `t0`.`name`, `t0`.`teacher_id`
FROM `cycle` AS `c`
LEFT JOIN (
    SELECT `c0`.`id`, `c0`.`cycle_id`, `c0`.`year`, `t`.`course_id`, `t`.`subject_id`, `t`.`id` AS `id0`, `t`.`name`, `t`.`teacher_id`
    FROM `course` AS `c0`
    LEFT JOIN (
        SELECT `c1`.`course_id`, `c1`.`subject_id`, `s`.`id`, `s`.`name`, `s`.`teacher_id`
        FROM `course_has_subjects` AS `c1`
        INNER JOIN `subject` AS `s` ON `c1`.`subject_id` = `s`.`id`
    ) AS `t` ON `c0`.`id` = `t`.`course_id`
) AS `t0` ON `c`.`id` = `t0`.`cycle_id`
ORDER BY `c`.`name`, `c`.`id`, `t0`.`id`, `t0`.`course_id`, `t0`.`subject_id`, `t0`.`id0`" (0723d8ff)
2019-12-28T14:45:52.1705340+01:00 0HLSBJGVKDH9R:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.Cycle, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:45:52.1752502+01:00 0HLSBJGVKDH9R:00000002 [INF] Executed action "AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)" in 84.1061ms (afa2e885)
2019-12-28T14:45:52.1789719+01:00 0HLSBJGVKDH9R:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.CycleController.GetALL (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:45:52.1835517+01:00 0HLSBJGVKDH9R:00000002 [INF] Request finished in 110.0074ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:45:53.2717645+01:00 0HLSBJGVKDH9Q:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/schoolclasses/courses/2   (ca22a1cb)
2019-12-28T14:45:53.2765148+01:00 0HLSBJGVKDH9Q:00000002 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (500cc934)
2019-12-28T14:45:53.2977177+01:00 0HLSBJGVKDH9Q:00000002 [INF] Route matched with "{action = \"GetByCourse\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByCourse(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:45:53.3223357+01:00 0HLSBJGVKDH9Q:00000002 [INF] Petición de listado de clases de un curso recibida (51e4908d)
2019-12-28T14:45:53.3338328+01:00 0HLSBJGVKDH9Q:00000002 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:45:53.4262425+01:00 0HLSBJGVKDH9Q:00000002 [INF] Executed DbCommand ("24"ms) [Parameters=["@__courseId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`, `s0`.`id`, `s0`.`name`, `s0`.`teacher_id`, `s1`.`id`, `s1`.`end`, `s1`.`start`
FROM `school_class` AS `s`
INNER JOIN `subject` AS `s0` ON `s`.`subject_id` = `s0`.`id`
INNER JOIN `schedule` AS `s1` ON `s`.`schedule_id` = `s1`.`id`
WHERE (`s`.`course_id` = @__courseId_0) AND (`s`.`is_current` = TRUE)" (0723d8ff)
2019-12-28T14:45:53.4548284+01:00 0HLSBJGVKDH9Q:00000002 [INF] La lista de clases ha sido recuperadada de la base de datos. (76d03c4f)
2019-12-28T14:45:53.4607015+01:00 0HLSBJGVKDH9Q:00000002 [INF] Listado de clases de un curso exitosa devuelto (95c25676)
2019-12-28T14:45:53.4659931+01:00 0HLSBJGVKDH9Q:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[AttendanceControl.API.Business.Models.SchoolClass, AttendanceControl.API.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-12-28T14:45:53.4746515+01:00 0HLSBJGVKDH9Q:00000002 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)" in 173.0395ms (afa2e885)
2019-12-28T14:45:53.4790469+01:00 0HLSBJGVKDH9Q:00000002 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.GetByCourse (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:45:53.4840021+01:00 0HLSBJGVKDH9Q:00000002 [INF] Request finished in 212.06980000000001ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:45:56.6948969+01:00 0HLSBJGVKDH9Q:00000003 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/schoolclasses/1  0 (ca22a1cb)
2019-12-28T14:45:56.7010656+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (500cc934)
2019-12-28T14:45:56.7117910+01:00 0HLSBJGVKDH9Q:00000003 [INF] Route matched with "{action = \"SetNotCurrent\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetNotCurrent(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:45:56.7273384+01:00 0HLSBJGVKDH9Q:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:45:56.7670681+01:00 0HLSBJGVKDH9Q:00000003 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:45:56.7964653+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__schoolClassId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`day`, `t`.`is_current`, `t`.`schedule_id`, `t`.`subject_id`, `s0`.`student_id`, `s0`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
    FROM `school_class` AS `s`
    WHERE `s`.`id` = @__schoolClassId_0
    LIMIT 1
) AS `t`
LEFT JOIN `school_class_has_students` AS `s0` ON `t`.`id` = `s0`.`school_class_id`
ORDER BY `t`.`id`, `s0`.`student_id`, `s0`.`school_class_id`" (0723d8ff)
2019-12-28T14:45:56.9519301+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executed DbCommand ("30"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `school_class` SET `is_current` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T14:45:57.0577279+01:00 0HLSBJGVKDH9Q:00000003 [INF] La classe ha sido modificada como no vigente en la base de datos. (61aa67b0)
2019-12-28T14:45:57.0981924+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T14:45:57.1844243+01:00 0HLSBJGVKDH9Q:00000003 [INF] Classe vigente con su asignatura y horarios recuperada de la base de datos. (da72e3cd)
2019-12-28T14:45:57.1908245+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-12-28T14:45:57.1977406+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)" in 481.6293ms (afa2e885)
2019-12-28T14:45:57.2017749+01:00 0HLSBJGVKDH9Q:00000003 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:45:57.2115546+01:00 0HLSBJGVKDH9Q:00000003 [INF] Request finished in 512.2202ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:46:37.1692923+01:00 0HLSBJGVKDH9Q:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/schoolclasses/2  0 (ca22a1cb)
2019-12-28T14:46:37.1758411+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executing endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (500cc934)
2019-12-28T14:46:37.1810964+01:00 0HLSBJGVKDH9Q:00000004 [INF] Route matched with "{action = \"SetNotCurrent\", controller = \"SchoolClass\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetNotCurrent(Int32)" on controller "AttendanceControl.API.Controllers.SchoolClassController" ("AttendanceControl.API"). (122b2fdf)
2019-12-28T14:46:37.1943708+01:00 0HLSBJGVKDH9Q:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:46:37.2196937+01:00 0HLSBJGVKDH9Q:00000004 [INF] Entity Framework Core "3.1.0" initialized '"AttendanceControlDBContext"' using provider '"Pomelo.EntityFrameworkCore.MySql"' with options: "None" (9958f5bb)
2019-12-28T14:46:37.2344943+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__schoolClassId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT `t`.`id`, `t`.`course_id`, `t`.`day`, `t`.`is_current`, `t`.`schedule_id`, `t`.`subject_id`, `s0`.`student_id`, `s0`.`school_class_id`
FROM (
    SELECT `s`.`id`, `s`.`course_id`, `s`.`day`, `s`.`is_current`, `s`.`schedule_id`, `s`.`subject_id`
    FROM `school_class` AS `s`
    WHERE `s`.`id` = @__schoolClassId_0
    LIMIT 1
) AS `t`
LEFT JOIN `school_class_has_students` AS `s0` ON `t`.`id` = `s0`.`school_class_id`
ORDER BY `t`.`id`, `s0`.`student_id`, `s0`.`school_class_id`" (0723d8ff)
2019-12-28T14:46:37.2847326+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executed DbCommand ("33"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""UPDATE `school_class` SET `is_current` = @p0
WHERE `id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T14:46:37.3648701+01:00 0HLSBJGVKDH9Q:00000004 [INF] La classe ha sido modificada como no vigente en la base de datos. (61aa67b0)
2019-12-28T14:46:37.4032027+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM `school_class_has_students`
WHERE `student_id` = @p0 AND `school_class_id` = @p1;
SELECT ROW_COUNT();" (0723d8ff)
2019-12-28T14:46:37.4891642+01:00 0HLSBJGVKDH9Q:00000004 [INF] Classe vigente con su asignatura y horarios recuperada de la base de datos. (da72e3cd)
2019-12-28T14:46:37.4948418+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-12-28T14:46:37.4999203+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executed action "AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)" in 314.0811ms (afa2e885)
2019-12-28T14:46:37.5041734+01:00 0HLSBJGVKDH9Q:00000004 [INF] Executed endpoint '"AttendanceControl.API.Controllers.SchoolClassController.SetNotCurrent (AttendanceControl.API)"' (99874f2b)
2019-12-28T14:46:37.5093747+01:00 0HLSBJGVKDH9Q:00000004 [INF] Request finished in 340.2015ms 200 application/json; charset=utf-8 (791a596a)
2019-12-28T14:49:38.4125412+01:00  [INF] Application is shutting down... (90f52c38)
